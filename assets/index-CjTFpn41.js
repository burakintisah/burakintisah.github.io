function uI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function dI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s_={exports:{}},wu={},o_={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Va=Symbol.for("react.element"),hI=Symbol.for("react.portal"),fI=Symbol.for("react.fragment"),pI=Symbol.for("react.strict_mode"),mI=Symbol.for("react.profiler"),gI=Symbol.for("react.provider"),yI=Symbol.for("react.context"),vI=Symbol.for("react.forward_ref"),xI=Symbol.for("react.suspense"),wI=Symbol.for("react.memo"),_I=Symbol.for("react.lazy"),qy=Symbol.iterator;function TI(t){return t===null||typeof t!="object"?null:(t=qy&&t[qy]||t["@@iterator"],typeof t=="function"?t:null)}var a_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l_=Object.assign,c_={};function Bs(t,e,n){this.props=t,this.context=e,this.refs=c_,this.updater=n||a_}Bs.prototype.isReactComponent={};Bs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function u_(){}u_.prototype=Bs.prototype;function Tp(t,e,n){this.props=t,this.context=e,this.refs=c_,this.updater=n||a_}var kp=Tp.prototype=new u_;kp.constructor=Tp;l_(kp,Bs.prototype);kp.isPureReactComponent=!0;var Gy=Array.isArray,d_=Object.prototype.hasOwnProperty,Ep={current:null},h_={key:!0,ref:!0,__self:!0,__source:!0};function f_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)d_.call(e,r)&&!h_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Va,type:t,key:s,ref:o,props:i,_owner:Ep.current}}function kI(t,e){return{$$typeof:Va,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Va}function EI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ky=/\/+/g;function jd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EI(""+t.key):e.toString(36)}function Yl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Va:case hI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+jd(o,0):r,Gy(i)?(n="",t!=null&&(n=t.replace(Ky,"$&/")+"/"),Yl(i,e,n,"",function(u){return u})):i!=null&&(bp(i)&&(i=kI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ky,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Gy(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+jd(s,a);o+=Yl(s,e,n,c,i)}else if(c=TI(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+jd(s,a++),o+=Yl(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wl(t,e,n){if(t==null)return t;var r=[],i=0;return Yl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function bI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xt={current:null},Xl={transition:null},SI={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:Xl,ReactCurrentOwner:Ep};function p_(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:wl,forEach:function(t,e,n){wl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wl(t,function(){e++}),e},toArray:function(t){return wl(t,function(e){return e})||[]},only:function(t){if(!bp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=Bs;re.Fragment=fI;re.Profiler=mI;re.PureComponent=Tp;re.StrictMode=pI;re.Suspense=xI;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SI;re.act=p_;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=l_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ep.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)d_.call(e,c)&&!h_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Va,type:t.type,key:i,ref:s,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:yI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gI,_context:t},t.Consumer=t};re.createElement=f_;re.createFactory=function(t){var e=f_.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:vI,render:t}};re.isValidElement=bp;re.lazy=function(t){return{$$typeof:_I,_payload:{_status:-1,_result:t},_init:bI}};re.memo=function(t,e){return{$$typeof:wI,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=Xl.transition;Xl.transition={};try{t()}finally{Xl.transition=e}};re.unstable_act=p_;re.useCallback=function(t,e){return xt.current.useCallback(t,e)};re.useContext=function(t){return xt.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return xt.current.useDeferredValue(t)};re.useEffect=function(t,e){return xt.current.useEffect(t,e)};re.useId=function(){return xt.current.useId()};re.useImperativeHandle=function(t,e,n){return xt.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return xt.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return xt.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return xt.current.useMemo(t,e)};re.useReducer=function(t,e,n){return xt.current.useReducer(t,e,n)};re.useRef=function(t){return xt.current.useRef(t)};re.useState=function(t){return xt.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return xt.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return xt.current.useTransition()};re.version="18.3.1";o_.exports=re;var R=o_.exports;const m_=dI(R),II=uI({__proto__:null,default:m_},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AI=R,CI=Symbol.for("react.element"),PI=Symbol.for("react.fragment"),NI=Object.prototype.hasOwnProperty,RI=AI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DI={key:!0,ref:!0,__self:!0,__source:!0};function g_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)NI.call(e,r)&&!DI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:CI,type:t,key:s,ref:o,props:i,_owner:RI.current}}wu.Fragment=PI;wu.jsx=g_;wu.jsxs=g_;s_.exports=wu;var d=s_.exports,y_={exports:{}},Ft={},v_={exports:{}},x_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,K){var X=z.length;z.push(K);e:for(;0<X;){var Te=X-1>>>1,de=z[Te];if(0<i(de,K))z[Te]=K,z[X]=de,X=Te;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var K=z[0],X=z.pop();if(X!==K){z[0]=X;e:for(var Te=0,de=z.length,Ne=de>>>1;Te<Ne;){var Sn=2*(Te+1)-1,In=z[Sn],An=Sn+1,Cn=z[An];if(0>i(In,X))An<de&&0>i(Cn,In)?(z[Te]=Cn,z[An]=X,Te=An):(z[Te]=In,z[Sn]=X,Te=Sn);else if(An<de&&0>i(Cn,X))z[Te]=Cn,z[An]=X,Te=An;else break e}}return K}function i(z,K){var X=z.sortIndex-K.sortIndex;return X!==0?X:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,p=null,m=3,y=!1,x=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=z)r(u),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(u)}}function j(z){if(E=!1,w(z),!x)if(n(c)!==null)x=!0,Jr(M);else{var K=n(u);K!==null&&me(j,K.startTime-z)}}function M(z,K){x=!1,E&&(E=!1,T(_),_=-1),y=!0;var X=m;try{for(w(K),p=n(c);p!==null&&(!(p.expirationTime>K)||z&&!N());){var Te=p.callback;if(typeof Te=="function"){p.callback=null,m=p.priorityLevel;var de=Te(p.expirationTime<=K);K=t.unstable_now(),typeof de=="function"?p.callback=de:p===n(c)&&r(c),w(K)}else r(c);p=n(c)}if(p!==null)var Ne=!0;else{var Sn=n(u);Sn!==null&&me(j,Sn.startTime-K),Ne=!1}return Ne}finally{p=null,m=X,y=!1}}var F=!1,b=null,_=-1,I=5,A=-1;function N(){return!(t.unstable_now()-A<I)}function P(){if(b!==null){var z=t.unstable_now();A=z;var K=!0;try{K=b(!0,z)}finally{K?C():(F=!1,b=null)}}else F=!1}var C;if(typeof v=="function")C=function(){v(P)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,pt=fe.port2;fe.port1.onmessage=P,C=function(){pt.postMessage(null)}}else C=function(){S(P,0)};function Jr(z){b=z,F||(F=!0,C())}function me(z,K){_=S(function(){z(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,Jr(M))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var X=m;m=K;try{return z()}finally{m=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=m;m=z;try{return K()}finally{m=X}},t.unstable_scheduleCallback=function(z,K,X){var Te=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Te+X:Te):X=Te,z){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=X+de,z={id:h++,callback:K,priorityLevel:z,startTime:X,expirationTime:de,sortIndex:-1},X>Te?(z.sortIndex=X,e(u,z),n(c)===null&&z===n(u)&&(E?(T(_),_=-1):E=!0,me(j,X-Te))):(z.sortIndex=de,e(c,z),x||y||(x=!0,Jr(M))),z},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(z){var K=m;return function(){var X=m;m=K;try{return z.apply(this,arguments)}finally{m=X}}}})(x_);v_.exports=x_;var jI=v_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VI=R,Lt=jI;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w_=new Set,Zo={};function Ni(t,e){Ts(t,e),Ts(t+"Capture",e)}function Ts(t,e){for(Zo[t]=e,t=0;t<e.length;t++)w_.add(e[t])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jh=Object.prototype.hasOwnProperty,MI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qy={},Yy={};function LI(t){return jh.call(Yy,t)?!0:jh.call(Qy,t)?!1:MI.test(t)?Yy[t]=!0:(Qy[t]=!0,!1)}function OI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function FI(t,e,n,r){if(e===null||typeof e>"u"||OI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sp=/[\-:]([a-z])/g;function Ip(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sp,Ip);Je[e]=new wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sp,Ip);Je[e]=new wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sp,Ip);Je[e]=new wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new wt(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ap(t,e,n,r){var i=Je.hasOwnProperty(e)?Je[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(FI(e,n,i,r)&&(n=null),r||i===null?LI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zn=VI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_l=Symbol.for("react.element"),Ki=Symbol.for("react.portal"),Qi=Symbol.for("react.fragment"),Cp=Symbol.for("react.strict_mode"),Vh=Symbol.for("react.profiler"),__=Symbol.for("react.provider"),T_=Symbol.for("react.context"),Pp=Symbol.for("react.forward_ref"),Mh=Symbol.for("react.suspense"),Lh=Symbol.for("react.suspense_list"),Np=Symbol.for("react.memo"),ar=Symbol.for("react.lazy"),k_=Symbol.for("react.offscreen"),Xy=Symbol.iterator;function po(t){return t===null||typeof t!="object"?null:(t=Xy&&t[Xy]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,Vd;function Eo(t){if(Vd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vd=e&&e[1]||""}return`
`+Vd+t}var Md=!1;function Ld(t,e){if(!t||Md)return"";Md=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Md=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Eo(t):""}function UI(t){switch(t.tag){case 5:return Eo(t.type);case 16:return Eo("Lazy");case 13:return Eo("Suspense");case 19:return Eo("SuspenseList");case 0:case 2:case 15:return t=Ld(t.type,!1),t;case 11:return t=Ld(t.type.render,!1),t;case 1:return t=Ld(t.type,!0),t;default:return""}}function Oh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qi:return"Fragment";case Ki:return"Portal";case Vh:return"Profiler";case Cp:return"StrictMode";case Mh:return"Suspense";case Lh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case T_:return(t.displayName||"Context")+".Consumer";case __:return(t._context.displayName||"Context")+".Provider";case Pp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Np:return e=t.displayName||null,e!==null?e:Oh(t.type)||"Memo";case ar:e=t._payload,t=t._init;try{return Oh(t(e))}catch{}}return null}function BI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oh(e);case 8:return e===Cp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function E_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zI(t){var e=E_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tl(t){t._valueTracker||(t._valueTracker=zI(t))}function b_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=E_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fh(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=jr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function S_(t,e){e=e.checked,e!=null&&Ap(t,"checked",e,!1)}function Uh(t,e){S_(t,e);var n=jr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bh(t,e.type,jr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bh(t,e,n){(e!=="number"||Tc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bo=Array.isArray;function hs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function e0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(bo(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jr(n)}}function I_(t,e){var n=jr(e.value),r=jr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function t0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function A_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $h(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?A_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kl,C_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kl=kl||document.createElement("div"),kl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ea(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$I=["Webkit","ms","Moz","O"];Object.keys(jo).forEach(function(t){$I.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jo[e]=jo[t]})});function P_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jo.hasOwnProperty(t)&&jo[t]?(""+e).trim():e+"px"}function N_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=P_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var HI=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hh(t,e){if(e){if(HI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Wh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qh=null;function Rp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gh=null,fs=null,ps=null;function n0(t){if(t=Oa(t)){if(typeof Gh!="function")throw Error(U(280));var e=t.stateNode;e&&(e=bu(e),Gh(t.stateNode,t.type,e))}}function R_(t){fs?ps?ps.push(t):ps=[t]:fs=t}function D_(){if(fs){var t=fs,e=ps;if(ps=fs=null,n0(t),e)for(t=0;t<e.length;t++)n0(e[t])}}function j_(t,e){return t(e)}function V_(){}var Od=!1;function M_(t,e,n){if(Od)return t(e,n);Od=!0;try{return j_(t,e,n)}finally{Od=!1,(fs!==null||ps!==null)&&(V_(),D_())}}function ta(t,e){var n=t.stateNode;if(n===null)return null;var r=bu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Kh=!1;if($n)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){Kh=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{Kh=!1}function WI(t,e,n,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Vo=!1,kc=null,Ec=!1,Qh=null,qI={onError:function(t){Vo=!0,kc=t}};function GI(t,e,n,r,i,s,o,a,c){Vo=!1,kc=null,WI.apply(qI,arguments)}function KI(t,e,n,r,i,s,o,a,c){if(GI.apply(this,arguments),Vo){if(Vo){var u=kc;Vo=!1,kc=null}else throw Error(U(198));Ec||(Ec=!0,Qh=u)}}function Ri(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function L_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function r0(t){if(Ri(t)!==t)throw Error(U(188))}function QI(t){var e=t.alternate;if(!e){if(e=Ri(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return r0(i),t;if(s===r)return r0(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function O_(t){return t=QI(t),t!==null?F_(t):null}function F_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=F_(t);if(e!==null)return e;t=t.sibling}return null}var U_=Lt.unstable_scheduleCallback,i0=Lt.unstable_cancelCallback,YI=Lt.unstable_shouldYield,XI=Lt.unstable_requestPaint,je=Lt.unstable_now,JI=Lt.unstable_getCurrentPriorityLevel,Dp=Lt.unstable_ImmediatePriority,B_=Lt.unstable_UserBlockingPriority,bc=Lt.unstable_NormalPriority,ZI=Lt.unstable_LowPriority,z_=Lt.unstable_IdlePriority,_u=null,yn=null;function eA(t){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(_u,t,void 0,(t.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:rA,tA=Math.log,nA=Math.LN2;function rA(t){return t>>>=0,t===0?32:31-(tA(t)/nA|0)|0}var El=64,bl=4194304;function So(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=So(a):(s&=o,s!==0&&(r=So(s)))}else o=n&~i,o!==0?r=So(o):s!==0&&(r=So(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-on(e),i=1<<n,r|=t[n],e&=~i;return r}function iA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-on(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=iA(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function Yh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $_(){var t=El;return El<<=1,!(El&4194240)&&(El=64),t}function Fd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ma(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-on(e),t[e]=n}function oA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-on(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function jp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-on(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ue=0;function H_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var W_,Vp,q_,G_,K_,Xh=!1,Sl=[],xr=null,wr=null,_r=null,na=new Map,ra=new Map,cr=[],aA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function s0(t,e){switch(t){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":na.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ra.delete(e.pointerId)}}function go(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Oa(e),e!==null&&Vp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function lA(t,e,n,r,i){switch(e){case"focusin":return xr=go(xr,t,e,n,r,i),!0;case"dragenter":return wr=go(wr,t,e,n,r,i),!0;case"mouseover":return _r=go(_r,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return na.set(s,go(na.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ra.set(s,go(ra.get(s)||null,t,e,n,r,i)),!0}return!1}function Q_(t){var e=di(t.target);if(e!==null){var n=Ri(e);if(n!==null){if(e=n.tag,e===13){if(e=L_(n),e!==null){t.blockedOn=e,K_(t.priority,function(){q_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qh=r,n.target.dispatchEvent(r),qh=null}else return e=Oa(n),e!==null&&Vp(e),t.blockedOn=n,!1;e.shift()}return!0}function o0(t,e,n){Jl(t)&&n.delete(e)}function cA(){Xh=!1,xr!==null&&Jl(xr)&&(xr=null),wr!==null&&Jl(wr)&&(wr=null),_r!==null&&Jl(_r)&&(_r=null),na.forEach(o0),ra.forEach(o0)}function yo(t,e){t.blockedOn===e&&(t.blockedOn=null,Xh||(Xh=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,cA)))}function ia(t){function e(i){return yo(i,t)}if(0<Sl.length){yo(Sl[0],t);for(var n=1;n<Sl.length;n++){var r=Sl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xr!==null&&yo(xr,t),wr!==null&&yo(wr,t),_r!==null&&yo(_r,t),na.forEach(e),ra.forEach(e),n=0;n<cr.length;n++)r=cr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<cr.length&&(n=cr[0],n.blockedOn===null);)Q_(n),n.blockedOn===null&&cr.shift()}var ms=Zn.ReactCurrentBatchConfig,Ic=!0;function uA(t,e,n,r){var i=ue,s=ms.transition;ms.transition=null;try{ue=1,Mp(t,e,n,r)}finally{ue=i,ms.transition=s}}function dA(t,e,n,r){var i=ue,s=ms.transition;ms.transition=null;try{ue=4,Mp(t,e,n,r)}finally{ue=i,ms.transition=s}}function Mp(t,e,n,r){if(Ic){var i=Jh(t,e,n,r);if(i===null)Qd(t,e,r,Ac,n),s0(t,r);else if(lA(i,t,e,n,r))r.stopPropagation();else if(s0(t,r),e&4&&-1<aA.indexOf(t)){for(;i!==null;){var s=Oa(i);if(s!==null&&W_(s),s=Jh(t,e,n,r),s===null&&Qd(t,e,r,Ac,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Qd(t,e,r,null,n)}}var Ac=null;function Jh(t,e,n,r){if(Ac=null,t=Rp(r),t=di(t),t!==null)if(e=Ri(t),e===null)t=null;else if(n=e.tag,n===13){if(t=L_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ac=t,null}function Y_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JI()){case Dp:return 1;case B_:return 4;case bc:case ZI:return 16;case z_:return 536870912;default:return 16}default:return 16}}var mr=null,Lp=null,Zl=null;function X_(){if(Zl)return Zl;var t,e=Lp,n=e.length,r,i="value"in mr?mr.value:mr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zl=i.slice(t,1<r?1-r:void 0)}function ec(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Il(){return!0}function a0(){return!1}function Ut(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Il:a0,this.isPropagationStopped=a0,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),e}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Op=Ut(zs),La=Se({},zs,{view:0,detail:0}),hA=Ut(La),Ud,Bd,vo,Tu=Se({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vo&&(vo&&t.type==="mousemove"?(Ud=t.screenX-vo.screenX,Bd=t.screenY-vo.screenY):Bd=Ud=0,vo=t),Ud)},movementY:function(t){return"movementY"in t?t.movementY:Bd}}),l0=Ut(Tu),fA=Se({},Tu,{dataTransfer:0}),pA=Ut(fA),mA=Se({},La,{relatedTarget:0}),zd=Ut(mA),gA=Se({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),yA=Ut(gA),vA=Se({},zs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xA=Ut(vA),wA=Se({},zs,{data:0}),c0=Ut(wA),_A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kA[t])?!!e[t]:!1}function Fp(){return EA}var bA=Se({},La,{key:function(t){if(t.key){var e=_A[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ec(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fp,charCode:function(t){return t.type==="keypress"?ec(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ec(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SA=Ut(bA),IA=Se({},Tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u0=Ut(IA),AA=Se({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fp}),CA=Ut(AA),PA=Se({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),NA=Ut(PA),RA=Se({},Tu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DA=Ut(RA),jA=[9,13,27,32],Up=$n&&"CompositionEvent"in window,Mo=null;$n&&"documentMode"in document&&(Mo=document.documentMode);var VA=$n&&"TextEvent"in window&&!Mo,J_=$n&&(!Up||Mo&&8<Mo&&11>=Mo),d0=" ",h0=!1;function Z_(t,e){switch(t){case"keyup":return jA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yi=!1;function MA(t,e){switch(t){case"compositionend":return e1(e);case"keypress":return e.which!==32?null:(h0=!0,d0);case"textInput":return t=e.data,t===d0&&h0?null:t;default:return null}}function LA(t,e){if(Yi)return t==="compositionend"||!Up&&Z_(t,e)?(t=X_(),Zl=Lp=mr=null,Yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return J_&&e.locale!=="ko"?null:e.data;default:return null}}var OA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OA[t.type]:e==="textarea"}function t1(t,e,n,r){R_(r),e=Cc(e,"onChange"),0<e.length&&(n=new Op("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Lo=null,sa=null;function FA(t){h1(t,0)}function ku(t){var e=Zi(t);if(b_(e))return t}function UA(t,e){if(t==="change")return e}var n1=!1;if($n){var $d;if($n){var Hd="oninput"in document;if(!Hd){var p0=document.createElement("div");p0.setAttribute("oninput","return;"),Hd=typeof p0.oninput=="function"}$d=Hd}else $d=!1;n1=$d&&(!document.documentMode||9<document.documentMode)}function m0(){Lo&&(Lo.detachEvent("onpropertychange",r1),sa=Lo=null)}function r1(t){if(t.propertyName==="value"&&ku(sa)){var e=[];t1(e,sa,t,Rp(t)),M_(FA,e)}}function BA(t,e,n){t==="focusin"?(m0(),Lo=e,sa=n,Lo.attachEvent("onpropertychange",r1)):t==="focusout"&&m0()}function zA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(sa)}function $A(t,e){if(t==="click")return ku(e)}function HA(t,e){if(t==="input"||t==="change")return ku(e)}function WA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ln=typeof Object.is=="function"?Object.is:WA;function oa(t,e){if(ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!jh.call(e,i)||!ln(t[i],e[i]))return!1}return!0}function g0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function y0(t,e){var n=g0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=g0(n)}}function i1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?i1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function s1(){for(var t=window,e=Tc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tc(t.document)}return e}function Bp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qA(t){var e=s1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&i1(n.ownerDocument.documentElement,n)){if(r!==null&&Bp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=y0(n,s);var o=y0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GA=$n&&"documentMode"in document&&11>=document.documentMode,Xi=null,Zh=null,Oo=null,ef=!1;function v0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ef||Xi==null||Xi!==Tc(r)||(r=Xi,"selectionStart"in r&&Bp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oo&&oa(Oo,r)||(Oo=r,r=Cc(Zh,"onSelect"),0<r.length&&(e=new Op("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xi)))}function Al(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ji={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionend:Al("Transition","TransitionEnd")},Wd={},o1={};$n&&(o1=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function Eu(t){if(Wd[t])return Wd[t];if(!Ji[t])return t;var e=Ji[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in o1)return Wd[t]=e[n];return t}var a1=Eu("animationend"),l1=Eu("animationiteration"),c1=Eu("animationstart"),u1=Eu("transitionend"),d1=new Map,x0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(t,e){d1.set(t,e),Ni(e,[t])}for(var qd=0;qd<x0.length;qd++){var Gd=x0[qd],KA=Gd.toLowerCase(),QA=Gd[0].toUpperCase()+Gd.slice(1);Hr(KA,"on"+QA)}Hr(a1,"onAnimationEnd");Hr(l1,"onAnimationIteration");Hr(c1,"onAnimationStart");Hr("dblclick","onDoubleClick");Hr("focusin","onFocus");Hr("focusout","onBlur");Hr(u1,"onTransitionEnd");Ts("onMouseEnter",["mouseout","mouseover"]);Ts("onMouseLeave",["mouseout","mouseover"]);Ts("onPointerEnter",["pointerout","pointerover"]);Ts("onPointerLeave",["pointerout","pointerover"]);Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Io));function w0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,KI(r,e,void 0,t),t.currentTarget=null}function h1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;w0(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;w0(i,a,u),s=c}}}if(Ec)throw t=Qh,Ec=!1,Qh=null,t}function ye(t,e){var n=e[of];n===void 0&&(n=e[of]=new Set);var r=t+"__bubble";n.has(r)||(f1(e,t,2,!1),n.add(r))}function Kd(t,e,n){var r=0;e&&(r|=4),f1(n,t,r,e)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function aa(t){if(!t[Cl]){t[Cl]=!0,w_.forEach(function(n){n!=="selectionchange"&&(YA.has(n)||Kd(n,!1,t),Kd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cl]||(e[Cl]=!0,Kd("selectionchange",!1,e))}}function f1(t,e,n,r){switch(Y_(e)){case 1:var i=uA;break;case 4:i=dA;break;default:i=Mp}n=i.bind(null,e,n,t),i=void 0,!Kh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=di(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}M_(function(){var u=s,h=Rp(n),p=[];e:{var m=d1.get(t);if(m!==void 0){var y=Op,x=t;switch(t){case"keypress":if(ec(n)===0)break e;case"keydown":case"keyup":y=SA;break;case"focusin":x="focus",y=zd;break;case"focusout":x="blur",y=zd;break;case"beforeblur":case"afterblur":y=zd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=l0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=pA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=CA;break;case a1:case l1:case c1:y=yA;break;case u1:y=NA;break;case"scroll":y=hA;break;case"wheel":y=DA;break;case"copy":case"cut":case"paste":y=xA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=u0}var E=(e&4)!==0,S=!E&&t==="scroll",T=E?m!==null?m+"Capture":null:m;E=[];for(var v=u,w;v!==null;){w=v;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,T!==null&&(j=ta(v,T),j!=null&&E.push(la(v,j,w)))),S)break;v=v.return}0<E.length&&(m=new y(m,x,null,n,h),p.push({event:m,listeners:E}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==qh&&(x=n.relatedTarget||n.fromElement)&&(di(x)||x[Hn]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=u,x=x?di(x):null,x!==null&&(S=Ri(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(E=l0,j="onMouseLeave",T="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(E=u0,j="onPointerLeave",T="onPointerEnter",v="pointer"),S=y==null?m:Zi(y),w=x==null?m:Zi(x),m=new E(j,v+"leave",y,n,h),m.target=S,m.relatedTarget=w,j=null,di(h)===u&&(E=new E(T,v+"enter",x,n,h),E.target=w,E.relatedTarget=S,j=E),S=j,y&&x)t:{for(E=y,T=x,v=0,w=E;w;w=zi(w))v++;for(w=0,j=T;j;j=zi(j))w++;for(;0<v-w;)E=zi(E),v--;for(;0<w-v;)T=zi(T),w--;for(;v--;){if(E===T||T!==null&&E===T.alternate)break t;E=zi(E),T=zi(T)}E=null}else E=null;y!==null&&_0(p,m,y,E,!1),x!==null&&S!==null&&_0(p,S,x,E,!0)}}e:{if(m=u?Zi(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var M=UA;else if(f0(m))if(n1)M=HA;else{M=zA;var F=BA}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=$A);if(M&&(M=M(t,u))){t1(p,M,n,h);break e}F&&F(t,m,u),t==="focusout"&&(F=m._wrapperState)&&F.controlled&&m.type==="number"&&Bh(m,"number",m.value)}switch(F=u?Zi(u):window,t){case"focusin":(f0(F)||F.contentEditable==="true")&&(Xi=F,Zh=u,Oo=null);break;case"focusout":Oo=Zh=Xi=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,v0(p,n,h);break;case"selectionchange":if(GA)break;case"keydown":case"keyup":v0(p,n,h)}var b;if(Up)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Yi?Z_(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(J_&&n.locale!=="ko"&&(Yi||_!=="onCompositionStart"?_==="onCompositionEnd"&&Yi&&(b=X_()):(mr=h,Lp="value"in mr?mr.value:mr.textContent,Yi=!0)),F=Cc(u,_),0<F.length&&(_=new c0(_,t,null,n,h),p.push({event:_,listeners:F}),b?_.data=b:(b=e1(n),b!==null&&(_.data=b)))),(b=VA?MA(t,n):LA(t,n))&&(u=Cc(u,"onBeforeInput"),0<u.length&&(h=new c0("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=b))}h1(p,e)})}function la(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ta(t,n),s!=null&&r.unshift(la(t,s,i)),s=ta(t,e),s!=null&&r.push(la(t,s,i))),t=t.return}return r}function zi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=ta(n,s),c!=null&&o.unshift(la(n,c,a))):i||(c=ta(n,s),c!=null&&o.push(la(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var XA=/\r\n?/g,JA=/\u0000|\uFFFD/g;function T0(t){return(typeof t=="string"?t:""+t).replace(XA,`
`).replace(JA,"")}function Pl(t,e,n){if(e=T0(e),T0(t)!==e&&n)throw Error(U(425))}function Pc(){}var tf=null,nf=null;function rf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sf=typeof setTimeout=="function"?setTimeout:void 0,ZA=typeof clearTimeout=="function"?clearTimeout:void 0,k0=typeof Promise=="function"?Promise:void 0,eC=typeof queueMicrotask=="function"?queueMicrotask:typeof k0<"u"?function(t){return k0.resolve(null).then(t).catch(tC)}:sf;function tC(t){setTimeout(function(){throw t})}function Yd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ia(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ia(e)}function Tr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function E0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $s=Math.random().toString(36).slice(2),mn="__reactFiber$"+$s,ca="__reactProps$"+$s,Hn="__reactContainer$"+$s,of="__reactEvents$"+$s,nC="__reactListeners$"+$s,rC="__reactHandles$"+$s;function di(t){var e=t[mn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hn]||n[mn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=E0(t);t!==null;){if(n=t[mn])return n;t=E0(t)}return e}t=n,n=t.parentNode}return null}function Oa(t){return t=t[mn]||t[Hn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function bu(t){return t[ca]||null}var af=[],es=-1;function Wr(t){return{current:t}}function xe(t){0>es||(t.current=af[es],af[es]=null,es--)}function pe(t,e){es++,af[es]=t.current,t.current=e}var Vr={},dt=Wr(Vr),It=Wr(!1),wi=Vr;function ks(t,e){var n=t.type.contextTypes;if(!n)return Vr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function At(t){return t=t.childContextTypes,t!=null}function Nc(){xe(It),xe(dt)}function b0(t,e,n){if(dt.current!==Vr)throw Error(U(168));pe(dt,e),pe(It,n)}function p1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,BI(t)||"Unknown",i));return Se({},n,r)}function Rc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vr,wi=dt.current,pe(dt,t),pe(It,It.current),!0}function S0(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=p1(t,e,wi),r.__reactInternalMemoizedMergedChildContext=t,xe(It),xe(dt),pe(dt,t)):xe(It),pe(It,n)}var jn=null,Su=!1,Xd=!1;function m1(t){jn===null?jn=[t]:jn.push(t)}function iC(t){Su=!0,m1(t)}function qr(){if(!Xd&&jn!==null){Xd=!0;var t=0,e=ue;try{var n=jn;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jn=null,Su=!1}catch(i){throw jn!==null&&(jn=jn.slice(t+1)),U_(Dp,qr),i}finally{ue=e,Xd=!1}}return null}var ts=[],ns=0,Dc=null,jc=0,$t=[],Ht=0,_i=null,Mn=1,Ln="";function ii(t,e){ts[ns++]=jc,ts[ns++]=Dc,Dc=t,jc=e}function g1(t,e,n){$t[Ht++]=Mn,$t[Ht++]=Ln,$t[Ht++]=_i,_i=t;var r=Mn;t=Ln;var i=32-on(r)-1;r&=~(1<<i),n+=1;var s=32-on(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mn=1<<32-on(e)+i|n<<i|r,Ln=s+t}else Mn=1<<s|n<<i|r,Ln=t}function zp(t){t.return!==null&&(ii(t,1),g1(t,1,0))}function $p(t){for(;t===Dc;)Dc=ts[--ns],ts[ns]=null,jc=ts[--ns],ts[ns]=null;for(;t===_i;)_i=$t[--Ht],$t[Ht]=null,Ln=$t[--Ht],$t[Ht]=null,Mn=$t[--Ht],$t[Ht]=null}var Vt=null,Dt=null,_e=!1,rn=null;function y1(t,e){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function I0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,Dt=Tr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_i!==null?{id:Mn,overflow:Ln}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,Dt=null,!0):!1;default:return!1}}function lf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cf(t){if(_e){var e=Dt;if(e){var n=e;if(!I0(t,e)){if(lf(t))throw Error(U(418));e=Tr(n.nextSibling);var r=Vt;e&&I0(t,e)?y1(r,n):(t.flags=t.flags&-4097|2,_e=!1,Vt=t)}}else{if(lf(t))throw Error(U(418));t.flags=t.flags&-4097|2,_e=!1,Vt=t}}}function A0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function Nl(t){if(t!==Vt)return!1;if(!_e)return A0(t),_e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rf(t.type,t.memoizedProps)),e&&(e=Dt)){if(lf(t))throw v1(),Error(U(418));for(;e;)y1(t,e),e=Tr(e.nextSibling)}if(A0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=Tr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=Vt?Tr(t.stateNode.nextSibling):null;return!0}function v1(){for(var t=Dt;t;)t=Tr(t.nextSibling)}function Es(){Dt=Vt=null,_e=!1}function Hp(t){rn===null?rn=[t]:rn.push(t)}var sC=Zn.ReactCurrentBatchConfig;function xo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Rl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function C0(t){var e=t._init;return e(t._payload)}function x1(t){function e(T,v){if(t){var w=T.deletions;w===null?(T.deletions=[v],T.flags|=16):w.push(v)}}function n(T,v){if(!t)return null;for(;v!==null;)e(T,v),v=v.sibling;return null}function r(T,v){for(T=new Map;v!==null;)v.key!==null?T.set(v.key,v):T.set(v.index,v),v=v.sibling;return T}function i(T,v){return T=Sr(T,v),T.index=0,T.sibling=null,T}function s(T,v,w){return T.index=w,t?(w=T.alternate,w!==null?(w=w.index,w<v?(T.flags|=2,v):w):(T.flags|=2,v)):(T.flags|=1048576,v)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,v,w,j){return v===null||v.tag!==6?(v=ih(w,T.mode,j),v.return=T,v):(v=i(v,w),v.return=T,v)}function c(T,v,w,j){var M=w.type;return M===Qi?h(T,v,w.props.children,j,w.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ar&&C0(M)===v.type)?(j=i(v,w.props),j.ref=xo(T,v,w),j.return=T,j):(j=ac(w.type,w.key,w.props,null,T.mode,j),j.ref=xo(T,v,w),j.return=T,j)}function u(T,v,w,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=sh(w,T.mode,j),v.return=T,v):(v=i(v,w.children||[]),v.return=T,v)}function h(T,v,w,j,M){return v===null||v.tag!==7?(v=yi(w,T.mode,j,M),v.return=T,v):(v=i(v,w),v.return=T,v)}function p(T,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ih(""+v,T.mode,w),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _l:return w=ac(v.type,v.key,v.props,null,T.mode,w),w.ref=xo(T,null,v),w.return=T,w;case Ki:return v=sh(v,T.mode,w),v.return=T,v;case ar:var j=v._init;return p(T,j(v._payload),w)}if(bo(v)||po(v))return v=yi(v,T.mode,w,null),v.return=T,v;Rl(T,v)}return null}function m(T,v,w,j){var M=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:a(T,v,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _l:return w.key===M?c(T,v,w,j):null;case Ki:return w.key===M?u(T,v,w,j):null;case ar:return M=w._init,m(T,v,M(w._payload),j)}if(bo(w)||po(w))return M!==null?null:h(T,v,w,j,null);Rl(T,w)}return null}function y(T,v,w,j,M){if(typeof j=="string"&&j!==""||typeof j=="number")return T=T.get(w)||null,a(v,T,""+j,M);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _l:return T=T.get(j.key===null?w:j.key)||null,c(v,T,j,M);case Ki:return T=T.get(j.key===null?w:j.key)||null,u(v,T,j,M);case ar:var F=j._init;return y(T,v,w,F(j._payload),M)}if(bo(j)||po(j))return T=T.get(w)||null,h(v,T,j,M,null);Rl(v,j)}return null}function x(T,v,w,j){for(var M=null,F=null,b=v,_=v=0,I=null;b!==null&&_<w.length;_++){b.index>_?(I=b,b=null):I=b.sibling;var A=m(T,b,w[_],j);if(A===null){b===null&&(b=I);break}t&&b&&A.alternate===null&&e(T,b),v=s(A,v,_),F===null?M=A:F.sibling=A,F=A,b=I}if(_===w.length)return n(T,b),_e&&ii(T,_),M;if(b===null){for(;_<w.length;_++)b=p(T,w[_],j),b!==null&&(v=s(b,v,_),F===null?M=b:F.sibling=b,F=b);return _e&&ii(T,_),M}for(b=r(T,b);_<w.length;_++)I=y(b,T,_,w[_],j),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?_:I.key),v=s(I,v,_),F===null?M=I:F.sibling=I,F=I);return t&&b.forEach(function(N){return e(T,N)}),_e&&ii(T,_),M}function E(T,v,w,j){var M=po(w);if(typeof M!="function")throw Error(U(150));if(w=M.call(w),w==null)throw Error(U(151));for(var F=M=null,b=v,_=v=0,I=null,A=w.next();b!==null&&!A.done;_++,A=w.next()){b.index>_?(I=b,b=null):I=b.sibling;var N=m(T,b,A.value,j);if(N===null){b===null&&(b=I);break}t&&b&&N.alternate===null&&e(T,b),v=s(N,v,_),F===null?M=N:F.sibling=N,F=N,b=I}if(A.done)return n(T,b),_e&&ii(T,_),M;if(b===null){for(;!A.done;_++,A=w.next())A=p(T,A.value,j),A!==null&&(v=s(A,v,_),F===null?M=A:F.sibling=A,F=A);return _e&&ii(T,_),M}for(b=r(T,b);!A.done;_++,A=w.next())A=y(b,T,_,A.value,j),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?_:A.key),v=s(A,v,_),F===null?M=A:F.sibling=A,F=A);return t&&b.forEach(function(P){return e(T,P)}),_e&&ii(T,_),M}function S(T,v,w,j){if(typeof w=="object"&&w!==null&&w.type===Qi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case _l:e:{for(var M=w.key,F=v;F!==null;){if(F.key===M){if(M=w.type,M===Qi){if(F.tag===7){n(T,F.sibling),v=i(F,w.props.children),v.return=T,T=v;break e}}else if(F.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ar&&C0(M)===F.type){n(T,F.sibling),v=i(F,w.props),v.ref=xo(T,F,w),v.return=T,T=v;break e}n(T,F);break}else e(T,F);F=F.sibling}w.type===Qi?(v=yi(w.props.children,T.mode,j,w.key),v.return=T,T=v):(j=ac(w.type,w.key,w.props,null,T.mode,j),j.ref=xo(T,v,w),j.return=T,T=j)}return o(T);case Ki:e:{for(F=w.key;v!==null;){if(v.key===F)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(T,v.sibling),v=i(v,w.children||[]),v.return=T,T=v;break e}else{n(T,v);break}else e(T,v);v=v.sibling}v=sh(w,T.mode,j),v.return=T,T=v}return o(T);case ar:return F=w._init,S(T,v,F(w._payload),j)}if(bo(w))return x(T,v,w,j);if(po(w))return E(T,v,w,j);Rl(T,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(T,v.sibling),v=i(v,w),v.return=T,T=v):(n(T,v),v=ih(w,T.mode,j),v.return=T,T=v),o(T)):n(T,v)}return S}var bs=x1(!0),w1=x1(!1),Vc=Wr(null),Mc=null,rs=null,Wp=null;function qp(){Wp=rs=Mc=null}function Gp(t){var e=Vc.current;xe(Vc),t._currentValue=e}function uf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gs(t,e){Mc=t,Wp=rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(St=!0),t.firstContext=null)}function Qt(t){var e=t._currentValue;if(Wp!==t)if(t={context:t,memoizedValue:e,next:null},rs===null){if(Mc===null)throw Error(U(308));rs=t,Mc.dependencies={lanes:0,firstContext:t}}else rs=rs.next=t;return e}var hi=null;function Kp(t){hi===null?hi=[t]:hi.push(t)}function _1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Kp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Wn(t,r)}function Wn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var lr=!1;function Qp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Un(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wn(t,n)}return i=r.interleaved,i===null?(e.next=e,Kp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wn(t,n)}function tc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jp(t,n)}}function P0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lc(t,e,n,r){var i=t.updateQueue;lr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,h=u=c=null,a=s;do{var m=a.lane,y=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,E=a;switch(m=e,y=n,E.tag){case 1:if(x=E.payload,typeof x=="function"){p=x.call(y,p,m);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=E.payload,m=typeof x=="function"?x.call(y,p,m):x,m==null)break e;p=Se({},p,m);break e;case 2:lr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=y,c=p):h=h.next=y,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ki|=o,t.lanes=o,t.memoizedState=p}}function N0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Fa={},vn=Wr(Fa),ua=Wr(Fa),da=Wr(Fa);function fi(t){if(t===Fa)throw Error(U(174));return t}function Yp(t,e){switch(pe(da,e),pe(ua,t),pe(vn,Fa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$h(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$h(e,t)}xe(vn),pe(vn,e)}function Ss(){xe(vn),xe(ua),xe(da)}function k1(t){fi(da.current);var e=fi(vn.current),n=$h(e,t.type);e!==n&&(pe(ua,t),pe(vn,n))}function Xp(t){ua.current===t&&(xe(vn),xe(ua))}var ke=Wr(0);function Oc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jd=[];function Jp(){for(var t=0;t<Jd.length;t++)Jd[t]._workInProgressVersionPrimary=null;Jd.length=0}var nc=Zn.ReactCurrentDispatcher,Zd=Zn.ReactCurrentBatchConfig,Ti=0,be=null,Fe=null,He=null,Fc=!1,Fo=!1,ha=0,oC=0;function rt(){throw Error(U(321))}function Zp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ln(t[n],e[n]))return!1;return!0}function em(t,e,n,r,i,s){if(Ti=s,be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nc.current=t===null||t.memoizedState===null?uC:dC,t=n(r,i),Fo){s=0;do{if(Fo=!1,ha=0,25<=s)throw Error(U(301));s+=1,He=Fe=null,e.updateQueue=null,nc.current=hC,t=n(r,i)}while(Fo)}if(nc.current=Uc,e=Fe!==null&&Fe.next!==null,Ti=0,He=Fe=be=null,Fc=!1,e)throw Error(U(300));return t}function tm(){var t=ha!==0;return ha=0,t}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?be.memoizedState=He=t:He=He.next=t,He}function Yt(){if(Fe===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var e=He===null?be.memoizedState:He.next;if(e!==null)He=e,Fe=t;else{if(t===null)throw Error(U(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},He===null?be.memoizedState=He=t:He=He.next=t}return He}function fa(t,e){return typeof e=="function"?e(t):e}function eh(t){var e=Yt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Fe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var h=u.lane;if((Ti&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=p,o=r):c=c.next=p,be.lanes|=h,ki|=h}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,ln(r,e.memoizedState)||(St=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,be.lanes|=s,ki|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function th(t){var e=Yt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ln(s,e.memoizedState)||(St=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function E1(){}function b1(t,e){var n=be,r=Yt(),i=e(),s=!ln(r.memoizedState,i);if(s&&(r.memoizedState=i,St=!0),r=r.queue,nm(A1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,pa(9,I1.bind(null,n,r,i,e),void 0,null),We===null)throw Error(U(349));Ti&30||S1(n,e,i)}return i}function S1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function I1(t,e,n,r){e.value=n,e.getSnapshot=r,C1(e)&&P1(t)}function A1(t,e,n){return n(function(){C1(e)&&P1(t)})}function C1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ln(t,n)}catch{return!0}}function P1(t){var e=Wn(t,1);e!==null&&an(e,t,1,-1)}function R0(t){var e=fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:t},e.queue=t,t=t.dispatch=cC.bind(null,be,t),[e.memoizedState,t]}function pa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function N1(){return Yt().memoizedState}function rc(t,e,n,r){var i=fn();be.flags|=t,i.memoizedState=pa(1|e,n,void 0,r===void 0?null:r)}function Iu(t,e,n,r){var i=Yt();r=r===void 0?null:r;var s=void 0;if(Fe!==null){var o=Fe.memoizedState;if(s=o.destroy,r!==null&&Zp(r,o.deps)){i.memoizedState=pa(e,n,s,r);return}}be.flags|=t,i.memoizedState=pa(1|e,n,s,r)}function D0(t,e){return rc(8390656,8,t,e)}function nm(t,e){return Iu(2048,8,t,e)}function R1(t,e){return Iu(4,2,t,e)}function D1(t,e){return Iu(4,4,t,e)}function j1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function V1(t,e,n){return n=n!=null?n.concat([t]):null,Iu(4,4,j1.bind(null,e,t),n)}function rm(){}function M1(t,e){var n=Yt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function L1(t,e){var n=Yt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function O1(t,e,n){return Ti&21?(ln(n,e)||(n=$_(),be.lanes|=n,ki|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,St=!0),t.memoizedState=n)}function aC(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=Zd.transition;Zd.transition={};try{t(!1),e()}finally{ue=n,Zd.transition=r}}function F1(){return Yt().memoizedState}function lC(t,e,n){var r=br(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},U1(t))B1(e,n);else if(n=_1(t,e,n,r),n!==null){var i=vt();an(n,t,r,i),z1(n,e,r)}}function cC(t,e,n){var r=br(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(U1(t))B1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ln(a,o)){var c=e.interleaved;c===null?(i.next=i,Kp(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=_1(t,e,i,r),n!==null&&(i=vt(),an(n,t,r,i),z1(n,e,r))}}function U1(t){var e=t.alternate;return t===be||e!==null&&e===be}function B1(t,e){Fo=Fc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function z1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jp(t,n)}}var Uc={readContext:Qt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},uC={readContext:Qt,useCallback:function(t,e){return fn().memoizedState=[t,e===void 0?null:e],t},useContext:Qt,useEffect:D0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rc(4194308,4,j1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rc(4194308,4,t,e)},useInsertionEffect:function(t,e){return rc(4,2,t,e)},useMemo:function(t,e){var n=fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=lC.bind(null,be,t),[r.memoizedState,t]},useRef:function(t){var e=fn();return t={current:t},e.memoizedState=t},useState:R0,useDebugValue:rm,useDeferredValue:function(t){return fn().memoizedState=t},useTransition:function(){var t=R0(!1),e=t[0];return t=aC.bind(null,t[1]),fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=be,i=fn();if(_e){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),We===null)throw Error(U(349));Ti&30||S1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,D0(A1.bind(null,r,s,t),[t]),r.flags|=2048,pa(9,I1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=fn(),e=We.identifierPrefix;if(_e){var n=Ln,r=Mn;n=(r&~(1<<32-on(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ha++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=oC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dC={readContext:Qt,useCallback:M1,useContext:Qt,useEffect:nm,useImperativeHandle:V1,useInsertionEffect:R1,useLayoutEffect:D1,useMemo:L1,useReducer:eh,useRef:N1,useState:function(){return eh(fa)},useDebugValue:rm,useDeferredValue:function(t){var e=Yt();return O1(e,Fe.memoizedState,t)},useTransition:function(){var t=eh(fa)[0],e=Yt().memoizedState;return[t,e]},useMutableSource:E1,useSyncExternalStore:b1,useId:F1,unstable_isNewReconciler:!1},hC={readContext:Qt,useCallback:M1,useContext:Qt,useEffect:nm,useImperativeHandle:V1,useInsertionEffect:R1,useLayoutEffect:D1,useMemo:L1,useReducer:th,useRef:N1,useState:function(){return th(fa)},useDebugValue:rm,useDeferredValue:function(t){var e=Yt();return Fe===null?e.memoizedState=t:O1(e,Fe.memoizedState,t)},useTransition:function(){var t=th(fa)[0],e=Yt().memoizedState;return[t,e]},useMutableSource:E1,useSyncExternalStore:b1,useId:F1,unstable_isNewReconciler:!1};function tn(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function df(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Au={isMounted:function(t){return(t=t._reactInternals)?Ri(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vt(),i=br(t),s=Un(r,i);s.payload=e,n!=null&&(s.callback=n),e=kr(t,s,i),e!==null&&(an(e,t,i,r),tc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vt(),i=br(t),s=Un(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=kr(t,s,i),e!==null&&(an(e,t,i,r),tc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vt(),r=br(t),i=Un(n,r);i.tag=2,e!=null&&(i.callback=e),e=kr(t,i,r),e!==null&&(an(e,t,r,n),tc(e,t,r))}};function j0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!oa(n,r)||!oa(i,s):!0}function $1(t,e,n){var r=!1,i=Vr,s=e.contextType;return typeof s=="object"&&s!==null?s=Qt(s):(i=At(e)?wi:dt.current,r=e.contextTypes,s=(r=r!=null)?ks(t,i):Vr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Au,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function V0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Au.enqueueReplaceState(e,e.state,null)}function hf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Qp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qt(s):(s=At(e)?wi:dt.current,i.context=ks(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(df(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Au.enqueueReplaceState(i,i.state,null),Lc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Is(t,e){try{var n="",r=e;do n+=UI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function nh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ff(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fC=typeof WeakMap=="function"?WeakMap:Map;function H1(t,e,n){n=Un(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zc||(zc=!0,kf=r),ff(t,e)},n}function W1(t,e,n){n=Un(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ff(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ff(t,e),typeof r!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function M0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=IC.bind(null,t,e,n),e.then(t,t))}function L0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function O0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Un(-1,1),e.tag=2,kr(n,e,1))),n.lanes|=1),t)}var pC=Zn.ReactCurrentOwner,St=!1;function yt(t,e,n,r){e.child=t===null?w1(e,null,n,r):bs(e,t.child,n,r)}function F0(t,e,n,r,i){n=n.render;var s=e.ref;return gs(e,i),r=em(t,e,n,r,s,i),n=tm(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qn(t,e,i)):(_e&&n&&zp(e),e.flags|=1,yt(t,e,r,i),e.child)}function U0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!dm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,q1(t,e,s,r,i)):(t=ac(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:oa,n(o,r)&&t.ref===e.ref)return qn(t,e,i)}return e.flags|=1,t=Sr(s,r),t.ref=e.ref,t.return=e,e.child=t}function q1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(oa(s,r)&&t.ref===e.ref)if(St=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(St=!0);else return e.lanes=t.lanes,qn(t,e,i)}return pf(t,e,n,r,i)}function G1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(ss,Rt),Rt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(ss,Rt),Rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pe(ss,Rt),Rt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,pe(ss,Rt),Rt|=r;return yt(t,e,i,n),e.child}function K1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pf(t,e,n,r,i){var s=At(n)?wi:dt.current;return s=ks(e,s),gs(e,i),n=em(t,e,n,r,s,i),r=tm(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qn(t,e,i)):(_e&&r&&zp(e),e.flags|=1,yt(t,e,n,i),e.child)}function B0(t,e,n,r,i){if(At(n)){var s=!0;Rc(e)}else s=!1;if(gs(e,i),e.stateNode===null)ic(t,e),$1(e,n,r),hf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qt(u):(u=At(n)?wi:dt.current,u=ks(e,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&V0(e,o,r,u),lr=!1;var m=e.memoizedState;o.state=m,Lc(e,r,o,i),c=e.memoizedState,a!==r||m!==c||It.current||lr?(typeof h=="function"&&(df(e,n,h,r),c=e.memoizedState),(a=lr||j0(e,n,a,r,m,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,T1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:tn(e.type,a),o.props=u,p=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Qt(c):(c=At(n)?wi:dt.current,c=ks(e,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==c)&&V0(e,o,r,c),lr=!1,m=e.memoizedState,o.state=m,Lc(e,r,o,i);var x=e.memoizedState;a!==p||m!==x||It.current||lr?(typeof y=="function"&&(df(e,n,y,r),x=e.memoizedState),(u=lr||j0(e,n,u,r,m,x,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return mf(t,e,n,r,s,i)}function mf(t,e,n,r,i,s){K1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&S0(e,n,!1),qn(t,e,s);r=e.stateNode,pC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bs(e,t.child,null,s),e.child=bs(e,null,a,s)):yt(t,e,a,s),e.memoizedState=r.state,i&&S0(e,n,!0),e.child}function Q1(t){var e=t.stateNode;e.pendingContext?b0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&b0(t,e.context,!1),Yp(t,e.containerInfo)}function z0(t,e,n,r,i){return Es(),Hp(i),e.flags|=256,yt(t,e,n,r),e.child}var gf={dehydrated:null,treeContext:null,retryLane:0};function yf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Y1(t,e,n){var r=e.pendingProps,i=ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pe(ke,i&1),t===null)return cf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Nu(o,r,0,null),t=yi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yf(n),e.memoizedState=gf,t):im(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return mC(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Sr(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Sr(a,s):(s=yi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?yf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=gf,r}return s=t.child,t=s.sibling,r=Sr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function im(t,e){return e=Nu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dl(t,e,n,r){return r!==null&&Hp(r),bs(e,t.child,null,n),t=im(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=nh(Error(U(422))),Dl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Nu({mode:"visible",children:r.children},i,0,null),s=yi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&bs(e,t.child,null,o),e.child.memoizedState=yf(o),e.memoizedState=gf,s);if(!(e.mode&1))return Dl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=nh(s,r,void 0),Dl(t,e,o,r)}if(a=(o&t.childLanes)!==0,St||a){if(r=We,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Wn(t,i),an(r,t,i,-1))}return um(),r=nh(Error(U(421))),Dl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=AC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dt=Tr(i.nextSibling),Vt=e,_e=!0,rn=null,t!==null&&($t[Ht++]=Mn,$t[Ht++]=Ln,$t[Ht++]=_i,Mn=t.id,Ln=t.overflow,_i=e),e=im(e,r.children),e.flags|=4096,e)}function $0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),uf(t.return,e,n)}function rh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function X1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(yt(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$0(t,n,e);else if(t.tag===19)$0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pe(ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Oc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Oc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rh(e,!0,n,null,s);break;case"together":rh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ic(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ki|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Sr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gC(t,e,n){switch(e.tag){case 3:Q1(e),Es();break;case 5:k1(e);break;case 1:At(e.type)&&Rc(e);break;case 4:Yp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pe(Vc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pe(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?Y1(t,e,n):(pe(ke,ke.current&1),t=qn(t,e,n),t!==null?t.sibling:null);pe(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return X1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,G1(t,e,n)}return qn(t,e,n)}var J1,vf,Z1,eT;J1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vf=function(){};Z1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fi(vn.current);var s=null;switch(n){case"input":i=Fh(t,i),r=Fh(t,r),s=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),s=[];break;case"textarea":i=zh(t,i),r=zh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Pc)}Hh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ye("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};eT=function(t,e,n,r){n!==r&&(e.flags|=4)};function wo(t,e){if(!_e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function it(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yC(t,e,n){var r=e.pendingProps;switch($p(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(e),null;case 1:return At(e.type)&&Nc(),it(e),null;case 3:return r=e.stateNode,Ss(),xe(It),xe(dt),Jp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rn!==null&&(Sf(rn),rn=null))),vf(t,e),it(e),null;case 5:Xp(e);var i=fi(da.current);if(n=e.type,t!==null&&e.stateNode!=null)Z1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return it(e),null}if(t=fi(vn.current),Nl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[mn]=e,r[ca]=s,t=(e.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(i=0;i<Io.length;i++)ye(Io[i],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":Jy(r,s),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ye("invalid",r);break;case"textarea":e0(r,s),ye("invalid",r)}Hh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Pl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Pl(r.textContent,a,t),i=["children",""+a]):Zo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ye("scroll",r)}switch(n){case"input":Tl(r),Zy(r,s,!0);break;case"textarea":Tl(r),t0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Pc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=A_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mn]=e,t[ca]=r,J1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wh(n,r),n){case"dialog":ye("cancel",t),ye("close",t),i=r;break;case"iframe":case"object":case"embed":ye("load",t),i=r;break;case"video":case"audio":for(i=0;i<Io.length;i++)ye(Io[i],t);i=r;break;case"source":ye("error",t),i=r;break;case"img":case"image":case"link":ye("error",t),ye("load",t),i=r;break;case"details":ye("toggle",t),i=r;break;case"input":Jy(t,r),i=Fh(t,r),ye("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),ye("invalid",t);break;case"textarea":e0(t,r),i=zh(t,r),ye("invalid",t);break;default:i=r}Hh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?N_(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&C_(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ea(t,c):typeof c=="number"&&ea(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zo.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ye("scroll",t):c!=null&&Ap(t,s,c,o))}switch(n){case"input":Tl(t),Zy(t,r,!1);break;case"textarea":Tl(t),t0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+jr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?hs(t,!!r.multiple,s,!1):r.defaultValue!=null&&hs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Pc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return it(e),null;case 6:if(t&&e.stateNode!=null)eT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=fi(da.current),fi(vn.current),Nl(e)){if(r=e.stateNode,n=e.memoizedProps,r[mn]=e,(s=r.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:Pl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mn]=e,e.stateNode=r}return it(e),null;case 13:if(xe(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_e&&Dt!==null&&e.mode&1&&!(e.flags&128))v1(),Es(),e.flags|=98560,s=!1;else if(s=Nl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[mn]=e}else Es(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;it(e),s=!1}else rn!==null&&(Sf(rn),rn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Ue===0&&(Ue=3):um())),e.updateQueue!==null&&(e.flags|=4),it(e),null);case 4:return Ss(),vf(t,e),t===null&&aa(e.stateNode.containerInfo),it(e),null;case 10:return Gp(e.type._context),it(e),null;case 17:return At(e.type)&&Nc(),it(e),null;case 19:if(xe(ke),s=e.memoizedState,s===null)return it(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)wo(s,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Oc(t),o!==null){for(e.flags|=128,wo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(ke,ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&je()>As&&(e.flags|=128,r=!0,wo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Oc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!_e)return it(e),null}else 2*je()-s.renderingStartTime>As&&n!==1073741824&&(e.flags|=128,r=!0,wo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=je(),e.sibling=null,n=ke.current,pe(ke,r?n&1|2:n&1),e):(it(e),null);case 22:case 23:return cm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rt&1073741824&&(it(e),e.subtreeFlags&6&&(e.flags|=8192)):it(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function vC(t,e){switch($p(e),e.tag){case 1:return At(e.type)&&Nc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ss(),xe(It),xe(dt),Jp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xp(e),null;case 13:if(xe(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Es()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(ke),null;case 4:return Ss(),null;case 10:return Gp(e.type._context),null;case 22:case 23:return cm(),null;case 24:return null;default:return null}}var jl=!1,lt=!1,xC=typeof WeakSet=="function"?WeakSet:Set,W=null;function is(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(t,e,r)}else n.current=null}function xf(t,e,n){try{n()}catch(r){Pe(t,e,r)}}var H0=!1;function wC(t,e){if(tf=Ic,t=s1(),Bp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,p=t,m=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===t)break t;if(m===n&&++u===i&&(a=o),m===s&&++h===r&&(c=o),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nf={focusedElem:t,selectionRange:n},Ic=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var E=x.memoizedProps,S=x.memoizedState,T=e.stateNode,v=T.getSnapshotBeforeUpdate(e.elementType===e.type?E:tn(e.type,E),S);T.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(j){Pe(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return x=H0,H0=!1,x}function Uo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&xf(e,n,s)}i=i.next}while(i!==r)}}function Cu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tT(t){var e=t.alternate;e!==null&&(t.alternate=null,tT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mn],delete e[ca],delete e[of],delete e[nC],delete e[rC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nT(t){return t.tag===5||t.tag===3||t.tag===4}function W0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _f(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Pc));else if(r!==4&&(t=t.child,t!==null))for(_f(t,e,n),t=t.sibling;t!==null;)_f(t,e,n),t=t.sibling}function Tf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tf(t,e,n),t=t.sibling;t!==null;)Tf(t,e,n),t=t.sibling}var Ge=null,nn=!1;function ir(t,e,n){for(n=n.child;n!==null;)rT(t,e,n),n=n.sibling}function rT(t,e,n){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(_u,n)}catch{}switch(n.tag){case 5:lt||is(n,e);case 6:var r=Ge,i=nn;Ge=null,ir(t,e,n),Ge=r,nn=i,Ge!==null&&(nn?(t=Ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(nn?(t=Ge,n=n.stateNode,t.nodeType===8?Yd(t.parentNode,n):t.nodeType===1&&Yd(t,n),ia(t)):Yd(Ge,n.stateNode));break;case 4:r=Ge,i=nn,Ge=n.stateNode.containerInfo,nn=!0,ir(t,e,n),Ge=r,nn=i;break;case 0:case 11:case 14:case 15:if(!lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&xf(n,e,o),i=i.next}while(i!==r)}ir(t,e,n);break;case 1:if(!lt&&(is(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pe(n,e,a)}ir(t,e,n);break;case 21:ir(t,e,n);break;case 22:n.mode&1?(lt=(r=lt)||n.memoizedState!==null,ir(t,e,n),lt=r):ir(t,e,n);break;default:ir(t,e,n)}}function q0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xC),e.forEach(function(r){var i=CC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ge=a.stateNode,nn=!1;break e;case 3:Ge=a.stateNode.containerInfo,nn=!0;break e;case 4:Ge=a.stateNode.containerInfo,nn=!0;break e}a=a.return}if(Ge===null)throw Error(U(160));rT(s,o,i),Ge=null,nn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Pe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iT(e,t),e=e.sibling}function iT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jt(e,t),un(t),r&4){try{Uo(3,t,t.return),Cu(3,t)}catch(E){Pe(t,t.return,E)}try{Uo(5,t,t.return)}catch(E){Pe(t,t.return,E)}}break;case 1:Jt(e,t),un(t),r&512&&n!==null&&is(n,n.return);break;case 5:if(Jt(e,t),un(t),r&512&&n!==null&&is(n,n.return),t.flags&32){var i=t.stateNode;try{ea(i,"")}catch(E){Pe(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&S_(i,s),Wh(a,o);var u=Wh(a,s);for(o=0;o<c.length;o+=2){var h=c[o],p=c[o+1];h==="style"?N_(i,p):h==="dangerouslySetInnerHTML"?C_(i,p):h==="children"?ea(i,p):Ap(i,h,p,u)}switch(a){case"input":Uh(i,s);break;case"textarea":I_(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?hs(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?hs(i,!!s.multiple,s.defaultValue,!0):hs(i,!!s.multiple,s.multiple?[]:"",!1))}i[ca]=s}catch(E){Pe(t,t.return,E)}}break;case 6:if(Jt(e,t),un(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){Pe(t,t.return,E)}}break;case 3:if(Jt(e,t),un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ia(e.containerInfo)}catch(E){Pe(t,t.return,E)}break;case 4:Jt(e,t),un(t);break;case 13:Jt(e,t),un(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(am=je())),r&4&&q0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(lt=(u=lt)||h,Jt(e,t),lt=u):Jt(e,t),un(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(W=t,h=t.child;h!==null;){for(p=W=h;W!==null;){switch(m=W,y=m.child,m.tag){case 0:case 11:case 14:case 15:Uo(4,m,m.return);break;case 1:is(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(E){Pe(r,n,E)}}break;case 5:is(m,m.return);break;case 22:if(m.memoizedState!==null){K0(p);continue}}y!==null?(y.return=m,W=y):K0(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=P_("display",o))}catch(E){Pe(t,t.return,E)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(E){Pe(t,t.return,E)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Jt(e,t),un(t),r&4&&q0(t);break;case 21:break;default:Jt(e,t),un(t)}}function un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nT(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ea(i,""),r.flags&=-33);var s=W0(t);Tf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=W0(t);_f(t,a,o);break;default:throw Error(U(161))}}catch(c){Pe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _C(t,e,n){W=t,sT(t)}function sT(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||jl;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||lt;a=jl;var u=lt;if(jl=o,(lt=c)&&!u)for(W=i;W!==null;)o=W,c=o.child,o.tag===22&&o.memoizedState!==null?Q0(i):c!==null?(c.return=o,W=c):Q0(i);for(;s!==null;)W=s,sT(s),s=s.sibling;W=i,jl=a,lt=u}G0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):G0(t)}}function G0(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:lt||Cu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!lt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:tn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&N0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}N0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&ia(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}lt||e.flags&512&&wf(e)}catch(m){Pe(e,e.return,m)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function K0(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Q0(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cu(4,e)}catch(c){Pe(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Pe(e,i,c)}}var s=e.return;try{wf(e)}catch(c){Pe(e,s,c)}break;case 5:var o=e.return;try{wf(e)}catch(c){Pe(e,o,c)}}}catch(c){Pe(e,e.return,c)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var TC=Math.ceil,Bc=Zn.ReactCurrentDispatcher,sm=Zn.ReactCurrentOwner,qt=Zn.ReactCurrentBatchConfig,ae=0,We=null,Me=null,Xe=0,Rt=0,ss=Wr(0),Ue=0,ma=null,ki=0,Pu=0,om=0,Bo=null,kt=null,am=0,As=1/0,Dn=null,zc=!1,kf=null,Er=null,Vl=!1,gr=null,$c=0,zo=0,Ef=null,sc=-1,oc=0;function vt(){return ae&6?je():sc!==-1?sc:sc=je()}function br(t){return t.mode&1?ae&2&&Xe!==0?Xe&-Xe:sC.transition!==null?(oc===0&&(oc=$_()),oc):(t=ue,t!==0||(t=window.event,t=t===void 0?16:Y_(t.type)),t):1}function an(t,e,n,r){if(50<zo)throw zo=0,Ef=null,Error(U(185));Ma(t,n,r),(!(ae&2)||t!==We)&&(t===We&&(!(ae&2)&&(Pu|=n),Ue===4&&ur(t,Xe)),Ct(t,r),n===1&&ae===0&&!(e.mode&1)&&(As=je()+500,Su&&qr()))}function Ct(t,e){var n=t.callbackNode;sA(t,e);var r=Sc(t,t===We?Xe:0);if(r===0)n!==null&&i0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&i0(n),e===1)t.tag===0?iC(Y0.bind(null,t)):m1(Y0.bind(null,t)),eC(function(){!(ae&6)&&qr()}),n=null;else{switch(H_(r)){case 1:n=Dp;break;case 4:n=B_;break;case 16:n=bc;break;case 536870912:n=z_;break;default:n=bc}n=fT(n,oT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oT(t,e){if(sc=-1,oc=0,ae&6)throw Error(U(327));var n=t.callbackNode;if(ys()&&t.callbackNode!==n)return null;var r=Sc(t,t===We?Xe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hc(t,r);else{e=r;var i=ae;ae|=2;var s=lT();(We!==t||Xe!==e)&&(Dn=null,As=je()+500,gi(t,e));do try{bC();break}catch(a){aT(t,a)}while(!0);qp(),Bc.current=s,ae=i,Me!==null?e=0:(We=null,Xe=0,e=Ue)}if(e!==0){if(e===2&&(i=Yh(t),i!==0&&(r=i,e=bf(t,i))),e===1)throw n=ma,gi(t,0),ur(t,r),Ct(t,je()),n;if(e===6)ur(t,r);else{if(i=t.current.alternate,!(r&30)&&!kC(i)&&(e=Hc(t,r),e===2&&(s=Yh(t),s!==0&&(r=s,e=bf(t,s))),e===1))throw n=ma,gi(t,0),ur(t,r),Ct(t,je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:si(t,kt,Dn);break;case 3:if(ur(t,r),(r&130023424)===r&&(e=am+500-je(),10<e)){if(Sc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sf(si.bind(null,t,kt,Dn),e);break}si(t,kt,Dn);break;case 4:if(ur(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-on(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TC(r/1960))-r,10<r){t.timeoutHandle=sf(si.bind(null,t,kt,Dn),r);break}si(t,kt,Dn);break;case 5:si(t,kt,Dn);break;default:throw Error(U(329))}}}return Ct(t,je()),t.callbackNode===n?oT.bind(null,t):null}function bf(t,e){var n=Bo;return t.current.memoizedState.isDehydrated&&(gi(t,e).flags|=256),t=Hc(t,e),t!==2&&(e=kt,kt=n,e!==null&&Sf(e)),t}function Sf(t){kt===null?kt=t:kt.push.apply(kt,t)}function kC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ln(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ur(t,e){for(e&=~om,e&=~Pu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-on(e),r=1<<n;t[n]=-1,e&=~r}}function Y0(t){if(ae&6)throw Error(U(327));ys();var e=Sc(t,0);if(!(e&1))return Ct(t,je()),null;var n=Hc(t,e);if(t.tag!==0&&n===2){var r=Yh(t);r!==0&&(e=r,n=bf(t,r))}if(n===1)throw n=ma,gi(t,0),ur(t,e),Ct(t,je()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,si(t,kt,Dn),Ct(t,je()),null}function lm(t,e){var n=ae;ae|=1;try{return t(e)}finally{ae=n,ae===0&&(As=je()+500,Su&&qr())}}function Ei(t){gr!==null&&gr.tag===0&&!(ae&6)&&ys();var e=ae;ae|=1;var n=qt.transition,r=ue;try{if(qt.transition=null,ue=1,t)return t()}finally{ue=r,qt.transition=n,ae=e,!(ae&6)&&qr()}}function cm(){Rt=ss.current,xe(ss)}function gi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZA(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch($p(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nc();break;case 3:Ss(),xe(It),xe(dt),Jp();break;case 5:Xp(r);break;case 4:Ss();break;case 13:xe(ke);break;case 19:xe(ke);break;case 10:Gp(r.type._context);break;case 22:case 23:cm()}n=n.return}if(We=t,Me=t=Sr(t.current,null),Xe=Rt=e,Ue=0,ma=null,om=Pu=ki=0,kt=Bo=null,hi!==null){for(e=0;e<hi.length;e++)if(n=hi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}hi=null}return t}function aT(t,e){do{var n=Me;try{if(qp(),nc.current=Uc,Fc){for(var r=be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fc=!1}if(Ti=0,He=Fe=be=null,Fo=!1,ha=0,sm.current=null,n===null||n.return===null){Ue=1,ma=e,Me=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=Xe,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=L0(o);if(y!==null){y.flags&=-257,O0(y,o,a,s,e),y.mode&1&&M0(s,u,e),e=y,c=u;var x=e.updateQueue;if(x===null){var E=new Set;E.add(c),e.updateQueue=E}else x.add(c);break e}else{if(!(e&1)){M0(s,u,e),um();break e}c=Error(U(426))}}else if(_e&&a.mode&1){var S=L0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),O0(S,o,a,s,e),Hp(Is(c,a));break e}}s=c=Is(c,a),Ue!==4&&(Ue=2),Bo===null?Bo=[s]:Bo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=H1(s,c,e);P0(s,T);break e;case 1:a=c;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Er===null||!Er.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var j=W1(s,a,e);P0(s,j);break e}}s=s.return}while(s!==null)}uT(n)}catch(M){e=M,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function lT(){var t=Bc.current;return Bc.current=Uc,t===null?Uc:t}function um(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),We===null||!(ki&268435455)&&!(Pu&268435455)||ur(We,Xe)}function Hc(t,e){var n=ae;ae|=2;var r=lT();(We!==t||Xe!==e)&&(Dn=null,gi(t,e));do try{EC();break}catch(i){aT(t,i)}while(!0);if(qp(),ae=n,Bc.current=r,Me!==null)throw Error(U(261));return We=null,Xe=0,Ue}function EC(){for(;Me!==null;)cT(Me)}function bC(){for(;Me!==null&&!YI();)cT(Me)}function cT(t){var e=hT(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,e===null?uT(t):Me=e,sm.current=null}function uT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=vC(n,e),n!==null){n.flags&=32767,Me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,Me=null;return}}else if(n=yC(n,e,Rt),n!==null){Me=n;return}if(e=e.sibling,e!==null){Me=e;return}Me=e=t}while(e!==null);Ue===0&&(Ue=5)}function si(t,e,n){var r=ue,i=qt.transition;try{qt.transition=null,ue=1,SC(t,e,n,r)}finally{qt.transition=i,ue=r}return null}function SC(t,e,n,r){do ys();while(gr!==null);if(ae&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(oA(t,s),t===We&&(Me=We=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vl||(Vl=!0,fT(bc,function(){return ys(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qt.transition,qt.transition=null;var o=ue;ue=1;var a=ae;ae|=4,sm.current=null,wC(t,n),iT(n,t),qA(nf),Ic=!!tf,nf=tf=null,t.current=n,_C(n),XI(),ae=a,ue=o,qt.transition=s}else t.current=n;if(Vl&&(Vl=!1,gr=t,$c=i),s=t.pendingLanes,s===0&&(Er=null),eA(n.stateNode),Ct(t,je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zc)throw zc=!1,t=kf,kf=null,t;return $c&1&&t.tag!==0&&ys(),s=t.pendingLanes,s&1?t===Ef?zo++:(zo=0,Ef=t):zo=0,qr(),null}function ys(){if(gr!==null){var t=H_($c),e=qt.transition,n=ue;try{if(qt.transition=null,ue=16>t?16:t,gr===null)var r=!1;else{if(t=gr,gr=null,$c=0,ae&6)throw Error(U(331));var i=ae;for(ae|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(W=u;W!==null;){var h=W;switch(h.tag){case 0:case 11:case 15:Uo(8,h,s)}var p=h.child;if(p!==null)p.return=h,W=p;else for(;W!==null;){h=W;var m=h.sibling,y=h.return;if(tT(h),h===u){W=null;break}if(m!==null){m.return=y,W=m;break}W=y}}}var x=s.alternate;if(x!==null){var E=x.child;if(E!==null){x.child=null;do{var S=E.sibling;E.sibling=null,E=S}while(E!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Uo(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,W=T;break e}W=s.return}}var v=t.current;for(W=v;W!==null;){o=W;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,W=w;else e:for(o=v;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cu(9,a)}}catch(M){Pe(a,a.return,M)}if(a===o){W=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,W=j;break e}W=a.return}}if(ae=i,qr(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(_u,t)}catch{}r=!0}return r}finally{ue=n,qt.transition=e}}return!1}function X0(t,e,n){e=Is(n,e),e=H1(t,e,1),t=kr(t,e,1),e=vt(),t!==null&&(Ma(t,1,e),Ct(t,e))}function Pe(t,e,n){if(t.tag===3)X0(t,t,n);else for(;e!==null;){if(e.tag===3){X0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Er===null||!Er.has(r))){t=Is(n,t),t=W1(e,t,1),e=kr(e,t,1),t=vt(),e!==null&&(Ma(e,1,t),Ct(e,t));break}}e=e.return}}function IC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vt(),t.pingedLanes|=t.suspendedLanes&n,We===t&&(Xe&n)===n&&(Ue===4||Ue===3&&(Xe&130023424)===Xe&&500>je()-am?gi(t,0):om|=n),Ct(t,e)}function dT(t,e){e===0&&(t.mode&1?(e=bl,bl<<=1,!(bl&130023424)&&(bl=4194304)):e=1);var n=vt();t=Wn(t,e),t!==null&&(Ma(t,e,n),Ct(t,n))}function AC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dT(t,n)}function CC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),dT(t,n)}var hT;hT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||It.current)St=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return St=!1,gC(t,e,n);St=!!(t.flags&131072)}else St=!1,_e&&e.flags&1048576&&g1(e,jc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ic(t,e),t=e.pendingProps;var i=ks(e,dt.current);gs(e,n),i=em(null,e,r,t,i,n);var s=tm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,At(r)?(s=!0,Rc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qp(e),i.updater=Au,e.stateNode=i,i._reactInternals=e,hf(e,r,t,n),e=mf(null,e,r,!0,s,n)):(e.tag=0,_e&&s&&zp(e),yt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ic(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=NC(r),t=tn(r,t),i){case 0:e=pf(null,e,r,t,n);break e;case 1:e=B0(null,e,r,t,n);break e;case 11:e=F0(null,e,r,t,n);break e;case 14:e=U0(null,e,r,tn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),pf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),B0(t,e,r,i,n);case 3:e:{if(Q1(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,T1(t,e),Lc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Is(Error(U(423)),e),e=z0(t,e,r,n,i);break e}else if(r!==i){i=Is(Error(U(424)),e),e=z0(t,e,r,n,i);break e}else for(Dt=Tr(e.stateNode.containerInfo.firstChild),Vt=e,_e=!0,rn=null,n=w1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Es(),r===i){e=qn(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return k1(e),t===null&&cf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,rf(r,i)?o=null:s!==null&&rf(r,s)&&(e.flags|=32),K1(t,e),yt(t,e,o,n),e.child;case 6:return t===null&&cf(e),null;case 13:return Y1(t,e,n);case 4:return Yp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bs(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),F0(t,e,r,i,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,pe(Vc,r._currentValue),r._currentValue=o,s!==null)if(ln(s.value,o)){if(s.children===i.children&&!It.current){e=qn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Un(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),uf(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),uf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gs(e,n),i=Qt(i),r=r(i),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,i=tn(r,e.pendingProps),i=tn(r.type,i),U0(t,e,r,i,n);case 15:return q1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),ic(t,e),e.tag=1,At(r)?(t=!0,Rc(e)):t=!1,gs(e,n),$1(e,r,i),hf(e,r,i,n),mf(null,e,r,!0,t,n);case 19:return X1(t,e,n);case 22:return G1(t,e,n)}throw Error(U(156,e.tag))};function fT(t,e){return U_(t,e)}function PC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,e,n,r){return new PC(t,e,n,r)}function dm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NC(t){if(typeof t=="function")return dm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pp)return 11;if(t===Np)return 14}return 2}function Sr(t,e){var n=t.alternate;return n===null?(n=Wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ac(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")dm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qi:return yi(n.children,i,s,e);case Cp:o=8,i|=8;break;case Vh:return t=Wt(12,n,e,i|2),t.elementType=Vh,t.lanes=s,t;case Mh:return t=Wt(13,n,e,i),t.elementType=Mh,t.lanes=s,t;case Lh:return t=Wt(19,n,e,i),t.elementType=Lh,t.lanes=s,t;case k_:return Nu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case __:o=10;break e;case T_:o=9;break e;case Pp:o=11;break e;case Np:o=14;break e;case ar:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Wt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function yi(t,e,n,r){return t=Wt(7,t,r,e),t.lanes=n,t}function Nu(t,e,n,r){return t=Wt(22,t,r,e),t.elementType=k_,t.lanes=n,t.stateNode={isHidden:!1},t}function ih(t,e,n){return t=Wt(6,t,null,e),t.lanes=n,t}function sh(t,e,n){return e=Wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fd(0),this.expirationTimes=Fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hm(t,e,n,r,i,s,o,a,c){return t=new RC(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qp(s),t}function DC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ki,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pT(t){if(!t)return Vr;t=t._reactInternals;e:{if(Ri(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(At(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(At(n))return p1(t,n,e)}return e}function mT(t,e,n,r,i,s,o,a,c){return t=hm(n,r,!0,t,i,s,o,a,c),t.context=pT(null),n=t.current,r=vt(),i=br(n),s=Un(r,i),s.callback=e??null,kr(n,s,i),t.current.lanes=i,Ma(t,i,r),Ct(t,r),t}function Ru(t,e,n,r){var i=e.current,s=vt(),o=br(i);return n=pT(n),e.context===null?e.context=n:e.pendingContext=n,e=Un(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=kr(i,e,o),t!==null&&(an(t,i,o,s),tc(t,i,o)),o}function Wc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function J0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fm(t,e){J0(t,e),(t=t.alternate)&&J0(t,e)}function jC(){return null}var gT=typeof reportError=="function"?reportError:function(t){console.error(t)};function pm(t){this._internalRoot=t}Du.prototype.render=pm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Ru(t,e,null,null)};Du.prototype.unmount=pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ei(function(){Ru(null,t,null,null)}),e[Hn]=null}};function Du(t){this._internalRoot=t}Du.prototype.unstable_scheduleHydration=function(t){if(t){var e=G_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<cr.length&&e!==0&&e<cr[n].priority;n++);cr.splice(n,0,t),n===0&&Q_(t)}};function mm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ju(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Z0(){}function VC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Wc(o);s.call(u)}}var o=mT(e,r,t,0,null,!1,!1,"",Z0);return t._reactRootContainer=o,t[Hn]=o.current,aa(t.nodeType===8?t.parentNode:t),Ei(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Wc(c);a.call(u)}}var c=hm(t,0,!1,null,null,!1,!1,"",Z0);return t._reactRootContainer=c,t[Hn]=c.current,aa(t.nodeType===8?t.parentNode:t),Ei(function(){Ru(e,c,n,r)}),c}function Vu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=Wc(o);a.call(c)}}Ru(e,o,t,i)}else o=VC(n,e,t,i,r);return Wc(o)}W_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=So(e.pendingLanes);n!==0&&(jp(e,n|1),Ct(e,je()),!(ae&6)&&(As=je()+500,qr()))}break;case 13:Ei(function(){var r=Wn(t,1);if(r!==null){var i=vt();an(r,t,1,i)}}),fm(t,1)}};Vp=function(t){if(t.tag===13){var e=Wn(t,134217728);if(e!==null){var n=vt();an(e,t,134217728,n)}fm(t,134217728)}};q_=function(t){if(t.tag===13){var e=br(t),n=Wn(t,e);if(n!==null){var r=vt();an(n,t,e,r)}fm(t,e)}};G_=function(){return ue};K_=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};Gh=function(t,e,n){switch(e){case"input":if(Uh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=bu(r);if(!i)throw Error(U(90));b_(r),Uh(r,i)}}}break;case"textarea":I_(t,n);break;case"select":e=n.value,e!=null&&hs(t,!!n.multiple,e,!1)}};j_=lm;V_=Ei;var MC={usingClientEntryPoint:!1,Events:[Oa,Zi,bu,R_,D_,lm]},_o={findFiberByHostInstance:di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LC={bundleType:_o.bundleType,version:_o.version,rendererPackageName:_o.rendererPackageName,rendererConfig:_o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=O_(t),t===null?null:t.stateNode},findFiberByHostInstance:_o.findFiberByHostInstance||jC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{_u=Ml.inject(LC),yn=Ml}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MC;Ft.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mm(e))throw Error(U(200));return DC(t,e,null,n)};Ft.createRoot=function(t,e){if(!mm(t))throw Error(U(299));var n=!1,r="",i=gT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=hm(t,1,!1,null,null,n,!1,r,i),t[Hn]=e.current,aa(t.nodeType===8?t.parentNode:t),new pm(e)};Ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=O_(e),t=t===null?null:t.stateNode,t};Ft.flushSync=function(t){return Ei(t)};Ft.hydrate=function(t,e,n){if(!ju(e))throw Error(U(200));return Vu(null,t,e,!0,n)};Ft.hydrateRoot=function(t,e,n){if(!mm(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=gT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mT(e,null,t,1,n??null,i,!1,s,o),t[Hn]=e.current,aa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Du(e)};Ft.render=function(t,e,n){if(!ju(e))throw Error(U(200));return Vu(null,t,e,!1,n)};Ft.unmountComponentAtNode=function(t){if(!ju(t))throw Error(U(40));return t._reactRootContainer?(Ei(function(){Vu(null,null,t,!1,function(){t._reactRootContainer=null,t[Hn]=null})}),!0):!1};Ft.unstable_batchedUpdates=lm;Ft.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ju(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Vu(t,e,n,!1,r)};Ft.version="18.3.1-next-f1338f8080-20240426";function yT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yT)}catch(t){console.error(t)}}yT(),y_.exports=Ft;var OC=y_.exports,vT,ev=OC;vT=ev.createRoot,ev.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ga(){return ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ga.apply(this,arguments)}var yr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yr||(yr={}));const tv="popstate";function FC(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return If("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:qc(i)}return BC(e,n,null,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UC(){return Math.random().toString(36).substr(2,8)}function nv(t,e){return{usr:t.state,key:t.key,idx:e}}function If(t,e,n,r){return n===void 0&&(n=null),ga({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hs(e):e,{state:n,key:e&&e.key||r||UC()})}function qc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Hs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function BC(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=yr.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(ga({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=yr.Pop;let S=h(),T=S==null?null:S-u;u=S,c&&c({action:a,location:E.location,delta:T})}function m(S,T){a=yr.Push;let v=If(E.location,S,T);u=h()+1;let w=nv(v,u),j=E.createHref(v);try{o.pushState(w,"",j)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(j)}s&&c&&c({action:a,location:E.location,delta:1})}function y(S,T){a=yr.Replace;let v=If(E.location,S,T);u=h();let w=nv(v,u),j=E.createHref(v);o.replaceState(w,"",j),s&&c&&c({action:a,location:E.location,delta:0})}function x(S){let T=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof S=="string"?S:qc(S);return v=v.replace(/ $/,"%20"),Oe(T,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,T)}let E={get action(){return a},get location(){return t(i,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(tv,p),c=S,()=>{i.removeEventListener(tv,p),c=null}},createHref(S){return e(i,S)},createURL:x,encodeLocation(S){let T=x(S);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:y,go(S){return o.go(S)}};return E}var rv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rv||(rv={}));function zC(t,e,n){return n===void 0&&(n="/"),$C(t,e,n,!1)}function $C(t,e,n,r){let i=typeof e=="string"?Hs(e):e,s=gm(i.pathname||"/",n);if(s==null)return null;let o=wT(t);HC(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=t2(s);a=ZC(o[c],u,r)}return a}function wT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Oe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ir([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(Oe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wT(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:XC(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of _T(s.path))i(s,o,c)}),e}function _T(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_T(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function HC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const WC=/^:[\w-]+$/,qC=3,GC=2,KC=1,QC=10,YC=-2,iv=t=>t==="*";function XC(t,e){let n=t.split("/"),r=n.length;return n.some(iv)&&(r+=YC),e&&(r+=GC),n.filter(i=>!iv(i)).reduce((i,s)=>i+(WC.test(s)?qC:s===""?KC:QC),r)}function JC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ZC(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=sv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=sv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Ir([s,p.pathname]),pathnameBase:s2(Ir([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Ir([s,p.pathnameBase]))}return o}function sv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=e2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,h,p)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let E=a[p]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const x=a[p];return y&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function e2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function t2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function n2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Hs(t):t;return{pathname:n?n.startsWith("/")?n:r2(n,e):e,search:o2(r),hash:a2(i)}}function r2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function oh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function TT(t,e){let n=i2(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function kT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Hs(t):(i=ga({},t),Oe(!i.pathname||!i.pathname.includes("?"),oh("?","pathname","search",i)),Oe(!i.pathname||!i.pathname.includes("#"),oh("#","pathname","hash",i)),Oe(!i.search||!i.search.includes("#"),oh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?e[p]:"/"}let c=n2(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Ir=t=>t.join("/").replace(/\/\/+/g,"/"),s2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),o2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,a2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function l2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ET=["post","put","patch","delete"];new Set(ET);const c2=["get",...ET];new Set(c2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ya(){return ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ya.apply(this,arguments)}const ym=R.createContext(null),u2=R.createContext(null),Di=R.createContext(null),Mu=R.createContext(null),Gr=R.createContext({outlet:null,matches:[],isDataRoute:!1}),bT=R.createContext(null);function d2(t,e){let{relative:n}=e===void 0?{}:e;Ua()||Oe(!1);let{basename:r,navigator:i}=R.useContext(Di),{hash:s,pathname:o,search:a}=IT(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ir([r,o])),i.createHref({pathname:c,search:a,hash:s})}function Ua(){return R.useContext(Mu)!=null}function Kr(){return Ua()||Oe(!1),R.useContext(Mu).location}function ST(t){R.useContext(Di).static||R.useLayoutEffect(t)}function vm(){let{isDataRoute:t}=R.useContext(Gr);return t?S2():h2()}function h2(){Ua()||Oe(!1);let t=R.useContext(ym),{basename:e,future:n,navigator:r}=R.useContext(Di),{matches:i}=R.useContext(Gr),{pathname:s}=Kr(),o=JSON.stringify(TT(i,n.v7_relativeSplatPath)),a=R.useRef(!1);return ST(()=>{a.current=!0}),R.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=kT(u,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ir([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,s,t])}const f2=R.createContext(null);function p2(t){let e=R.useContext(Gr).outlet;return e&&R.createElement(f2.Provider,{value:t},e)}function IT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=R.useContext(Di),{matches:i}=R.useContext(Gr),{pathname:s}=Kr(),o=JSON.stringify(TT(i,r.v7_relativeSplatPath));return R.useMemo(()=>kT(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function m2(t,e){return g2(t,e)}function g2(t,e,n,r){Ua()||Oe(!1);let{navigator:i}=R.useContext(Di),{matches:s}=R.useContext(Gr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Kr(),h;if(e){var p;let S=typeof e=="string"?Hs(e):e;c==="/"||(p=S.pathname)!=null&&p.startsWith(c)||Oe(!1),h=S}else h=u;let m=h.pathname||"/",y=m;if(c!=="/"){let S=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=zC(t,{pathname:y}),E=_2(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Ir([c,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:Ir([c,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&E?R.createElement(Mu.Provider,{value:{location:ya({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:yr.Pop}},E):E}function y2(){let t=b2(),e=l2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,null)}const v2=R.createElement(y2,null);class x2 extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(Gr.Provider,{value:this.props.routeContext},R.createElement(bT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w2(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(ym);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Gr.Provider,{value:e},r)}function _2(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||Oe(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:m,errors:y}=n,x=p.route.loader&&m[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,p,m)=>{let y,x=!1,E=null,S=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,E=p.route.errorElement||v2,c&&(u<0&&m===0?(x=!0,S=null):u===m&&(x=!0,S=p.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,m+1)),v=()=>{let w;return y?w=E:x?w=S:p.route.Component?w=R.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=h,R.createElement(w2,{match:p,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:w})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?R.createElement(x2,{location:n.location,revalidation:n.revalidation,component:E,error:y,children:v(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):v()},null)}var AT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(AT||{}),Gc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gc||{});function T2(t){let e=R.useContext(ym);return e||Oe(!1),e}function k2(t){let e=R.useContext(u2);return e||Oe(!1),e}function E2(t){let e=R.useContext(Gr);return e||Oe(!1),e}function CT(t){let e=E2(),n=e.matches[e.matches.length-1];return n.route.id||Oe(!1),n.route.id}function b2(){var t;let e=R.useContext(bT),n=k2(Gc.UseRouteError),r=CT(Gc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function S2(){let{router:t}=T2(AT.UseNavigateStable),e=CT(Gc.UseNavigateStable),n=R.useRef(!1);return ST(()=>{n.current=!0}),R.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ya({fromRouteId:e},s)))},[t,e])}function I2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function A2(t){return p2(t.context)}function Nt(t){Oe(!1)}function C2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=yr.Pop,navigator:s,static:o=!1,future:a}=t;Ua()&&Oe(!1);let c=e.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:c,navigator:s,static:o,future:ya({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=Hs(r));let{pathname:h="/",search:p="",hash:m="",state:y=null,key:x="default"}=r,E=R.useMemo(()=>{let S=gm(h,c);return S==null?null:{location:{pathname:S,search:p,hash:m,state:y,key:x},navigationType:i}},[c,h,p,m,y,x,i]);return E==null?null:R.createElement(Di.Provider,{value:u},R.createElement(Mu.Provider,{children:n,value:E}))}function P2(t){let{children:e,location:n}=t;return m2(Af(e),n)}new Promise(()=>{});function Af(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let s=[...e,i];if(r.type===R.Fragment){n.push.apply(n,Af(r.props.children,s));return}r.type!==Nt&&Oe(!1),!r.props.index||!r.props.children||Oe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Af(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cf(){return Cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cf.apply(this,arguments)}function N2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function R2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function D2(t,e){return t.button===0&&(!e||e==="_self")&&!R2(t)}function Pf(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function j2(t,e){let n=Pf(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const V2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M2="6";try{window.__reactRouterVersion=M2}catch{}const L2="startTransition",ov=II[L2];function O2(t){let{basename:e,children:n,future:r,window:i}=t,s=R.useRef();s.current==null&&(s.current=FC({window:i,v5Compat:!0}));let o=s.current,[a,c]=R.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=R.useCallback(p=>{u&&ov?ov(()=>c(p)):c(p)},[c,u]);return R.useLayoutEffect(()=>o.listen(h),[o,h]),R.useEffect(()=>I2(r),[r]),R.createElement(C2,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const F2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_t=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:h,viewTransition:p}=e,m=N2(e,V2),{basename:y}=R.useContext(Di),x,E=!1;if(typeof u=="string"&&U2.test(u)&&(x=u,F2))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),M=gm(j.pathname,y);j.origin===w.origin&&M!=null?u=M+j.search+j.hash:E=!0}catch{}let S=d2(u,{relative:i}),T=B2(u,{replace:o,state:a,target:c,preventScrollReset:h,relative:i,viewTransition:p});function v(w){r&&r(w),w.defaultPrevented||T(w)}return R.createElement("a",Cf({},m,{href:x||S,onClick:E||s?r:v,ref:n,target:c}))});var av;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(av||(av={}));var lv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(lv||(lv={}));function B2(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=vm(),u=Kr(),h=IT(t,{relative:o});return R.useCallback(p=>{if(D2(p,n)){p.preventDefault();let m=r!==void 0?r:qc(u)===qc(h);c(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,c,h,r,i,n,t,s,o,a])}function z2(t){let e=R.useRef(Pf(t)),n=R.useRef(!1),r=Kr(),i=R.useMemo(()=>j2(r.search,n.current?null:e.current),[r.search]),s=vm(),o=R.useCallback((a,c)=>{const u=Pf(typeof a=="function"?a(i):a);n.current=!0,s("?"+u,c)},[s,i]);return[i,o]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(t,e)=>{const n=R.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:c,...u},h)=>R.createElement("svg",{ref:h,...$2,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${H2(t)}`,a].join(" "),...u},[...e.map(([p,m])=>R.createElement(p,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=ne("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=ne("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=ne("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=ne("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=ne("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=ne("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=ne("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=ne("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=ne("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=ne("Mouse",[["rect",{x:"5",y:"2",width:"14",height:"20",rx:"7",key:"11ol66"}],["path",{d:"M12 6v4",key:"16clxf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=ne("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=ne("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),iP=()=>{const[t,e]=R.useState(!1),[n,r]=R.useState(!1),[i,s]=R.useState(!1),[o,a]=R.useState(!1),[c,u]=R.useState(()=>typeof window<"u"?localStorage.getItem("darkMode")==="true":!1),h=Kr();R.useEffect(()=>{const w=()=>{e(window.scrollY>20)};return window.addEventListener("scroll",w),()=>window.removeEventListener("scroll",w)},[]),R.useEffect(()=>{r(!1),s(!1),a(!1)},[h.pathname]),R.useEffect(()=>{c?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",c.toString())},[c]);const p=()=>{u(!c)},m=[{name:"Experience",path:"/experience"},{name:"Projects",path:"/projects"}],y=[{name:"About",path:"/about"},{name:"What I Use",path:"/uses"}],x=[{name:"Blog",path:"/blog"},{name:"Bookshelf",path:"/bookshelf"},{name:"Reading List",path:"/reading-list"}],E=[{icon:d.jsx(Lu,{className:"h-5 w-5"}),href:"https://github.com/burakintisah",label:"GitHub"},{icon:d.jsx(RT,{className:"h-5 w-5"}),href:"https://linkedin.com/in/burakintisah",label:"LinkedIn"},{icon:d.jsx(NT,{className:"h-5 w-5"}),href:"https://www.instagram.com/osman.burakk",label:"Instagram"},{icon:d.jsx(DT,{className:"h-5 w-5"}),href:"mailto:burak@intisah.com",label:"Email"},{icon:d.jsx(xm,{className:"h-5 w-5"}),href:"/burak_intisah_resume.pdf",label:"Download Resume"}],S=w=>!!(w==="/"&&h.pathname==="/"||w!=="/"&&h.pathname.startsWith(w)),T=()=>h.pathname==="/about"||h.pathname==="/uses",v=()=>h.pathname==="/blog"||h.pathname==="/bookshelf"||h.pathname==="/reading-list";return d.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-200 flex flex-col",children:[d.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-white dark:bg-gray-800 shadow-sm dark:shadow-gray-700/50 border-b border-gray-200 dark:border-gray-700":"bg-white/90 dark:bg-gray-800/90 backdrop-blur-md border-b border-gray-200/50 dark:border-gray-700/50"}`,children:d.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs(_t,{to:"/",className:"flex items-center space-x-2 text-primary-600 dark:text-primary-400 hover:text-primary-500 dark:hover:text-primary-300 transition-colors",children:[d.jsx(lc,{className:"h-6 w-6"}),d.jsx("span",{className:"font-semibold text-lg",children:"Burak Intisah"})]}),d.jsxs("nav",{className:"hidden md:flex space-x-8 items-center",children:[d.jsx(_t,{to:"/",className:`text-sm font-medium transition-colors hover:text-primary-600 dark:hover:text-primary-400 ${S("/")?"text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-300"}`,children:"Home"}),d.jsxs("div",{className:"relative",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[d.jsxs("button",{className:`flex items-center space-x-1 text-sm font-medium transition-colors hover:text-primary-600 dark:hover:text-primary-400 ${T()?"text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-300"}`,children:[d.jsx("span",{children:"About"}),d.jsx(uv,{className:`h-4 w-4 transition-transform duration-200 ${i?"rotate-180":""}`})]}),d.jsx("div",{className:`absolute top-full left-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg dark:shadow-gray-700/50 border border-gray-200 dark:border-gray-700 transition-all duration-200 ${i?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-2"}`,children:d.jsx("div",{className:"py-2",children:y.map(w=>d.jsx(_t,{to:w.path,className:`block px-4 py-2 text-sm transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 ${S(w.path)?"text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20":"text-gray-700 dark:text-gray-300"}`,children:w.name},w.path))})})]}),m.map(w=>d.jsx(_t,{to:w.path,className:`text-sm font-medium transition-colors hover:text-primary-600 dark:hover:text-primary-400 ${S(w.path)?"text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-300"}`,children:w.name},w.path)),d.jsxs("div",{className:"relative",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[d.jsxs("button",{className:`flex items-center space-x-1 text-sm font-medium transition-colors hover:text-primary-600 dark:hover:text-primary-400 ${v()?"text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-300"}`,children:[d.jsx("span",{children:"Content"}),d.jsx(uv,{className:`h-4 w-4 transition-transform duration-200 ${o?"rotate-180":""}`})]}),d.jsx("div",{className:`absolute top-full left-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg dark:shadow-gray-700/50 border border-gray-200 dark:border-gray-700 transition-all duration-200 ${o?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-2"}`,children:d.jsx("div",{className:"py-2",children:x.map(w=>d.jsx(_t,{to:w.path,className:`block px-4 py-2 text-sm transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 ${S(w.path)?"text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20":"text-gray-700 dark:text-gray-300"}`,children:w.name},w.path))})})]}),d.jsx(_t,{to:"/photography",className:`text-sm font-medium transition-colors hover:text-primary-600 dark:hover:text-primary-400 ${S("/photography")?"text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-300"}`,children:"Photography"}),d.jsxs(_t,{to:"/connect",className:`flex items-center space-x-1 text-sm font-medium transition-colors hover:text-primary-600 dark:hover:text-primary-400 ${S("/connect")?"text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-300"}`,children:[d.jsx(Kc,{className:"h-4 w-4"}),d.jsx("span",{children:"Connect"})]}),d.jsx("button",{onClick:p,className:"text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors","aria-label":"Toggle dark mode",children:c?d.jsx(lh,{className:"h-5 w-5"}):d.jsx(ah,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"md:hidden flex items-center space-x-4",children:[d.jsx("button",{onClick:p,className:"text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors","aria-label":"Toggle dark mode",children:c?d.jsx(lh,{className:"h-5 w-5"}):d.jsx(ah,{className:"h-5 w-5"})}),d.jsx("button",{className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none",onClick:()=>r(!n),children:n?d.jsx(va,{className:"h-6 w-6"}):d.jsx(X2,{className:"h-6 w-6"})})]})]})})}),d.jsxs("div",{className:`fixed inset-0 z-[70] md:hidden transition-all duration-300 ${n?"opacity-100 visible":"opacity-0 invisible"}`,children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity duration-300",onClick:()=>r(!1)}),d.jsxs("nav",{className:`fixed top-0 right-0 h-full w-80 max-w-[85vw] bg-white dark:bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out z-[75] ${n?"translate-x-0":"translate-x-full"}`,children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(lc,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"}),d.jsx("span",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:"Menu"})]}),d.jsx("button",{onClick:()=>r(!1),className:"p-2 rounded-md text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:d.jsx(va,{className:"h-6 w-6"})})]}),d.jsxs("div",{className:"flex flex-col h-full overflow-y-auto",children:[d.jsxs("div",{className:"flex-1 px-6 py-6 space-y-6",children:[d.jsx(_t,{to:"/",onClick:()=>r(!1),className:`block text-lg font-medium transition-colors ${S("/")?"text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-300"}`,children:"Home"}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 uppercase tracking-wider",children:"About"}),y.map(w=>d.jsx(_t,{to:w.path,onClick:()=>r(!1),className:`block text-lg font-medium transition-colors ml-4 ${S(w.path)?"text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-300"}`,children:w.name},w.path))]}),m.map(w=>d.jsx(_t,{to:w.path,onClick:()=>r(!1),className:`block text-lg font-medium transition-colors ${S(w.path)?"text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-300"}`,children:w.name},w.path)),d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 uppercase tracking-wider",children:"Content"}),x.map(w=>d.jsx(_t,{to:w.path,onClick:()=>r(!1),className:`block text-lg font-medium transition-colors ml-4 ${S(w.path)?"text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-300"}`,children:w.name},w.path))]}),d.jsx(_t,{to:"/photography",onClick:()=>r(!1),className:`block text-lg font-medium transition-colors ${S("/photography")?"text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-300"}`,children:"Photography"}),d.jsxs(_t,{to:"/connect",onClick:()=>r(!1),className:`flex items-center space-x-3 text-lg font-medium transition-colors ${S("/connect")?"text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-300"}`,children:[d.jsx(Kc,{className:"h-5 w-5"}),d.jsx("span",{children:"Connect"})]})]}),d.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:d.jsxs("button",{onClick:p,className:"flex items-center space-x-3 w-full p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[c?d.jsx(lh,{className:"h-5 w-5"}):d.jsx(ah,{className:"h-5 w-5"}),d.jsx("span",{className:"text-lg font-medium",children:c?"Light Mode":"Dark Mode"})]})})]})]})]}),d.jsx("main",{className:"flex-1 pt-16",children:d.jsx(A2,{})}),d.jsx("div",{className:"fixed bottom-8 right-8 flex flex-col space-y-4 z-50",children:E.map((w,j)=>d.jsx("a",{href:w.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors","aria-label":w.label,children:w.icon},j))}),d.jsx("footer",{className:"bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:d.jsx("div",{className:"container mx-auto px-4 py-8 md:py-12",children:d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-4 md:mb-0",children:[d.jsx(lc,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"}),d.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Burak Intisah"})]}),d.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["© ",new Date().getFullYear()," Osman Burak Intisah"]})]})})})]})},sP=()=>{const{pathname:t}=Kr();return R.useEffect(()=>{window.scrollTo(0,0)},[t]),null},VT=R.createContext({});function oP(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const _m=R.createContext(null),MT=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function aP(t=!0){const e=R.useContext(_m);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=R.useId();R.useEffect(()=>{t&&i(s)},[t]);const o=R.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Tm=typeof window<"u",lP=Tm?R.useLayoutEffect:R.useEffect,Mt=t=>t;let Df=Mt;function km(t){let e;return()=>(e===void 0&&(e=t()),e)}const Cs=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Bn=t=>t*1e3,zn=t=>t/1e3,cP={skipAnimations:!1,useManualTiming:!1};function uP(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,h=!1,p=!1)=>{const y=p&&r?e:n;return h&&s.add(u),y.has(u)||y.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,c.process(u))}};return c}const Ol=["read","resolveKeyframes","update","preRender","render","postRender"],dP=40;function LT(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ol.reduce((T,v)=>(T[v]=uP(s),T),{}),{read:a,resolveKeyframes:c,update:u,preRender:h,render:p,postRender:m}=o,y=()=>{const T=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,dP),1),i.timestamp=T,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),h.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},x=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:Ol.reduce((T,v)=>{const w=o[v];return T[v]=(j,M=!1,F=!1)=>(n||x(),w.schedule(j,M,F)),T},{}),cancel:T=>{for(let v=0;v<Ol.length;v++)o[Ol[v]].cancel(T)},state:i,steps:o}}const{schedule:we,cancel:Mr,state:Ke,steps:ch}=LT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mt,!0),OT=R.createContext({strict:!1}),mv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ps={};for(const t in mv)Ps[t]={isEnabled:e=>mv[t].some(n=>!!e[n])};function hP(t){for(const e in t)Ps[e]={...Ps[e],...t[e]}}const fP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fP.has(t)}let FT=t=>!Qc(t);function pP(t){t&&(FT=e=>e.startsWith("on")?!Qc(e):t(e))}try{pP(require("@emotion/is-prop-valid").default)}catch{}function mP(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(FT(i)||n===!0&&Qc(i)||!e&&!Qc(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function gP(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Ou=R.createContext({});function xa(t){return typeof t=="string"||Array.isArray(t)}function Fu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Em=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bm=["initial",...Em];function Uu(t){return Fu(t.animate)||bm.some(e=>xa(t[e]))}function UT(t){return!!(Uu(t)||t.variants)}function yP(t,e){if(Uu(t)){const{initial:n,animate:r}=t;return{initial:n===!1||xa(n)?n:void 0,animate:xa(r)?r:void 0}}return t.inherit!==!1?e:{}}function vP(t){const{initial:e,animate:n}=yP(t,R.useContext(Ou));return R.useMemo(()=>({initial:e,animate:n}),[gv(e),gv(n)])}function gv(t){return Array.isArray(t)?t.join(" "):t}const xP=Symbol.for("motionComponentSymbol");function os(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wP(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):os(n)&&(n.current=r))},[e])}const Sm=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_P="framerAppearId",BT="data-"+Sm(_P),{schedule:Im,cancel:a5}=LT(queueMicrotask,!1),zT=R.createContext({});function TP(t,e,n,r,i){var s,o;const{visualElement:a}=R.useContext(Ou),c=R.useContext(OT),u=R.useContext(_m),h=R.useContext(MT).reducedMotion,p=R.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=p.current,y=R.useContext(zT);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&kP(p.current,n,i,y);const x=R.useRef(!1);R.useInsertionEffect(()=>{m&&x.current&&m.update(n,u)});const E=n[BT],S=R.useRef(!!E&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,E))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,E)));return lP(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Im.render(m.render),S.current&&m.animationState&&m.animationState.animateChanges())}),R.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)===null||T===void 0||T.call(window,E)}),S.current=!1))}),m}function kP(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:$T(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&os(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function $T(t){if(t)return t.options.allowProjection!==!1?t.projection:$T(t.parent)}function EP({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&hP(t);function a(u,h){let p;const m={...R.useContext(MT),...u,layoutId:bP(u)},{isStatic:y}=m,x=vP(u),E=r(u,y);if(!y&&Tm){SP();const S=IP(m);p=S.MeasureLayout,x.visualElement=TP(i,E,m,e,S.ProjectionNode)}return d.jsxs(Ou.Provider,{value:x,children:[p&&x.visualElement?d.jsx(p,{visualElement:x.visualElement,...m}):null,n(i,u,wP(E,x.visualElement,h),E,y,x.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const c=R.forwardRef(a);return c[xP]=i,c}function bP({layoutId:t}){const e=R.useContext(VT).id;return e&&t!==void 0?e+"-"+t:t}function SP(t,e){R.useContext(OT).strict}function IP(t){const{drag:e,layout:n}=Ps;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const AP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Am(t){return typeof t!="string"||t.includes("-")?!1:!!(AP.indexOf(t)>-1||/[A-Z]/u.test(t))}function yv(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Cm(t,e,n,r){if(typeof e=="function"){const[i,s]=yv(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=yv(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const jf=t=>Array.isArray(t),CP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),PP=t=>jf(t)?t[t.length-1]||0:t,ut=t=>!!(t&&t.getVelocity);function cc(t){const e=ut(t)?t.get():t;return CP(e)?e.toValue():e}function NP({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:RP(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const HT=t=>(e,n)=>{const r=R.useContext(Ou),i=R.useContext(_m),s=()=>NP(t,e,r,i);return n?s():oP(s)};function RP(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=cc(s[m]);let{initial:o,animate:a}=t;const c=Uu(t),u=UT(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const p=h?a:o;if(p&&typeof p!="boolean"&&!Fu(p)){const m=Array.isArray(p)?p:[p];for(let y=0;y<m.length;y++){const x=Cm(t,m[y]);if(x){const{transitionEnd:E,transition:S,...T}=x;for(const v in T){let w=T[v];if(Array.isArray(w)){const j=h?w.length-1:0;w=w[j]}w!==null&&(i[v]=w)}for(const v in E)i[v]=E[v]}}}return i}const Ws=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ji=new Set(Ws),WT=t=>e=>typeof e=="string"&&e.startsWith(t),qT=WT("--"),DP=WT("var(--"),Pm=t=>DP(t)?jP.test(t.split("/*")[0].trim()):!1,jP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,GT=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Gn=(t,e,n)=>n>e?e:n<t?t:n,qs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wa={...qs,transform:t=>Gn(0,1,t)},Fl={...qs,default:1},Ba=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),or=Ba("deg"),xn=Ba("%"),G=Ba("px"),VP=Ba("vh"),MP=Ba("vw"),vv={...xn,parse:t=>xn.parse(t)/100,transform:t=>xn.transform(t*100)},LP={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,backgroundPositionX:G,backgroundPositionY:G},OP={rotate:or,rotateX:or,rotateY:or,rotateZ:or,scale:Fl,scaleX:Fl,scaleY:Fl,scaleZ:Fl,skew:or,skewX:or,skewY:or,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:wa,originX:vv,originY:vv,originZ:G},xv={...qs,transform:Math.round},Nm={...LP,...OP,zIndex:xv,size:G,fillOpacity:wa,strokeOpacity:wa,numOctaves:xv},FP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},UP=Ws.length;function BP(t,e,n){let r="",i=!0;for(let s=0;s<UP;s++){const o=Ws[s],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=GT(a,Nm[o]);if(!c){i=!1;const h=FP[o]||o;r+=`${h}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Rm(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const c in e){const u=e[c];if(ji.has(c)){o=!0;continue}else if(qT(c)){i[c]=u;continue}else{const h=GT(u,Nm[c]);c.startsWith("origin")?(a=!0,s[c]=h):r[c]=h}}if(e.transform||(o||n?r.transform=BP(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${c} ${u} ${h}`}}const zP={offset:"stroke-dashoffset",array:"stroke-dasharray"},$P={offset:"strokeDashoffset",array:"strokeDasharray"};function HP(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?zP:$P;t[s.offset]=G.transform(-r);const o=G.transform(e),a=G.transform(n);t[s.array]=`${o} ${a}`}function wv(t,e,n){return typeof t=="string"?t:G.transform(e+n*t)}function WP(t,e,n){const r=wv(e,t.x,t.width),i=wv(n,t.y,t.height);return`${r} ${i}`}function Dm(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...u},h,p){if(Rm(t,u,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y,dimensions:x}=t;m.transform&&(x&&(y.transform=m.transform),delete m.transform),x&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=WP(x,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&HP(m,o,a,c,!1)}const jm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),KT=()=>({...jm(),attrs:{}}),Vm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function QT(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const YT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XT(t,e,n,r){QT(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(YT.has(i)?i:Sm(i),e.attrs[i])}const Yc={};function qP(t){Object.assign(Yc,t)}function JT(t,{layout:e,layoutId:n}){return ji.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Yc[t]||t==="opacity")}function Mm(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(ut(i[o])||e.style&&ut(e.style[o])||JT(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function ZT(t,e,n){const r=Mm(t,e,n);for(const i in t)if(ut(t[i])||ut(e[i])){const s=Ws.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function GP(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const _v=["x","y","width","height","cx","cy","r"],KP={useVisualState:HT({scrapeMotionValuesFromProps:ZT,createRenderState:KT,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(ji.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<_v.length;a++){const c=_v[a];t[c]!==e[c]&&(o=!0)}o&&we.read(()=>{GP(n,r),we.render(()=>{Dm(r,i,Vm(n.tagName),t.transformTemplate),XT(n,r)})})}})},QP={useVisualState:HT({scrapeMotionValuesFromProps:Mm,createRenderState:jm})};function ek(t,e,n){for(const r in e)!ut(e[r])&&!JT(r,n)&&(t[r]=e[r])}function YP({transformTemplate:t},e){return R.useMemo(()=>{const n=jm();return Rm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function XP(t,e){const n=t.style||{},r={};return ek(r,n,t),Object.assign(r,YP(t,e)),r}function JP(t,e){const n={},r=XP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function ZP(t,e,n,r){const i=R.useMemo(()=>{const s=KT();return Dm(s,e,Vm(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};ek(s,t.style,t),i.style={...s,...i.style}}return i}function eN(t=!1){return(n,r,i,{latestValues:s},o)=>{const c=(Am(n)?ZP:JP)(r,s,o,n),u=mP(r,typeof n=="string",t),h=n!==R.Fragment?{...u,...c,ref:i}:{},{children:p}=r,m=R.useMemo(()=>ut(p)?p.get():p,[p]);return R.createElement(n,{...h,children:m})}}function tN(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Am(r)?KP:QP,preloadedFeatures:t,useRender:eN(i),createVisualElement:e,Component:r};return EP(o)}}function tk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Bu(t,e,n){const r=t.getProps();return Cm(r,e,n!==void 0?n:r.custom,t)}const nN=km(()=>window.ScrollTimeline!==void 0);class rN{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(nN()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class iN extends rN{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Lm(t,e){return t?t[e]||t.default||t:void 0}const Vf=2e4;function nk(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Vf;)e+=n,r=t.next(e);return e>=Vf?1/0:e}function Om(t){return typeof t=="function"}function Tv(t,e){t.timeline=e,t.onfinish=null}const Fm=t=>Array.isArray(t)&&typeof t[0]=="number",sN={linearEasing:void 0};function oN(t,e){const n=km(t);return()=>{var r;return(r=sN[e])!==null&&r!==void 0?r:n()}}const Xc=oN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rk=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Cs(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function ik(t){return!!(typeof t=="function"&&Xc()||!t||typeof t=="string"&&(t in Mf||Xc())||Fm(t)||Array.isArray(t)&&t.every(ik))}const Ao=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Mf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ao([0,.65,.55,1]),circOut:Ao([.55,0,1,.45]),backIn:Ao([.31,.01,.66,-.59]),backOut:Ao([.33,1.53,.69,.99])};function sk(t,e){if(t)return typeof t=="function"&&Xc()?rk(t,e):Fm(t)?Ao(t):Array.isArray(t)?t.map(n=>sk(n,e)||Mf.easeOut):Mf[t]}const en={x:!1,y:!1};function ok(){return en.x||en.y}function aN(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function ak(t,e){const n=aN(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function kv(t){return e=>{e.pointerType==="touch"||ok()||t(e)}}function lN(t,e,n={}){const[r,i,s]=ak(t,n),o=kv(a=>{const{target:c}=a,u=e(a);if(typeof u!="function"||!c)return;const h=kv(p=>{u(p),c.removeEventListener("pointerleave",h)});c.addEventListener("pointerleave",h,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const lk=(t,e)=>e?t===e?!0:lk(t,e.parentElement):!1,Um=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,cN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uN(t){return cN.has(t.tagName)||t.tabIndex!==-1}const Co=new WeakSet;function Ev(t){return e=>{e.key==="Enter"&&t(e)}}function uh(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const dN=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Ev(()=>{if(Co.has(n))return;uh(n,"down");const i=Ev(()=>{uh(n,"up")}),s=()=>uh(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function bv(t){return Um(t)&&!ok()}function hN(t,e,n={}){const[r,i,s]=ak(t,n),o=a=>{const c=a.currentTarget;if(!bv(a)||Co.has(c))return;Co.add(c);const u=e(a),h=(y,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",m),!(!bv(y)||!Co.has(c))&&(Co.delete(c),typeof u=="function"&&u(y,{success:x}))},p=y=>{h(y,n.useGlobalTarget||lk(c,y.target))},m=y=>{h(y,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",m,i)};return r.forEach(a=>{!uN(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>dN(u,i),i)}),s}function fN(t){return t==="x"||t==="y"?en[t]?null:(en[t]=!0,()=>{en[t]=!1}):en.x||en.y?null:(en.x=en.y=!0,()=>{en.x=en.y=!1})}const ck=new Set(["width","height","top","left","right","bottom",...Ws]);let uc;function pN(){uc=void 0}const wn={now:()=>(uc===void 0&&wn.set(Ke.isProcessing||cP.useManualTiming?Ke.timestamp:performance.now()),uc),set:t=>{uc=t,queueMicrotask(pN)}};function Bm(t,e){t.indexOf(e)===-1&&t.push(e)}function zm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class $m{constructor(){this.subscriptions=[]}add(e){return Bm(this.subscriptions,e),()=>zm(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function uk(t,e){return e?t*(1e3/e):0}const Sv=30,mN=t=>!isNaN(parseFloat(t));class gN{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=wn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=mN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new $m);const r=this.events[e].add(n);return e==="change"?()=>{r(),we.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Sv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Sv);return uk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _a(t,e){return new gN(t,e)}function yN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_a(n))}function vN(t,e){const n=Bu(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=PP(s[o]);yN(t,o,a)}}function xN(t){return!!(ut(t)&&t.add)}function Lf(t,e){const n=t.getValue("willChange");if(xN(n))return n.add(e)}function dk(t){return t.props[BT]}const hk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wN=1e-7,_N=12;function TN(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=hk(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>wN&&++a<_N);return o}function za(t,e,n,r){if(t===e&&n===r)return Mt;const i=s=>TN(s,0,1,t,n);return s=>s===0||s===1?s:hk(i(s),e,r)}const fk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pk=t=>e=>1-t(1-e),mk=za(.33,1.53,.69,.99),Hm=pk(mk),gk=fk(Hm),yk=t=>(t*=2)<1?.5*Hm(t):.5*(2-Math.pow(2,-10*(t-1))),Wm=t=>1-Math.sin(Math.acos(t)),vk=pk(Wm),xk=fk(Wm),wk=t=>/^0[^.\s]+$/u.test(t);function kN(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wk(t):!0}const $o=t=>Math.round(t*1e5)/1e5,qm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function EN(t){return t==null}const bN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gm=(t,e)=>n=>!!(typeof n=="string"&&bN.test(n)&&n.startsWith(t)||e&&!EN(n)&&Object.prototype.hasOwnProperty.call(n,e)),_k=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(qm);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},SN=t=>Gn(0,255,t),dh={...qs,transform:t=>Math.round(SN(t))},pi={test:Gm("rgb","red"),parse:_k("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+dh.transform(t)+", "+dh.transform(e)+", "+dh.transform(n)+", "+$o(wa.transform(r))+")"};function IN(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Of={test:Gm("#"),parse:IN,transform:pi.transform},as={test:Gm("hsl","hue"),parse:_k("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+xn.transform($o(e))+", "+xn.transform($o(n))+", "+$o(wa.transform(r))+")"},ot={test:t=>pi.test(t)||Of.test(t)||as.test(t),parse:t=>pi.test(t)?pi.parse(t):as.test(t)?as.parse(t):Of.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?pi.transform(t):as.transform(t)},AN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function CN(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(qm))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(AN))===null||n===void 0?void 0:n.length)||0)>0}const Tk="number",kk="color",PN="var",NN="var(",Iv="${}",RN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ta(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(RN,c=>(ot.test(c)?(r.color.push(s),i.push(kk),n.push(ot.parse(c))):c.startsWith(NN)?(r.var.push(s),i.push(PN),n.push(c)):(r.number.push(s),i.push(Tk),n.push(parseFloat(c))),++s,Iv)).split(Iv);return{values:n,split:a,indexes:r,types:i}}function Ek(t){return Ta(t).values}function bk(t){const{split:e,types:n}=Ta(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Tk?s+=$o(i[o]):a===kk?s+=ot.transform(i[o]):s+=i[o]}return s}}const DN=t=>typeof t=="number"?0:t;function jN(t){const e=Ek(t);return bk(t)(e.map(DN))}const Lr={test:CN,parse:Ek,createTransformer:bk,getAnimatableNone:jN},VN=new Set(["brightness","contrast","saturate","opacity"]);function MN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(qm)||[];if(!r)return t;const i=n.replace(r,"");let s=VN.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const LN=/\b([a-z-]*)\(.*?\)/gu,Ff={...Lr,getAnimatableNone:t=>{const e=t.match(LN);return e?e.map(MN).join(" "):t}},ON={...Nm,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:Ff,WebkitFilter:Ff},Km=t=>ON[t];function Sk(t,e){let n=Km(t);return n!==Ff&&(n=Lr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const FN=new Set(["auto","none","0"]);function UN(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!FN.has(s)&&Ta(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Sk(n,i)}const Av=t=>t===qs||t===G,Cv=(t,e)=>parseFloat(t.split(", ")[e]),Pv=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Cv(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?Cv(s[1],t):0}},BN=new Set(["x","y","z"]),zN=Ws.filter(t=>!BN.has(t));function $N(t){const e=[];return zN.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ns={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Pv(4,13),y:Pv(5,14)};Ns.translateX=Ns.x;Ns.translateY=Ns.y;const vi=new Set;let Uf=!1,Bf=!1;function Ik(){if(Bf){const t=Array.from(vi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=$N(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Bf=!1,Uf=!1,vi.forEach(t=>t.complete()),vi.clear()}function Ak(){vi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Bf=!0)})}function HN(){Ak(),Ik()}class Qm{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(vi.add(this),Uf||(Uf=!0,we.read(Ak),we.resolveKeyframes(Ik))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),vi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,vi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ck=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),WN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qN(t){const e=WN.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Pk(t,e,n=1){const[r,i]=qN(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Ck(o)?parseFloat(o):o}return Pm(i)?Pk(i,e,n+1):i}const Nk=t=>e=>e.test(t),GN={test:t=>t==="auto",parse:t=>t},Rk=[qs,G,xn,or,MP,VP,GN],Nv=t=>Rk.find(Nk(t));class Dk extends Qm{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),Pm(u))){const h=Pk(u,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!ck.has(r)||e.length!==2)return;const[i,s]=e,o=Nv(i),a=Nv(s);if(o!==a)if(Av(o)&&Av(a))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)kN(e[i])&&r.push(i);r.length&&UN(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ns[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Ns[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Rv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Lr.test(t)||t==="0")&&!t.startsWith("url("));function KN(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function QN(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Rv(i,e),a=Rv(s,e);return!o||!a?!1:KN(t)||(n==="spring"||Om(n))&&r}const YN=t=>t!==null;function zu(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(YN),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const XN=40;class jk{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=wn.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>XN?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&HN(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=wn.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:c,isGenerator:u}=this.options;if(!u&&!QN(e,r,i,s))if(o)this.options.duration=0;else{c&&c(zu(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ee=(t,e,n)=>t+(e-t)*n;function hh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function JN({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=hh(c,a,t+1/3),s=hh(c,a,t),o=hh(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Jc(t,e){return n=>n>0?e:t}const fh=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},ZN=[Of,pi,as],eR=t=>ZN.find(e=>e.test(t));function Dv(t){const e=eR(t);if(!e)return!1;let n=e.parse(t);return e===as&&(n=JN(n)),n}const jv=(t,e)=>{const n=Dv(t),r=Dv(e);if(!n||!r)return Jc(t,e);const i={...n};return s=>(i.red=fh(n.red,r.red,s),i.green=fh(n.green,r.green,s),i.blue=fh(n.blue,r.blue,s),i.alpha=Ee(n.alpha,r.alpha,s),pi.transform(i))},tR=(t,e)=>n=>e(t(n)),$a=(...t)=>t.reduce(tR),zf=new Set(["none","hidden"]);function nR(t,e){return zf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function rR(t,e){return n=>Ee(t,e,n)}function Ym(t){return typeof t=="number"?rR:typeof t=="string"?Pm(t)?Jc:ot.test(t)?jv:oR:Array.isArray(t)?Vk:typeof t=="object"?ot.test(t)?jv:iR:Jc}function Vk(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Ym(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function iR(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Ym(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function sR(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],c=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=c,i[o]++}return r}const oR=(t,e)=>{const n=Lr.createTransformer(e),r=Ta(t),i=Ta(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?zf.has(t)&&!i.values.length||zf.has(e)&&!r.values.length?nR(t,e):$a(Vk(sR(r,i),i.values),n):Jc(t,e)};function Mk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ee(t,e,n):Ym(t)(t,e)}const aR=5;function Lk(t,e,n){const r=Math.max(e-aR,0);return uk(n-t(r),e-r)}const Ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ph=.001;function lR({duration:t=Ce.duration,bounce:e=Ce.bounce,velocity:n=Ce.velocity,mass:r=Ce.mass}){let i,s,o=1-e;o=Gn(Ce.minDamping,Ce.maxDamping,o),t=Gn(Ce.minDuration,Ce.maxDuration,zn(t)),o<1?(i=u=>{const h=u*o,p=h*t,m=h-n,y=$f(u,o),x=Math.exp(-p);return ph-m/y*x},s=u=>{const p=u*o*t,m=p*n+n,y=Math.pow(o,2)*Math.pow(u,2)*t,x=Math.exp(-p),E=$f(Math.pow(u,2),o);return(-i(u)+ph>0?-1:1)*((m-y)*x)/E}):(i=u=>{const h=Math.exp(-u*t),p=(u-n)*t+1;return-ph+h*p},s=u=>{const h=Math.exp(-u*t),p=(n-u)*(t*t);return h*p});const a=5/t,c=uR(i,s,a);if(t=Bn(t),isNaN(c))return{stiffness:Ce.stiffness,damping:Ce.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const cR=12;function uR(t,e,n){let r=n;for(let i=1;i<cR;i++)r=r-t(r)/e(r);return r}function $f(t,e){return t*Math.sqrt(1-e*e)}const dR=["duration","bounce"],hR=["stiffness","damping","mass"];function Vv(t,e){return e.some(n=>t[n]!==void 0)}function fR(t){let e={velocity:Ce.velocity,stiffness:Ce.stiffness,damping:Ce.damping,mass:Ce.mass,isResolvedFromDuration:!1,...t};if(!Vv(t,hR)&&Vv(t,dR))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Gn(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ce.mass,stiffness:i,damping:s}}else{const n=lR(t);e={...e,...n,mass:Ce.mass},e.isResolvedFromDuration=!0}return e}function Ok(t=Ce.visualDuration,e=Ce.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:u,mass:h,duration:p,velocity:m,isResolvedFromDuration:y}=fR({...n,velocity:-zn(n.velocity||0)}),x=m||0,E=u/(2*Math.sqrt(c*h)),S=o-s,T=zn(Math.sqrt(c/h)),v=Math.abs(S)<5;r||(r=v?Ce.restSpeed.granular:Ce.restSpeed.default),i||(i=v?Ce.restDelta.granular:Ce.restDelta.default);let w;if(E<1){const M=$f(T,E);w=F=>{const b=Math.exp(-E*T*F);return o-b*((x+E*T*S)/M*Math.sin(M*F)+S*Math.cos(M*F))}}else if(E===1)w=M=>o-Math.exp(-T*M)*(S+(x+T*S)*M);else{const M=T*Math.sqrt(E*E-1);w=F=>{const b=Math.exp(-E*T*F),_=Math.min(M*F,300);return o-b*((x+E*T*S)*Math.sinh(_)+M*S*Math.cosh(_))/M}}const j={calculatedDuration:y&&p||null,next:M=>{const F=w(M);if(y)a.done=M>=p;else{let b=0;E<1&&(b=M===0?Bn(x):Lk(w,M,F));const _=Math.abs(b)<=r,I=Math.abs(o-F)<=i;a.done=_&&I}return a.value=a.done?o:F,a},toString:()=>{const M=Math.min(nk(j),Vf),F=rk(b=>j.next(M*b).value,M,30);return M+"ms "+F}};return j}function Mv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:h}){const p=t[0],m={done:!1,value:p},y=_=>a!==void 0&&_<a||c!==void 0&&_>c,x=_=>a===void 0?c:c===void 0||Math.abs(a-_)<Math.abs(c-_)?a:c;let E=n*e;const S=p+E,T=o===void 0?S:o(S);T!==S&&(E=T-p);const v=_=>-E*Math.exp(-_/r),w=_=>T+v(_),j=_=>{const I=v(_),A=w(_);m.done=Math.abs(I)<=u,m.value=m.done?T:A};let M,F;const b=_=>{y(m.value)&&(M=_,F=Ok({keyframes:[m.value,x(m.value)],velocity:Lk(w,_,m.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return b(0),{calculatedDuration:null,next:_=>{let I=!1;return!F&&M===void 0&&(I=!0,j(_),b(_)),M!==void 0&&_>=M?F.next(_-M):(!I&&j(_),m)}}}const pR=za(.42,0,1,1),mR=za(0,0,.58,1),Fk=za(.42,0,.58,1),gR=t=>Array.isArray(t)&&typeof t[0]!="number",Lv={linear:Mt,easeIn:pR,easeInOut:Fk,easeOut:mR,circIn:Wm,circInOut:xk,circOut:vk,backIn:Hm,backInOut:gk,backOut:mk,anticipate:yk},Ov=t=>{if(Fm(t)){Df(t.length===4);const[e,n,r,i]=t;return za(e,n,r,i)}else if(typeof t=="string")return Df(Lv[t]!==void 0),Lv[t];return t};function yR(t,e,n){const r=[],i=n||Mk,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Mt:e;a=$a(c,a)}r.push(a)}return r}function vR(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Df(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=yR(e,r,i),c=a.length,u=h=>{if(o&&h<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(h<t[p+1]);p++);const m=Cs(t[p],t[p+1],h);return a[p](m)};return n?h=>u(Gn(t[0],t[s-1],h)):u}function xR(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Cs(0,e,r);t.push(Ee(n,1,i))}}function wR(t){const e=[0];return xR(e,t.length-1),e}function _R(t,e){return t.map(n=>n*e)}function TR(t,e){return t.map(()=>e||Fk).splice(0,t.length-1)}function Zc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=gR(r)?r.map(Ov):Ov(r),s={done:!1,value:e[0]},o=_R(n&&n.length===e.length?n:wR(e),t),a=vR(o,e,{ease:Array.isArray(i)?i:TR(e,i)});return{calculatedDuration:t,next:c=>(s.value=a(c),s.done=c>=t,s)}}const kR=t=>{const e=({timestamp:n})=>t(n);return{start:()=>we.update(e,!0),stop:()=>Mr(e),now:()=>Ke.isProcessing?Ke.timestamp:wn.now()}},ER={decay:Mv,inertia:Mv,tween:Zc,keyframes:Zc,spring:Ok},bR=t=>t/100;class Xm extends jk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Qm,a=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Om(n)?n:ER[n]||Zc;let c,u;a!==Zc&&typeof e[0]!="number"&&(c=$a(bR,Mk(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=nk(h));const{calculatedDuration:p}=h,m=p+i,y=m*(r+1)-i;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:p,resolvedDuration:m,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:c,calculatedDuration:u,totalDuration:h,resolvedDuration:p}=r;if(this.startTime===null)return s.next(0);const{delay:m,repeat:y,repeatType:x,repeatDelay:E,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const T=this.currentTime-m*(this.speed>=0?1:-1),v=this.speed>=0?T<0:T>h;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let w=this.currentTime,j=s;if(y){const _=Math.min(this.currentTime,h)/p;let I=Math.floor(_),A=_%1;!A&&_>=1&&(A=1),A===1&&I--,I=Math.min(I,y+1),!!(I%2)&&(x==="reverse"?(A=1-A,E&&(A-=E/p)):x==="mirror"&&(j=o)),w=Gn(0,1,A)*p}const M=v?{done:!1,value:c[0]}:j.next(w);a&&(M.value=a(M.value));let{done:F}=M;!v&&u!==null&&(F=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return b&&i!==void 0&&(M.value=zu(c,this.options,i)),S&&S(M.value),b&&this.finish(),M}get duration(){const{resolved:e}=this;return e?zn(e.calculatedDuration):0}get time(){return zn(this.currentTime)}set time(e){e=Bn(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=zn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=kR,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const SR=new Set(["opacity","clipPath","filter","transform"]);function IR(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const h=sk(a,i);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const AR=km(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),eu=10,CR=2e4;function PR(t){return Om(t.type)||t.type==="spring"||!ik(t.ease)}function NR(t,e){const n=new Xm({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<CR;)r=n.sample(s),i.push(r.value),s+=eu;return{times:void 0,keyframes:i,duration:s-eu,ease:"linear"}}const Uk={anticipate:yk,backInOut:gk,circInOut:xk};function RR(t){return t in Uk}class Fv extends jk{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new Dk(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:c,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Xc()&&RR(s)&&(s=Uk[s]),PR(this.options)){const{onComplete:p,onUpdate:m,motionValue:y,element:x,...E}=this.options,S=NR(e,E);e=S.keyframes,e.length===1&&(e[1]=e[0]),r=S.duration,i=S.times,s=S.ease,o="keyframes"}const h=IR(a.owner.current,c,e,{...this.options,duration:r,times:i,ease:s});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(Tv(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:p}=this.options;a.set(zu(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return zn(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return zn(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Bn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Mt;const{animation:r}=n;Tv(r,e)}return Mt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:p,element:m,...y}=this.options,x=new Xm({...y,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),E=Bn(this.time);u.setWithVelocity(x.sample(E-eu).value,x.sample(E).value,eu)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return AR()&&r&&SR.has(r)&&!c&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const DR={type:"spring",stiffness:500,damping:25,restSpeed:10},jR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),VR={type:"keyframes",duration:.8},MR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LR=(t,{keyframes:e})=>e.length>2?VR:ji.has(t)?t.startsWith("scale")?jR(e[1]):DR:MR;function OR({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const Jm=(t,e,n,r={},i,s)=>o=>{const a=Lm(r,t)||{},c=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Bn(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};OR(a)||(h={...h,...LR(t,h)}),h.duration&&(h.duration=Bn(h.duration)),h.repeatDelay&&(h.repeatDelay=Bn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),p&&!s&&e.get()!==void 0){const m=zu(h.keyframes,a);if(m!==void 0)return we.update(()=>{h.onUpdate(m),h.onComplete()}),new iN([])}return!s&&Fv.supports(h)?new Fv(h):new Xm(h)};function FR({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Bk(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(o=r);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const p in c){const m=t.getValue(p,(s=t.latestValues[p])!==null&&s!==void 0?s:null),y=c[p];if(y===void 0||h&&FR(h,p))continue;const x={delay:n,...Lm(o||{},p)};let E=!1;if(window.MotionHandoffAnimation){const T=dk(t);if(T){const v=window.MotionHandoffAnimation(T,p,we);v!==null&&(x.startTime=v,E=!0)}}Lf(t,p),m.start(Jm(p,m,y,t.shouldReduceMotion&&ck.has(p)?{type:!1}:x,t,E));const S=m.animation;S&&u.push(S)}return a&&Promise.all(u).then(()=>{we.update(()=>{a&&vN(t,a)})}),u}function Hf(t,e,n={}){var r;const i=Bu(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(Bk(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:m}=s;return UR(t,e,h+u,p,m,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,h]=c==="beforeChildren"?[o,a]:[a,o];return u().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function UR(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(BR).forEach((u,h)=>{u.notify("AnimationStart",e),o.push(Hf(u,e,{...s,delay:n+c(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function BR(t,e){return t.sortNodePosition(e)}function zR(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Hf(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Hf(t,e,n);else{const i=typeof e=="function"?Bu(t,e,n.custom):e;r=Promise.all(Bk(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const $R=bm.length;function zk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?zk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$R;n++){const r=bm[n],i=t.props[r];(xa(i)||i===!1)&&(e[r]=i)}return e}const HR=[...Em].reverse(),WR=Em.length;function qR(t){return e=>Promise.all(e.map(({animation:n,options:r})=>zR(t,n,r)))}function GR(t){let e=qR(t),n=Uv(),r=!0;const i=c=>(u,h)=>{var p;const m=Bu(t,h,c==="exit"?(p=t.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(m){const{transition:y,transitionEnd:x,...E}=m;u={...u,...E,...x}}return u};function s(c){e=c(t)}function o(c){const{props:u}=t,h=zk(t.parent)||{},p=[],m=new Set;let y={},x=1/0;for(let S=0;S<WR;S++){const T=HR[S],v=n[T],w=u[T]!==void 0?u[T]:h[T],j=xa(w),M=T===c?v.isActive:null;M===!1&&(x=S);let F=w===h[T]&&w!==u[T]&&j;if(F&&r&&t.manuallyAnimateOnMount&&(F=!1),v.protectedKeys={...y},!v.isActive&&M===null||!w&&!v.prevProp||Fu(w)||typeof w=="boolean")continue;const b=KR(v.prevProp,w);let _=b||T===c&&v.isActive&&!F&&j||S>x&&j,I=!1;const A=Array.isArray(w)?w:[w];let N=A.reduce(i(T),{});M===!1&&(N={});const{prevResolvedValues:P={}}=v,C={...P,...N},fe=me=>{_=!0,m.has(me)&&(I=!0,m.delete(me)),v.needsAnimating[me]=!0;const z=t.getValue(me);z&&(z.liveStyle=!1)};for(const me in C){const z=N[me],K=P[me];if(y.hasOwnProperty(me))continue;let X=!1;jf(z)&&jf(K)?X=!tk(z,K):X=z!==K,X?z!=null?fe(me):m.add(me):z!==void 0&&m.has(me)?fe(me):v.protectedKeys[me]=!0}v.prevProp=w,v.prevResolvedValues=N,v.isActive&&(y={...y,...N}),r&&t.blockInitialAnimation&&(_=!1),_&&(!(F&&b)||I)&&p.push(...A.map(me=>({animation:me,options:{type:T}})))}if(m.size){const S={};m.forEach(T=>{const v=t.getBaseTarget(T),w=t.getValue(T);w&&(w.liveStyle=!0),S[T]=v??null}),p.push({animation:S})}let E=!!p.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(p):Promise.resolve()}function a(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),n[c].isActive=u;const p=o(c);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Uv(),r=!0}}}function KR(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!tk(e,t):!1}function ri(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Uv(){return{animate:ri(!0),whileInView:ri(),whileHover:ri(),whileTap:ri(),whileDrag:ri(),whileFocus:ri(),exit:ri()}}class Qr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class QR extends Qr{constructor(e){super(e),e.animationState||(e.animationState=GR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Fu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let YR=0;class XR extends Qr{constructor(){super(...arguments),this.id=YR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const JR={animation:{Feature:QR},exit:{Feature:XR}};function ka(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ha(t){return{point:{x:t.pageX,y:t.pageY}}}const ZR=t=>e=>Um(e)&&t(e,Ha(e));function Ho(t,e,n,r){return ka(t,e,ZR(n),r)}const Bv=(t,e)=>Math.abs(t-e);function eD(t,e){const n=Bv(t.x,e.x),r=Bv(t.y,e.y);return Math.sqrt(n**2+r**2)}class $k{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=gh(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=eD(p.offset,{x:0,y:0})>=3;if(!m&&!y)return;const{point:x}=p,{timestamp:E}=Ke;this.history.push({...x,timestamp:E});const{onStart:S,onMove:T}=this.handlers;m||(S&&S(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=mh(m,this.transformPagePoint),we.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=gh(p.type==="pointercancel"?this.lastMoveEventInfo:mh(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,S),x&&x(p,S)},!Um(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Ha(e),a=mh(o,this.transformPagePoint),{point:c}=a,{timestamp:u}=Ke;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,gh(a,this.history)),this.removeListeners=$a(Ho(this.contextWindow,"pointermove",this.handlePointerMove),Ho(this.contextWindow,"pointerup",this.handlePointerUp),Ho(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mr(this.updatePoint)}}function mh(t,e){return e?{point:e(t.point)}:t}function zv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function gh({point:t},e){return{point:t,delta:zv(t,Hk(e)),offset:zv(t,tD(e)),velocity:nD(e,.1)}}function tD(t){return t[0]}function Hk(t){return t[t.length-1]}function nD(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Hk(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Bn(e)));)n--;if(!r)return{x:0,y:0};const s=zn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Wk=1e-4,rD=1-Wk,iD=1+Wk,qk=.01,sD=0-qk,oD=0+qk;function Ot(t){return t.max-t.min}function aD(t,e,n){return Math.abs(t-e)<=n}function $v(t,e,n,r=.5){t.origin=r,t.originPoint=Ee(e.min,e.max,t.origin),t.scale=Ot(n)/Ot(e),t.translate=Ee(n.min,n.max,t.origin)-t.originPoint,(t.scale>=rD&&t.scale<=iD||isNaN(t.scale))&&(t.scale=1),(t.translate>=sD&&t.translate<=oD||isNaN(t.translate))&&(t.translate=0)}function Wo(t,e,n,r){$v(t.x,e.x,n.x,r?r.originX:void 0),$v(t.y,e.y,n.y,r?r.originY:void 0)}function Hv(t,e,n){t.min=n.min+e.min,t.max=t.min+Ot(e)}function lD(t,e,n){Hv(t.x,e.x,n.x),Hv(t.y,e.y,n.y)}function Wv(t,e,n){t.min=e.min-n.min,t.max=t.min+Ot(e)}function qo(t,e,n){Wv(t.x,e.x,n.x),Wv(t.y,e.y,n.y)}function cD(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ee(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ee(n,t,r.max):Math.min(t,n)),t}function qv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uD(t,{top:e,left:n,bottom:r,right:i}){return{x:qv(t.x,n,i),y:qv(t.y,e,r)}}function Gv(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function dD(t,e){return{x:Gv(t.x,e.x),y:Gv(t.y,e.y)}}function hD(t,e){let n=.5;const r=Ot(t),i=Ot(e);return i>r?n=Cs(e.min,e.max-r,t.min):r>i&&(n=Cs(t.min,t.max-i,e.min)),Gn(0,1,n)}function fD(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Wf=.35;function pD(t=Wf){return t===!1?t=0:t===!0&&(t=Wf),{x:Kv(t,"left","right"),y:Kv(t,"top","bottom")}}function Kv(t,e,n){return{min:Qv(t,e),max:Qv(t,n)}}function Qv(t,e){return typeof t=="number"?t:t[e]||0}const Yv=()=>({translate:0,scale:1,origin:0,originPoint:0}),ls=()=>({x:Yv(),y:Yv()}),Xv=()=>({min:0,max:0}),Re=()=>({x:Xv(),y:Xv()});function zt(t){return[t("x"),t("y")]}function Gk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function mD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function yh(t){return t===void 0||t===1}function qf({scale:t,scaleX:e,scaleY:n}){return!yh(t)||!yh(e)||!yh(n)}function oi(t){return qf(t)||Kk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Kk(t){return Jv(t.x)||Jv(t.y)}function Jv(t){return t&&t!=="0%"}function tu(t,e,n){const r=t-n,i=e*r;return n+i}function Zv(t,e,n,r,i){return i!==void 0&&(t=tu(t,i,r)),tu(t,n,r)+e}function Gf(t,e=0,n=1,r,i){t.min=Zv(t.min,e,n,r,i),t.max=Zv(t.max,e,n,r,i)}function Qk(t,{x:e,y:n}){Gf(t.x,e.translate,e.scale,e.originPoint),Gf(t.y,n.translate,n.scale,n.originPoint)}const ex=.999999999999,tx=1.0000000000001;function yD(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&us(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Qk(t,o)),r&&oi(s.latestValues)&&us(t,s.latestValues))}e.x<tx&&e.x>ex&&(e.x=1),e.y<tx&&e.y>ex&&(e.y=1)}function cs(t,e){t.min=t.min+e,t.max=t.max+e}function nx(t,e,n,r,i=.5){const s=Ee(t.min,t.max,i);Gf(t,e,n,s,r)}function us(t,e){nx(t.x,e.x,e.scaleX,e.scale,e.originX),nx(t.y,e.y,e.scaleY,e.scale,e.originY)}function Yk(t,e){return Gk(gD(t.getBoundingClientRect(),e))}function vD(t,e,n){const r=Yk(t,n),{scroll:i}=e;return i&&(cs(r.x,i.offset.x),cs(r.y,i.offset.y)),r}const Xk=({current:t})=>t?t.ownerDocument.defaultView:null,xD=new WeakMap;class wD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Re(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ha(h).point)},s=(h,p)=>{const{drag:m,dragPropagation:y,onDragStart:x}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fN(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zt(S=>{let T=this.getAxisMotionValue(S).get()||0;if(xn.test(T)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[S];w&&(T=Ot(w)*(parseFloat(T)/100))}}this.originPoint[S]=T}),x&&we.postRender(()=>x(h,p)),Lf(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(h,p)=>{const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:x,onDrag:E}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:S}=p;if(y&&this.currentDirection===null){this.currentDirection=_D(S),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),E&&E(h,p)},a=(h,p)=>this.stop(h,p),c=()=>zt(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new $k(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Xk(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&we.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ul(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=cD(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&os(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=uD(i.layoutBox,n):this.constraints=!1,this.elastic=pD(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&zt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fD(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!os(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=vD(r,i.root,this.visualElement.getTransformPagePoint());let o=dD(i.layout.layoutBox,s);if(n){const a=n(mD(o));this.hasMutatedConstraints=!!a,a&&(o=Gk(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=zt(h=>{if(!Ul(h,n,this.currentDirection))return;let p=c&&c[h]||{};o&&(p={min:0,max:0});const m=i?200:1e6,y=i?40:1e7,x={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(h,x)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Lf(this.visualElement,e),r.start(Jm(e,r,0,n,this.visualElement,!1))}stopAnimation(){zt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){zt(n=>{const{drag:r}=this.getProps();if(!Ul(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ee(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!os(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};zt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=hD({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zt(o=>{if(!Ul(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(Ee(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;xD.set(this.visualElement,this);const e=this.visualElement.current,n=Ho(e,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();os(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),we.read(r);const o=ka(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(zt(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=c[h].translate,p.set(p.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Wf,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ul(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function _D(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class TD extends Qr{constructor(e){super(e),this.removeGroupControls=Mt,this.removeListeners=Mt,this.controls=new wD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mt}unmount(){this.removeGroupControls(),this.removeListeners()}}const rx=t=>(e,n)=>{t&&we.postRender(()=>t(e,n))};class kD extends Qr{constructor(){super(...arguments),this.removePointerDownListener=Mt}onPointerDown(e){this.session=new $k(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Xk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:rx(e),onStart:rx(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&we.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ho(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ix(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const To={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(G.test(t))t=parseFloat(t);else return t;const n=ix(t,e.target.x),r=ix(t,e.target.y);return`${n}% ${r}%`}},ED={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Lr.parse(t);if(i.length>5)return r;const s=Lr.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const u=Ee(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class bD extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;qP(SD),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),dc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||we.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Im.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Jk(t){const[e,n]=aP(),r=R.useContext(VT);return d.jsx(bD,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(zT),isPresent:e,safeToRemove:n})}const SD={borderRadius:{...To,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:To,borderTopRightRadius:To,borderBottomLeftRadius:To,borderBottomRightRadius:To,boxShadow:ED};function ID(t,e,n){const r=ut(t)?t:_a(t);return r.start(Jm("",r,e,n)),r.animation}function AD(t){return t instanceof SVGElement&&t.tagName!=="svg"}const CD=(t,e)=>t.depth-e.depth;class PD{constructor(){this.children=[],this.isDirty=!1}add(e){Bm(this.children,e),this.isDirty=!0}remove(e){zm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(CD),this.isDirty=!1,this.children.forEach(e)}}function ND(t,e){const n=wn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Mr(r),t(s-e))};return we.read(r,!0),()=>Mr(r)}const Zk=["TopLeft","TopRight","BottomLeft","BottomRight"],RD=Zk.length,sx=t=>typeof t=="string"?parseFloat(t):t,ox=t=>typeof t=="number"||G.test(t);function DD(t,e,n,r,i,s){i?(t.opacity=Ee(0,n.opacity!==void 0?n.opacity:1,jD(r)),t.opacityExit=Ee(e.opacity!==void 0?e.opacity:1,0,VD(r))):s&&(t.opacity=Ee(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<RD;o++){const a=`border${Zk[o]}Radius`;let c=ax(e,a),u=ax(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||ox(c)===ox(u)?(t[a]=Math.max(Ee(sx(c),sx(u),r),0),(xn.test(u)||xn.test(c))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ee(e.rotate||0,n.rotate||0,r))}function ax(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const jD=eE(0,.5,vk),VD=eE(.5,.95,Mt);function eE(t,e,n){return r=>r<t?0:r>e?1:n(Cs(t,e,r))}function lx(t,e){t.min=e.min,t.max=e.max}function Bt(t,e){lx(t.x,e.x),lx(t.y,e.y)}function cx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ux(t,e,n,r,i){return t-=e,t=tu(t,1/n,r),i!==void 0&&(t=tu(t,1/i,r)),t}function MD(t,e=0,n=1,r=.5,i,s=t,o=t){if(xn.test(e)&&(e=parseFloat(e),e=Ee(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ee(s.min,s.max,r);t===s&&(a-=e),t.min=ux(t.min,e,n,a,i),t.max=ux(t.max,e,n,a,i)}function dx(t,e,[n,r,i],s,o){MD(t,e[n],e[r],e[i],e.scale,s,o)}const LD=["x","scaleX","originX"],OD=["y","scaleY","originY"];function hx(t,e,n,r){dx(t.x,e,LD,n?n.x:void 0,r?r.x:void 0),dx(t.y,e,OD,n?n.y:void 0,r?r.y:void 0)}function fx(t){return t.translate===0&&t.scale===1}function tE(t){return fx(t.x)&&fx(t.y)}function px(t,e){return t.min===e.min&&t.max===e.max}function FD(t,e){return px(t.x,e.x)&&px(t.y,e.y)}function mx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function nE(t,e){return mx(t.x,e.x)&&mx(t.y,e.y)}function gx(t){return Ot(t.x)/Ot(t.y)}function yx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class UD{constructor(){this.members=[]}add(e){Bm(this.members,e),e.scheduleRender()}remove(e){if(zm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BD(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:p,rotateY:m,skewX:y,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),p&&(r+=`rotateX(${p}deg) `),m&&(r+=`rotateY(${m}deg) `),y&&(r+=`skewX(${y}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const ai={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Po=typeof window<"u"&&window.MotionDebug!==void 0,vh=["","X","Y","Z"],zD={visibility:"hidden"},vx=1e3;let $D=0;function xh(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function rE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=dk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",we,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&rE(r)}function iE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=$D++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Po&&(ai.totalNodes=ai.resolvedTargetDeltas=ai.recalculatedProjection=0),this.nodes.forEach(qD),this.nodes.forEach(XD),this.nodes.forEach(JD),this.nodes.forEach(GD),Po&&window.MotionDebug.record(ai)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new PD)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new $m),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=AD(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),t){let p;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=ND(m,250),dc.hasAnimatedSinceResize&&(dc.hasAnimatedSinceResize=!1,this.nodes.forEach(wx))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeTargetChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||h.getDefaultTransition()||rj,{onLayoutAnimationStart:S,onLayoutAnimationComplete:T}=h.getProps(),v=!this.targetLayout||!nE(this.targetLayout,x)||y,w=!m&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,w);const j={...Lm(E,"layout"),onPlay:S,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||wx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Mr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZD),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xx);return}this.isUpdating||this.nodes.forEach(QD),this.isUpdating=!1,this.nodes.forEach(YD),this.nodes.forEach(HD),this.nodes.forEach(WD),this.clearAllSnapshots();const a=wn.now();Ke.delta=Gn(0,1e3/60,a-Ke.timestamp),Ke.timestamp=a,Ke.isProcessing=!0,ch.update.process(Ke),ch.preRender.process(Ke),ch.render.process(Ke),Ke.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Im.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(KD),this.sharedNodes.forEach(ej)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,we.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){we.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!tE(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(a||oi(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),ij(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Re();const c=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(sj))){const{scroll:h}=this.root;h&&(cs(c.x,h.offset.x),cs(c.y,h.offset.y))}return c}removeElementScroll(o){var a;const c=Re();if(Bt(c,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:p,options:m}=h;h!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&Bt(c,o),cs(c.x,p.offset.x),cs(c.y,p.offset.y))}return c}applyTransform(o,a=!1){const c=Re();Bt(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&us(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),oi(h.latestValues)&&us(c,h.latestValues)}return oi(this.latestValues)&&us(c,this.latestValues),c}removeTransform(o){const a=Re();Bt(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!oi(u.latestValues))continue;qf(u.latestValues)&&u.updateSnapshot();const h=Re(),p=u.measurePageBox();Bt(h,p),hx(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return oi(this.latestValues)&&hx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ke.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=Ke.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),qo(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Re(),this.targetWithTransforms=Re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bt(this.target,this.layout.layoutBox),Qk(this.target,this.targetDelta)):Bt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),qo(this.relativeTargetOrigin,this.target,y.target),Bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Po&&ai.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||qf(this.parent.latestValues)||Kk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ke.timestamp&&(u=!1),u)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Bt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;yD(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Re());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cx(this.prevProjectionDelta.x,this.projectionDelta.x),cx(this.prevProjectionDelta.y,this.projectionDelta.y)),Wo(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!yx(this.projectionDelta.x,this.prevProjectionDelta.x)||!yx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Po&&ai.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ls(),this.projectionDelta=ls(),this.projectionDeltaWithTransform=ls()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},p=ls();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Re(),y=c?c.source:void 0,x=this.layout?this.layout.source:void 0,E=y!==x,S=this.getStack(),T=!S||S.members.length<=1,v=!!(E&&!T&&this.options.crossfade===!0&&!this.path.some(nj));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const M=j/1e3;_x(p.x,o.x,M),_x(p.y,o.y,M),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qo(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tj(this.relativeTarget,this.relativeTargetOrigin,m,M),w&&FD(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Re()),Bt(w,this.relativeTarget)),E&&(this.animationValues=h,DD(h,u,this.latestValues,M,v,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Mr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=we.update(()=>{dc.hasAnimatedSinceResize=!0,this.currentAnimation=ID(0,vx,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:h}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&sE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Re();const p=Ot(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+p;const m=Ot(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Bt(a,c),us(a,h),Wo(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new UD),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&xh("z",o,u,this.animationValues);for(let h=0;h<vh.length;h++)xh(`rotate${vh[h]}`,o,u,this.animationValues),xh(`skew${vh[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zD;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=cc(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=cc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!oi(this.latestValues)&&(E.transform=h?h({},""):"none",this.hasProjected=!1),E}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=BD(this.projectionDeltaWithTransform,this.treeScale,m),h&&(u.transform=h(m,u.transform));const{x:y,y:x}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${x.origin*100}% 0`,p.animationValues?u.opacity=p===this?(c=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const E in Yc){if(m[E]===void 0)continue;const{correct:S,applyTo:T}=Yc[E],v=u.transform==="none"?m[E]:S(m[E],p);if(T){const w=T.length;for(let j=0;j<w;j++)u[T[j]]=v}else u[E]=v}return this.options.layoutId&&(u.pointerEvents=p===this?cc(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(xx),this.root.sharedNodes.clear()}}}function HD(t){t.updateLayout()}function WD(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?zt(p=>{const m=o?n.measuredBox[p]:n.layoutBox[p],y=Ot(m);m.min=r[p].min,m.max=m.min+y}):sE(s,n.layoutBox,r)&&zt(p=>{const m=o?n.measuredBox[p]:n.layoutBox[p],y=Ot(r[p]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const a=ls();Wo(a,r,n.layoutBox);const c=ls();o?Wo(c,t.applyTransform(i,!0),n.measuredBox):Wo(c,r,n.layoutBox);const u=!tE(a);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const x=Re();qo(x,n.layoutBox,m.layoutBox);const E=Re();qo(E,r,y.layoutBox),nE(x,E)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=x,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function qD(t){Po&&ai.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function GD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function KD(t){t.clearSnapshot()}function xx(t){t.clearMeasurements()}function QD(t){t.isLayoutDirty=!1}function YD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function wx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function XD(t){t.resolveTargetDelta()}function JD(t){t.calcProjection()}function ZD(t){t.resetSkewAndRotation()}function ej(t){t.removeLeadSnapshot()}function _x(t,e,n){t.translate=Ee(e.translate,0,n),t.scale=Ee(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Tx(t,e,n,r){t.min=Ee(e.min,n.min,r),t.max=Ee(e.max,n.max,r)}function tj(t,e,n,r){Tx(t.x,e.x,n.x,r),Tx(t.y,e.y,n.y,r)}function nj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const rj={duration:.45,ease:[.4,0,.1,1]},kx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ex=kx("applewebkit/")&&!kx("chrome/")?Math.round:Mt;function bx(t){t.min=Ex(t.min),t.max=Ex(t.max)}function ij(t){bx(t.x),bx(t.y)}function sE(t,e,n){return t==="position"||t==="preserve-aspect"&&!aD(gx(e),gx(n),.2)}function sj(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const oj=iE({attachResizeListener:(t,e)=>ka(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wh={current:void 0},oE=iE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wh.current){const t=new oj({});t.mount(window),t.setOptions({layoutScroll:!0}),wh.current=t}return wh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),aj={pan:{Feature:kD},drag:{Feature:TD,ProjectionNode:oE,MeasureLayout:Jk}};function Sx(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&we.postRender(()=>s(e,Ha(e)))}class lj extends Qr{mount(){const{current:e}=this.node;e&&(this.unmount=lN(e,n=>(Sx(this.node,n,"Start"),r=>Sx(this.node,r,"End"))))}unmount(){}}class cj extends Qr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$a(ka(this.node.current,"focus",()=>this.onFocus()),ka(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ix(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&we.postRender(()=>s(e,Ha(e)))}class uj extends Qr{mount(){const{current:e}=this.node;e&&(this.unmount=hN(e,n=>(Ix(this.node,n,"Start"),(r,{success:i})=>Ix(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kf=new WeakMap,_h=new WeakMap,dj=t=>{const e=Kf.get(t.target);e&&e(t)},hj=t=>{t.forEach(dj)};function fj({root:t,...e}){const n=t||document;_h.has(n)||_h.set(n,{});const r=_h.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(hj,{root:t,...e})),r[i]}function pj(t,e,n){const r=fj(e);return Kf.set(t,n),r.observe(t),()=>{Kf.delete(t),r.unobserve(t)}}const mj={some:0,all:1};class gj extends Qr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:mj[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),m=u?h:p;m&&m(c)};return pj(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(yj(e,n))&&this.startObserver()}unmount(){}}function yj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const vj={inView:{Feature:gj},tap:{Feature:uj},focus:{Feature:cj},hover:{Feature:lj}},xj={layout:{ProjectionNode:oE,MeasureLayout:Jk}},Qf={current:null},aE={current:!1};function wj(){if(aE.current=!0,!!Tm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qf.current=t.matches;t.addListener(e),e()}else Qf.current=!1}const _j=[...Rk,ot,Lr],Tj=t=>_j.find(Nk(t)),Ax=new WeakMap;function kj(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ut(i))t.addValue(r,i);else if(ut(s))t.addValue(r,_a(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,_a(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Cx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ej{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=wn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,we.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:h}=o;this.onUpdate=h,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Uu(n),this.isVariantNode=UT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const x=m[y];c[y]!==void 0&&ut(x)&&x.set(c[y],!1)}}mount(e){this.current=e,Ax.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),aE.current||wj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ax.delete(this.current),this.projection&&this.projection.unmount(),Mr(this.notifyUpdate),Mr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ji.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&we.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ps){const n=Ps[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Re()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Cx.length;r++){const i=Cx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=kj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=_a(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Ck(i)||wk(i))?i=parseFloat(i):!Tj(i)&&Lr.test(n)&&(i=Sk(e,n)),this.setBaseTarget(e,ut(i)?i.get():i)),ut(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=Cm(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ut(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new $m),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class lE extends Ej{constructor(){super(...arguments),this.KeyframeResolver=Dk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ut(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function bj(t){return window.getComputedStyle(t)}class Sj extends lE{constructor(){super(...arguments),this.type="html",this.renderInstance=QT}readValueFromInstance(e,n){if(ji.has(n)){const r=Km(n);return r&&r.default||0}else{const r=bj(e),i=(qT(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Yk(e,n)}build(e,n,r){Rm(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Mm(e,n,r)}}class Ij extends lE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Re}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ji.has(n)){const r=Km(n);return r&&r.default||0}return n=YT.has(n)?n:Sm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ZT(e,n,r)}build(e,n,r){Dm(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){XT(e,n,r,i)}mount(e){this.isSVGTag=Vm(e.tagName),super.mount(e)}}const Aj=(t,e)=>Am(t)?new Ij(e):new Sj(e,{allowProjection:t!==R.Fragment}),Cj=tN({...JR,...vj,...aj,...xj},Aj),Zt=gP(Cj),Bl=({children:t,to:e,href:n,variant:r="primary",size:i="md",className:s="",onClick:o})=>{const a="inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900",c={primary:"bg-primary-600 text-white hover:bg-primary-700 dark:bg-primary-600 dark:hover:bg-primary-700",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-100 dark:hover:bg-gray-700",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},h=`${a} ${c[r]} ${u[i]} ${s}`;return e?d.jsx(_t,{to:e,className:h,children:t}):n?d.jsx("a",{href:n,className:h,target:"_blank",rel:"noopener noreferrer",children:t}):d.jsx("button",{type:"button",className:h,onClick:o,children:t})},te=({children:t,className:e="",delay:n=0})=>{const[r,i]=R.useState(!1),s=R.useRef(null);return R.useEffect(()=>{const o=new IntersectionObserver(([a])=>{a.isIntersecting&&(i(!0),o.unobserve(a.target))},{threshold:.1,rootMargin:"0px 0px -100px 0px"});return s.current&&o.observe(s.current),()=>{s.current&&o.unobserve(s.current)}},[]),d.jsx(Zt.div,{ref:s,initial:{opacity:0,y:20},animate:r?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.6,delay:n},className:e,children:t})},Pj=()=>{const t=[{id:1,title:"URL Shortener",description:"A secure, serverless URL-shortening backend on AWS using Lambda, API Gateway, DynamoDB, Cognito, and CloudWatch.",tags:["AWS"],imageUrl:"/projects/photos/url-shortener.png",githubUrl:"https://github.com/burakintisah/url-shortener"},{id:2,title:"FlowerGarden",description:"A full-stack online flower shop with a React frontend and SQL-based backend supporting browsing, cart, and checkout.",tags:["React","SQL","Node.js"],imageUrl:"/projects/photos/flowergarden.png",githubUrl:"https://github.com/burakintisah/flowergarden",liveUrl:"https://burakintisah.github.io/FlowerGarden/"},{id:3,title:"Confix",description:"A fullstack monorepo application for managing configuration parameters with country-based overrides.",tags:["Vue","Node.js"],imageUrl:"/projects/photos/confix.png",githubUrl:"https://github.com/burakintisah/confix",liveUrl:"https://confix-frontend-0e844ee0d8d7.herokuapp.com/"}],e=[{id:1,title:"TDD and BDD: Different Focuses, Same Goal — High-Quality Software",url:"https://medium.com/@burak.intisah/tdd-and-bdd-different-focuses-same-goal-high-quality-software-7ef529f9d3dc",summary:"Choosing between test-driven development and behavior-driven development—with histories, pros/cons, key differences, and best practices—helps teams deliver higher-quality software.",tag:"Software Development"},{id:2,title:"What Is Optimistic Nihilism?",url:"https://medium.com/@burak.intisah/what-is-optimistic-nihilism-600c4abaa999",summary:"An introduction to optimistic nihilism, explaining how embracing life's impermanence can reduce stress, foster freedom, and still allow us to find joy and purpose.",tag:"Philosophy"}];return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsxs("section",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 pt-16",children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center z-0 dark:hidden",style:{backgroundImage:'url("https://images.unsplash.com/photo-1461749280684-dccba630e2f6?auto=format&fit=crop&w=1600&q=80")',opacity:.08}}),d.jsx("div",{className:"absolute inset-0 bg-cover bg-center z-0 hidden dark:block",style:{backgroundImage:'url("https://images.unsplash.com/photo-1515879218367-8466d910aaa4?auto=format&fit=crop&w=1600&q=80")',opacity:.12}}),d.jsx("div",{className:"absolute inset-0 opacity-5 dark:opacity-10 z-0",children:d.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 25% 25%, #3b82f6 0%, transparent 50%), 
                             radial-gradient(circle at 75% 75%, #8b5cf6 0%, transparent 50%)`}})}),d.jsx("div",{className:"container mx-auto px-4 z-10 w-full",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center justify-center max-w-6xl mx-auto min-h-[calc(100vh-8rem)] lg:min-h-0 py-8 lg:py-0",children:[d.jsx(Zt.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},className:"flex justify-center lg:justify-end items-center",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute -inset-4 rounded-full bg-gradient-to-r from-primary-400 to-primary-600 opacity-20 animate-pulse"}),d.jsx("div",{className:"absolute -inset-2 rounded-full bg-gradient-to-r from-primary-500 to-primary-700 opacity-30"}),d.jsx("div",{className:"relative w-64 h-64 md:w-72 md:h-72 lg:w-80 lg:h-80 xl:w-96 xl:h-96 rounded-full overflow-hidden border-4 border-white dark:border-gray-700 shadow-2xl",children:d.jsx("img",{src:"/profile.png",alt:"Osman Burak İntişah",className:"w-full h-full object-cover"})})]})}),d.jsxs(Zt.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut",delay:.2},className:"text-center lg:text-left space-y-6 lg:space-y-8 flex flex-col justify-center",children:[d.jsx(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:d.jsx("span",{className:"inline-block px-4 py-2 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 rounded-full text-sm font-medium mb-4",children:"👋 Hello, I'm"})}),d.jsxs(Zt.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold leading-tight",children:[d.jsx("span",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 dark:from-white dark:via-gray-100 dark:to-white bg-clip-text text-transparent",children:"Osman Burak"}),d.jsx("br",{}),d.jsx("span",{className:"font-semibold bg-gradient-to-r from-primary-600 to-primary-700 dark:from-primary-400 dark:to-primary-500 bg-clip-text text-transparent",children:"İntişah"})]}),d.jsxs(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"space-y-4 lg:space-y-6",children:[d.jsxs("p",{className:"text-base md:text-lg lg:text-xl text-gray-700 dark:text-gray-300 leading-relaxed font-light",children:["I'm a"," ",d.jsx("span",{className:"font-semibold bg-gradient-to-r from-primary-600 to-primary-700 dark:from-primary-400 dark:to-primary-500 bg-clip-text text-transparent",children:"Bilkent University graduate"})," ","and"," ",d.jsx("span",{className:"font-semibold bg-gradient-to-r from-primary-600 to-primary-700 dark:from-primary-400 dark:to-primary-500 bg-clip-text text-transparent",children:"backend engineer"})," ","at Cherry Technologies."]}),d.jsxs("p",{className:"text-base md:text-lg lg:text-xl text-gray-700 dark:text-gray-300 leading-relaxed font-light",children:["I'm passionate about building"," ",d.jsx("span",{className:"font-semibold text-gray-900 dark:text-white italic",children:"highly scalable systems"})," ","— from APIs and databases to full backend infrastructures."]}),d.jsxs("p",{className:"text-base md:text-lg lg:text-xl text-gray-700 dark:text-gray-300 leading-relaxed font-light",children:["Occasionally, I"," ",d.jsx("span",{className:"font-semibold bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:"write and share thoughts"})," ","on what I'm learning or building."]})]}),d.jsxs(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"pt-2 lg:pt-4 flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[d.jsxs(Bl,{to:"/about",variant:"primary",size:"lg",className:"group relative overflow-hidden bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl",children:[d.jsx("span",{className:"relative z-10",children:"Learn More"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-700 to-primary-800 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]}),d.jsxs(Bl,{to:"/connect",variant:"secondary",size:"lg",className:"group relative overflow-hidden bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white border-0 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl",children:[d.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[d.jsx(J2,{className:"h-5 w-5"}),d.jsx("span",{children:"Let's Connect"})]}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-600 to-teal-700 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]})]})]})]})}),d.jsx(Zt.div,{className:"absolute bottom-4 md:bottom-8 left-1/2 transform -translate-x-1/2 z-20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},children:d.jsxs(Zt.div,{animate:{y:[0,8,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"flex flex-col items-center cursor-pointer",onClick:()=>window.scrollTo({top:window.innerHeight,behavior:"smooth"}),children:[d.jsx("div",{className:"w-6 h-10 border-2 border-gray-400 dark:border-gray-500 rounded-full flex justify-center pt-2 mb-2 hover:border-primary-500 dark:hover:border-primary-400 transition-colors",children:d.jsx(Zt.div,{className:"w-1 h-3 bg-gray-400 dark:bg-gray-500 rounded-full",animate:{opacity:[1,.3,1]},transition:{duration:1.5,repeat:1/0}})}),d.jsx(Zt.span,{className:"text-xs text-gray-500 dark:text-gray-400 font-medium tracking-wider uppercase",animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0},children:"Scroll"})]})})]}),d.jsx("section",{className:"py-16 bg-white dark:bg-gray-900",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs(te,{className:"mb-16",children:[d.jsx("h2",{className:"text-3xl font-bold text-center mb-12 text-gray-800 dark:text-white",children:"Recent Projects"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(n=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden shadow-md hover:shadow-lg dark:hover:shadow-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-300 hover:translate-y-[-4px] h-full flex flex-col group",children:[d.jsx("div",{className:"h-48 bg-gray-200 dark:bg-gray-700 relative overflow-hidden",children:n.imageUrl?d.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-full object-cover"}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-4xl",children:"📁"})})}),d.jsxs("div",{className:"p-6 flex-grow flex flex-col",children:[d.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900 dark:text-white",children:n.title}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:n.tags.map(r=>d.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-full border border-gray-200 dark:border-gray-600",children:r},r))}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 flex-grow leading-relaxed",children:n.description}),d.jsxs("div",{className:"flex gap-3 mt-auto",children:[n.githubUrl&&d.jsxs("a",{href:n.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-primary-600 hover:text-white hover:border-primary-600 dark:hover:bg-primary-500 dark:hover:border-primary-500 transition-all duration-200 text-sm",children:[d.jsx(Lu,{className:"h-4 w-4"}),"View on GitHub"]}),n.liveUrl&&d.jsxs("a",{href:n.liveUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-primary-600 hover:text-white hover:border-primary-600 dark:hover:bg-primary-500 dark:hover:border-primary-500 transition-all duration-200 text-sm",children:[d.jsx(Et,{className:"h-4 w-4"}),"View Website"]}),!n.githubUrl&&!n.liveUrl&&d.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm italic",children:"Repository private"})]})]})]},n.id))}),d.jsx("div",{className:"text-center mt-8",children:d.jsx(Bl,{to:"/projects",variant:"secondary",children:"See All Projects"})})]}),d.jsxs(te,{delay:.2,children:[d.jsx("h2",{className:"text-3xl font-bold text-center mb-12 text-gray-800 dark:text-white",children:"Latest Blog Posts"}),d.jsx("div",{className:"max-w-3xl mx-auto space-y-6",children:e.map(n=>d.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"block group",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6 shadow-sm hover:shadow-md dark:hover:shadow-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-300 group",children:[d.jsxs("h3",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors flex items-center gap-2",children:[n.title,d.jsx(Et,{className:"h-5 w-5 opacity-60 group-hover:opacity-100 transition-opacity"})]}),d.jsx("div",{className:"mb-3",children:d.jsx("span",{className:"inline-block px-3 py-1 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 text-sm font-medium rounded-full",children:n.tag})}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:n.summary})]})},n.id))}),d.jsx("div",{className:"text-center mt-8",children:d.jsx(Bl,{to:"/blog",variant:"secondary",children:"Read All Posts"})})]})]})})]})},Nj=()=>{var s;const t=[{name:"All",skills:[]},{name:"Languages & Frameworks",skills:[{name:"Java",icon:d.jsx(ci,{className:"w-6 h-6"})},{name:"Kotlin",icon:d.jsx(ci,{className:"w-6 h-6"})},{name:"Go",icon:d.jsx(ci,{className:"w-6 h-6"})},{name:"Python",icon:d.jsx(ci,{className:"w-6 h-6"})},{name:"JavaScript/Node.js",icon:d.jsx(fv,{className:"w-6 h-6"})},{name:"Spring Boot",icon:d.jsx(ci,{className:"w-6 h-6"})}]},{name:"Cloud & Serverless",skills:[{name:"AWS",icon:d.jsx(fv,{className:"w-6 h-6"})}]},{name:"Databases",skills:[{name:"PostgreSQL",icon:d.jsx(Ll,{className:"w-6 h-6"})},{name:"RabbitMQ",icon:d.jsx(Ll,{className:"w-6 h-6"})},{name:"Kafka",icon:d.jsx(Ll,{className:"w-6 h-6"})},{name:"Elasticsearch",icon:d.jsx(wm,{className:"w-6 h-6"})},{name:"Redis",icon:d.jsx(Ll,{className:"w-6 h-6"})}]},{name:"CI/CD & Containerization",skills:[{name:"GitLab CI/CD",icon:d.jsx(bi,{className:"w-6 h-6"})},{name:"Docker",icon:d.jsx(K2,{className:"w-6 h-6"})}]}],e=t.slice(1).flatMap(o=>o.skills),[n,r]=R.useState("All"),i=n==="All"?e:((s=t.find(o=>o.name===n))==null?void 0:s.skills)||[];return d.jsx("div",{className:"bg-white dark:bg-gray-900",children:d.jsxs("div",{className:"container mx-auto px-4 py-16 md:py-24",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-16",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"About Me"}),d.jsx("a",{href:"/burak_intisah_resume.pdf",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors","aria-label":"Download Resume",children:d.jsx(xm,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 mb-16",children:[d.jsx(te,{children:d.jsx("div",{className:"flex justify-center mt-8 md:mt-12",children:d.jsx("div",{className:"w-64 h-64 md:w-80 md:h-80 rounded-full overflow-hidden border-4 border-white dark:border-gray-700 shadow-xl",children:d.jsx("img",{src:"/profile.png",alt:"Osman Burak İntişah",className:"w-full h-full object-cover"})})})}),d.jsx(te,{delay:.2,children:d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white mb-3",children:"Early Career"}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:"I ranked 1,045th out of more than three million candidates on the national university entrance exam, which allowed me to receive a full scholarship to Bilkent University, where I discovered my passion for backend systems. After graduating with a Computer Science degree and a 3.48 CGPA, I joined Trendyol as a Backend Engineer. I’m now with Cherry Technologies, where I develop and maintain payment processing systems and end-to-end banking workflows for thousands of customers each day."})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white mb-3",children:"Key Skills"}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:"My expertise lies in designing and implementing high-performance backend systems with a focus on scalability and reliability. I specialize in distributed systems, database optimization, and writing clean, maintainable code."})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white mb-3",children:"Technical Interests"}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:"I’m passionate about microservice architecture, event-driven systems, performance optimization, and AI-driven workflow automation within backend environments."})]})]})})]}),d.jsxs(te,{delay:.4,children:[d.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800 dark:text-white mb-8",children:"Technical Toolkit"}),d.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:t.map(o=>d.jsx("button",{onClick:()=>r(o.name),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${n===o.name?"bg-primary-600 text-white dark:bg-primary-500":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:o.name},o.name))}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:i.map((o,a)=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-4 rounded-lg flex flex-col items-center text-center hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-200 shadow-sm hover:shadow-md group",children:[d.jsx("div",{className:"w-12 h-12 flex items-center justify-center text-primary-600 dark:text-primary-400 mb-2 group-hover:text-primary-700 dark:group-hover:text-primary-300 transition-colors",children:o.icon}),d.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:o.name})]},`${n}-${a}`))})]}),d.jsxs(te,{delay:.6,className:"mt-16 text-center max-w-xl mx-auto py-8 border-t border-b border-gray-100 dark:border-gray-700",children:[d.jsx("p",{className:"text-lg italic text-gray-600 dark:text-gray-400",children:"“The best way to predict the future is to invent it.”"}),d.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-500",children:"— Alan Kay"})]})]})})},Rj=()=>{const t=[{name:'MacBook Pro 14" (M3 Max)',description:"My primary development machine with incredible performance and battery life.",usage:"Used for all development work, design, video editing, and daily computing tasks.",icon:d.jsx(ui,{className:"h-6 w-6"}),link:"https://www.apple.com/macbook-pro/"},{name:'LG Gram +view 16" Portable Monitor',description:'16" WQXGA (2560 x 1600) Portable IPS Display with DCI-P3 99% color accuracy and USB-C connectivity.',usage:"Extended screen real estate for coding, design work, and multitasking on the go.",icon:d.jsx(ui,{className:"h-6 w-6"}),link:"https://www.lg.com/us/laptops/lg-16mq70.adsu1-portable-laptop-monitor"},{name:"North Bayou NB F160 Monitor Arm",description:'Dual arm monitor stand with gas spring for 17-27" monitors, supporting 2-9kg weight.',usage:"Ergonomic positioning of monitors for comfortable viewing angles and desk space optimization.",icon:d.jsx(ui,{className:"h-6 w-6"}),link:"https://www.amazon.com.tr/dp/B0BLG3M2JP?ref=cm_sw_r_cso_cp_apin_dp_WB5WJTHMFT1RF3NA89M4"},{name:"O-Flex Electric Height Adjustable Desk",description:"Single motor electric standing desk with height adjustment for ergonomic working positions.",usage:"Switching between sitting and standing throughout the day for better health and productivity.",icon:d.jsx(ui,{className:"h-6 w-6"}),link:"https://karr.store/products/o-flex-tek-motorlu-elektrikli-yukseklik-ayarli-beyaz-ayak-masa?variant=41737622388820"},{name:"Logitech MX Master 3S",description:"Ergonomic wireless mouse with customizable buttons and smooth scrolling.",usage:"Essential for productivity with gesture controls and multi-device switching.",icon:d.jsx(Z2,{className:"h-6 w-6"}),link:"https://www.logitech.com/en-us/products/mice/mx-master-3s.html"},{name:"Logitech MX Keys",description:"Low-profile wireless keyboard with backlit keys and smart illumination.",usage:"Perfect for long coding sessions with comfortable key travel and multi-device support.",icon:d.jsx(Y2,{className:"h-6 w-6"}),link:"https://www.logitech.com/en-us/products/keyboards/mx-keys-wireless-keyboard.html"},{name:"iPhone 15 Pro",description:"Latest iPhone with titanium build and advanced camera system.",usage:"Mobile development testing, photography, and staying connected on the go.",icon:d.jsx(eP,{className:"h-6 w-6"}),link:"https://www.apple.com/iphone-15-pro/"},{name:"AirPods Pro (2nd Gen)",description:"Noise-cancelling wireless earbuds with spatial audio.",usage:"Focus during coding sessions, calls, and listening to music while working.",icon:d.jsx(Q2,{className:"h-6 w-6"}),link:"https://www.apple.com/airpods-pro/"},{name:"Kindle Paperwhite",description:"E-reader with high-resolution display and adjustable warm light.",usage:"Reading technical books, documentation, and staying updated with industry trends.",icon:d.jsx(bi,{className:"h-6 w-6"}),link:"https://www.amazon.com/kindle-paperwhite"}],e=[{name:"Raycast",description:"Blazingly fast launcher and productivity tool that replaces Spotlight.",usage:"Quick app launching, clipboard history, snippets, and custom workflows.",icon:d.jsx(rP,{className:"h-6 w-6"}),link:"https://www.raycast.com/"},{name:"Cursor",description:"An improved version of VSCode with AI-powered coding assistance and enhanced developer experience.",usage:"Primary code editor for web development with AI pair programming and intelligent code completion.",icon:d.jsx(ci,{className:"h-6 w-6"}),link:"https://cursor.sh/"},{name:"Warp",description:"Modern terminal with AI-powered command suggestions and collaborative features.",usage:"Command line interface with intelligent autocomplete, command history.",icon:d.jsx(lc,{className:"h-6 w-6"}),link:"https://www.warp.dev/"}];return d.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:d.jsxs("div",{className:"container mx-auto px-4 py-16 sm:px-6 lg:px-8",children:[d.jsx(te,{children:d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6",children:"What I Use"}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"A curated list of the hardware and software tools that power my daily workflow and help me build amazing things."})]})}),d.jsx(te,{children:d.jsxs("div",{className:"mb-16",children:[d.jsxs("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8 flex items-center",children:[d.jsx(ui,{className:"h-8 w-8 text-primary-600 dark:text-primary-400 mr-3"}),"Hardware"]}),d.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:t.map((n,r)=>d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6 hover:shadow-lg dark:hover:shadow-gray-700/50 transition-all duration-300 border border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"text-primary-600 dark:text-primary-400 mr-3",children:n.icon}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n.name})]}),d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 dark:text-primary-400 hover:text-primary-500 dark:hover:text-primary-300 transition-colors","aria-label":`Visit ${n.name} website`,children:d.jsx(Et,{className:"h-5 w-5"})})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:n.description}),d.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"What I use it for:"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:n.usage})]})]},r))})]})}),d.jsx(te,{children:d.jsxs("div",{children:[d.jsxs("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8 flex items-center",children:[d.jsx(ci,{className:"h-8 w-8 text-primary-600 dark:text-primary-400 mr-3"}),"Software"]}),d.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:e.map((n,r)=>d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6 hover:shadow-lg dark:hover:shadow-gray-700/50 transition-all duration-300 border border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"text-primary-600 dark:text-primary-400 mr-3",children:n.icon}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n.name})]}),d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 dark:text-primary-400 hover:text-primary-500 dark:hover:text-primary-300 transition-colors","aria-label":`Visit ${n.name} website`,children:d.jsx(Et,{className:"h-5 w-5"})})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:n.description}),d.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"What I use it for:"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:n.usage})]})]},r))})]})}),d.jsx(te,{children:d.jsx("div",{className:"mt-16 text-center",children:d.jsx("div",{className:"bg-primary-50 dark:bg-primary-900/20 rounded-lg p-8 border border-primary-200 dark:border-primary-800",children:d.jsxs("p",{className:"text-primary-700 dark:text-primary-300 text-lg",children:["This setup evolves constantly as I discover new tools and optimize my workflow. Last updated: ",new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})]})})})})]})})},Dj=({year:t,index:e})=>d.jsx(te,{delay:e*.05,className:"relative flex items-center justify-center mb-6",children:d.jsx("div",{className:"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 px-4 py-2 rounded-full text-sm font-semibold shadow-sm border border-primary-200 dark:border-primary-800",children:t})}),jj=({company:t,role:e,period:n,location:r,achievements:i,techStack:s,isLeft:o,index:a,hasPhotos:c,photoFolder:u})=>{const h=vm(),p=()=>{u&&h(`/photography?filter=${u}`)};return d.jsxs(te,{delay:a*.1,className:`relative flex items-center justify-center mb-8 ${o?"md:justify-start":"md:justify-end"}`,children:[d.jsx("div",{className:"absolute left-3 md:left-1/2 transform md:-translate-x-1/2 w-6 h-6 rounded-full bg-primary-600 dark:bg-primary-500 border-4 border-white dark:border-gray-800 z-10 hover:bg-primary-500 dark:hover:bg-primary-400 transition-colors"}),d.jsxs("div",{className:`relative bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-md hover:shadow-lg dark:hover:shadow-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-200 rounded-lg p-6 md:w-5/12 ml-10 md:ml-0 ${o?"md:mr-auto md:ml-0":"md:ml-auto md:mr-0"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t}),d.jsx("h4",{className:"text-lg font-medium text-primary-600 dark:text-primary-400 mb-1",children:e})]}),c&&d.jsx("button",{onClick:p,className:"ml-4 p-2 text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",title:`View ${t} photos`,children:d.jsx(q2,{className:"h-5 w-5"})})]}),d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:[n," · ",r]}),d.jsx("ul",{className:"space-y-2 mb-4",children:i.map((m,y)=>d.jsxs("li",{className:"text-gray-700 dark:text-gray-300 flex items-start",children:[d.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-primary-500 dark:bg-primary-400 mt-2 mr-2 flex-shrink-0"}),m]},y))}),d.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 pt-4",children:d.jsx("div",{className:"flex flex-wrap gap-1",children:s.map((m,y)=>d.jsx("span",{className:"px-2 py-1 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded text-xs",children:m},y))})})]})]})},Vj=()=>{const t=[{company:"Cherry Technologies",role:"Backend Engineer",period:"Jul 2023 – Present",location:"San Francisco & Istanbul",achievements:["Built backend services for a U.S. healthcare BNPL platform using Spring Boot and Kotlin.","Created notification workflows handling 150K SMS and 20K emails per day via Twilio and SendGrid.","Refactored a legacy Python search-sync system into a high-throughput Maxwell→RabbitMQ→Elasticsearch pipeline, improving latency from 30s to 500ms (20K events/min).","Upgraded n8n from v0.198 to v1.80 with zero downtime; migrated 7TB of historical data to a legacy read-only instance.","Led architecture and stakeholder alignment for migrations; maintained system health via NewRelic, SonarQube, and GitLab CI/CD."],techStack:["Spring Boot","Kotlin","Python","Maxwell","RabbitMQ","Elasticsearch","n8n","NewRelic","SonarQube","CI/CD"],hasPhotos:!0,photoFolder:"Cherry"},{company:"Trendyol Group",role:"Backend Engineer",period:"Jun 2021 – Jul 2023",location:"Istanbul, Turkey",achievements:["Maintained high-traffic seller-platform services (3K RPM, 99.99% uptime, 0.001% error rate) using Spring Boot (Java/Kotlin) and Go.","Reduced search latency by 30% by integrating Elasticsearch into the product-note system.","Built microservices in an event-driven Kafka architecture; streamlined deployments with GitLab CI/CD, Docker, and Kubernetes.","Increased test coverage from 50% to 90% using JUnit and Mockito; contributed React features in a micro-frontend."],techStack:["Spring Boot","Kotlin","Java","Go","Elasticsearch","Kafka","CI/CD","JUnit","React"],hasPhotos:!0,photoFolder:"Trendyol"},{company:"IOTIQ",role:"Software Engineering Intern",period:"Jul 2020",location:"Leipzig, Germany",achievements:["Built a native Android app (Java) to optimize factory pallet-truck routing, reducing latency by 30%.","Developed a lightweight MQTT broker in JavaScript and containerized it using Docker."],techStack:["Java","Android","JavaScript","MQTT","Docker"]},{company:"Facebook",role:"Enterprise Engineer Intern",period:"Jun 2020",location:"Dublin, Ireland",achievements:["Accepted an internship offer as Enterprise Engineer Intern but canceled due to COVID-19.","Completed virtual onboarding modules and technical workshops after cancellation."],techStack:["Data Structures","Algorithms"]},{company:"TÜBİTAK BİLGEM",role:"Software Engineer Intern",period:"Jul 2019 – Sep 2019",location:"Ankara, Turkey",achievements:["Performed an internship at the Cyber Security Institute; administered Jira and Bitbucket systems.","Extracted and analyzed data via Twitter and Instagram APIs.","Assisted senior researchers in developing automated scripts for vulnerability scanning."],techStack:["Jira","Bitbucket","Python"]}],e=new Date().getFullYear().toString(),n=(i,s)=>i.type==="year"?d.jsx(Dj,{year:i.year,index:s},`year-${i.year}`):d.jsx(jj,{...i.experience,isLeft:i.expIndex%2===0,index:s},`exp-${i.expIndex}`),r=[{type:"year",year:e},{type:"experience",experience:t[0],expIndex:0},{type:"year",year:"2023"},{type:"experience",experience:t[1],expIndex:1},{type:"year",year:"2021"},{type:"experience",experience:t[2],expIndex:2},{type:"experience",experience:t[3],expIndex:3},{type:"year",year:"2020"},{type:"experience",experience:t[4],expIndex:4},{type:"year",year:"2019"}];return d.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:d.jsxs("div",{className:"container mx-auto px-4 py-16 md:py-24",children:[d.jsx("h1",{className:"text-4xl font-bold text-center text-gray-900 dark:text-white mb-16",children:"My Experience"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute top-0 bottom-0 left-3 md:left-1/2 transform md:-translate-x-1/2 w-0.5 bg-gray-200 dark:bg-gray-700 z-0"}),d.jsx("div",{className:"relative z-10",children:r.map(n)})]})]})})},Mj=({project:t})=>{const[e,n]=R.useState(!1),[r,i]=R.useState(!1);return d.jsx("div",{className:"h-48 bg-gray-200 dark:bg-gray-700 relative overflow-hidden",children:t.imageUrl&&!r?d.jsxs(d.Fragment,{children:[!e&&d.jsxs("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-300 via-gray-200 to-gray-300 dark:from-gray-600 dark:via-gray-700 dark:to-gray-600 animate-pulse",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"}),d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm font-medium",children:"Loading image..."})})]}),d.jsx("img",{src:t.imageUrl,alt:t.title,loading:"lazy",decoding:"async",className:`w-full h-full object-cover transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,onLoad:()=>n(!0),onError:()=>i(!0),style:{imageRendering:"auto",filter:e?"none":"blur(5px)"}})]}):d.jsx("div",{className:"h-full flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-4xl mb-2",children:"📁"}),d.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-xs",children:r?"Failed to load":"No image"})]})})})},Lj=()=>{const[t,e]=R.useState("All"),n=[{id:1,title:"URL Shortener",description:"A secure, serverless URL-shortening backend on AWS using Lambda, API Gateway, DynamoDB, Cognito, and CloudWatch.",tags:["AWS"],imageUrl:"/projects/photos/url-shortener.png",githubUrl:"https://github.com/burakintisah/url-shortener"},{id:2,title:"FlowerGarden",description:"A full-stack online flower shop with a React frontend and SQL-based backend supporting browsing, cart, and checkout.",tags:["React","SQL","Node.js"],imageUrl:"/projects/photos/flowergarden.png",githubUrl:"https://github.com/burakintisah/flowergarden",liveUrl:"https://burakintisah.github.io/FlowerGarden/"},{id:3,title:"Confix",description:"A fullstack monorepo application for managing configuration parameters with country-based overrides.",tags:["Vue","Node.js"],imageUrl:"/projects/photos/confix.png",githubUrl:"https://github.com/burakintisah/confix",liveUrl:"https://confix-frontend-0e844ee0d8d7.herokuapp.com/"},{id:4,title:"Prelude",description:"A computer-vision prototype that uses YOLOv4 to detect fabric defects with a Python/Kivy interface for image input and report generation.",tags:["Python"],imageUrl:"/projects/photos/prelude.png"},{id:5,title:"Fast Denouncement",description:"An Android app in Java using Google Maps for anonymous GPS-based reporting, backed by a Node.js server, which won 1st place at the Bilkent hackathon.",tags:["Android","Java","Node.js"],imageUrl:"/projects/photos/bilkent-2018-hackathon.png",liveUrl:"http://bilnews.bilkent.edu.tr/cs-students-win-mobile-application-marathon/"},{id:6,title:"Dark Room",description:"An Android puzzle game in Java that uses audio and vibration clues to escape, which won 1st place at the national BTK game marathon.",tags:["Android","Java"],imageUrl:"/projects/photos/btk-2018-hackathon.png",liveUrl:"https://www.btk.gov.tr/haberler/btk-oyun-maratonu-tamamlandi"}],r=R.useMemo(()=>{const s=new Set;return n.forEach(o=>{o.tags.forEach(a=>s.add(a))}),["All",...Array.from(s).sort()]},[n]),i=R.useMemo(()=>t==="All"?n:n.filter(s=>s.tags.includes(t)),[n,t]);return d.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:d.jsxs("div",{className:"container mx-auto px-4 py-16 md:py-24",children:[d.jsxs(te,{children:[d.jsx("h1",{className:"text-4xl font-bold text-center text-gray-900 dark:text-white mb-4",children:"Projects"}),d.jsx("p",{className:"text-xl text-center text-gray-600 dark:text-gray-300 max-w-3xl mx-auto mb-12"})]}),d.jsx(te,{delay:.1,children:d.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-12",children:r.map(s=>d.jsx("button",{onClick:()=>e(s),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${t===s?"bg-primary-600 text-white dark:bg-primary-500 shadow-lg":"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:border-gray-400 dark:hover:border-gray-500"}`,children:s},s))})}),d.jsx(te,{delay:.2,children:d.jsxs("p",{className:"text-center text-gray-500 dark:text-gray-400 mb-8",children:[i.length," project",i.length!==1?"s":"",t!=="All"&&` with ${t}`]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map((s,o)=>d.jsx(te,{delay:o*.1,children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden shadow-md hover:shadow-lg dark:hover:shadow-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-300 hover:translate-y-[-4px] h-full flex flex-col",children:[d.jsx(Mj,{project:s}),d.jsxs("div",{className:"p-6 flex-grow flex flex-col",children:[d.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900 dark:text-white",children:s.title}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.tags.map(a=>d.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-full border border-gray-200 dark:border-gray-600",children:a},a))}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 flex-grow leading-relaxed whitespace-pre-line",children:s.description}),d.jsxs("div",{className:"flex gap-3 mt-auto",children:[s.githubUrl&&d.jsxs("a",{href:s.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-primary-600 hover:text-white hover:border-primary-600 dark:hover:bg-primary-500 dark:hover:border-primary-500 transition-all duration-200 text-sm",children:[d.jsx(Lu,{className:"h-4 w-4"}),"View on GitHub"]}),s.liveUrl&&d.jsxs("a",{href:s.liveUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-primary-600 hover:text-white hover:border-primary-600 dark:hover:bg-primary-500 dark:hover:border-primary-500 transition-all duration-200 text-sm",children:[d.jsx(Et,{className:"h-4 w-4"}),"View Website"]}),!s.githubUrl&&!s.liveUrl&&d.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm italic",children:"Repository private"})]})]})]})},`${t}-${s.id}`))}),i.length===0&&d.jsx(te,{delay:.3,children:d.jsx("div",{className:"text-center py-16",children:d.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:["No projects found with ",t," technology."]})})})]})})},Oj=()=>{const[t,e]=R.useState("All"),n=[{id:1,title:"TDD and BDD: Different Focuses, Same Goal — High-Quality Software",url:"https://medium.com/@burak.intisah/tdd-and-bdd-different-focuses-same-goal-high-quality-software-7ef529f9d3dc",summary:"Choosing between test-driven development and behavior-driven development—with histories, pros/cons, key differences, and best practices—helps teams deliver higher-quality software.",tag:"Software Development"},{id:2,title:"What Is Optimistic Nihilism?",url:"https://medium.com/@burak.intisah/what-is-optimistic-nihilism-600c4abaa999",summary:"An introduction to optimistic nihilism, explaining how embracing life's impermanence can reduce stress, foster freedom, and still allow us to find joy and purpose.",tag:"Philosophy"},{id:3,title:"What Is Rhetoric? How to Improve Your Rhetorical Skills?",url:"https://medium.com/@burak.intisah/what-is-rhetoric-how-to-improve-your-rhetorical-skills-89f42e0b4ee4",summary:"A concise guide to the art of persuasion—covering ethos, logos, pathos, common rhetorical devices, and practical tips to hone your writing and speaking.",tag:"Communication"}],r=R.useMemo(()=>{const s=new Set;return n.forEach(o=>{s.add(o.tag)}),["All",...Array.from(s).sort()]},[n]),i=R.useMemo(()=>t==="All"?n:n.filter(s=>s.tag===t),[n,t]);return d.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:d.jsxs("div",{className:"container mx-auto px-4 py-16 md:py-24",children:[d.jsxs(te,{children:[d.jsx("h1",{className:"text-4xl font-bold text-center text-gray-900 dark:text-white mb-4",children:"Blog"}),d.jsx("p",{className:"text-xl text-center text-gray-600 dark:text-gray-300 max-w-3xl mx-auto mb-12",children:"I write about stuff."})]}),d.jsx(te,{delay:.1,children:d.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-12",children:r.map(s=>d.jsx("button",{onClick:()=>e(s),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${t===s?"bg-primary-600 text-white dark:bg-primary-500 shadow-lg":"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:border-gray-400 dark:hover:border-gray-500"}`,children:s},s))})}),d.jsx(te,{delay:.2,children:d.jsxs("p",{className:"text-center text-gray-500 dark:text-gray-400 mb-8",children:[i.length," article",i.length!==1?"s":"",t!=="All"&&` tagged with ${t}`]})}),d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsx("div",{className:"space-y-8",children:i.map((s,o)=>d.jsx(te,{delay:o*.1,children:d.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"block group",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm hover:shadow-md dark:hover:shadow-gray-700 transition-all duration-300 cursor-pointer hover:translate-y-[-2px]",children:[d.jsxs("h2",{className:"text-2xl font-semibold mb-3 text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors flex items-center gap-2",children:[s.title,d.jsx(Et,{className:"h-5 w-5 opacity-60 group-hover:opacity-100 transition-opacity"})]}),d.jsx("div",{className:"mb-4",children:d.jsx("span",{className:"inline-block px-3 py-1 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 text-sm font-medium rounded-full",children:s.tag})}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:s.summary})]})})},`${t}-${s.id}`))}),i.length===0&&d.jsx(te,{delay:.3,children:d.jsx("div",{className:"text-center py-16",children:d.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:["No articles found with ",t," tag."]})})})]})]})})},Fj=()=>{const[t,e]=R.useState([]),[n,r]=R.useState("all"),[i,s]=R.useState(""),o=[{id:1,title:"Clean Code",author:"Robert C. Martin",year:2024,rating:5,tags:["Programming","Software Engineering","Best Practices"],purchaseLink:"https://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882",coverImage:"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1436202607i/3735293.jpg"},{id:2,title:"The Pragmatic Programmer",author:"David Thomas & Andrew Hunt",year:2024,rating:5,tags:["Programming","Career","Software Engineering"],purchaseLink:"https://www.amazon.com/Pragmatic-Programmer-journey-mastery-Anniversary/dp/0135957052",coverImage:"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1401432508i/4099.jpg"},{id:3,title:"Atomic Habits",author:"James Clear",year:2023,rating:4,tags:["Self-Improvement","Productivity","Psychology"],purchaseLink:"https://amzn.eu/d/4N2HVVo",coverImage:"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1535115320i/40121378.jpg"},{id:4,title:"System Design Interview",author:"Alex Xu",year:2023,rating:4,tags:["System Design","Interview","Architecture"],purchaseLink:"https://www.amazon.com/System-Design-Interview-insiders-Second/dp/B08CMF2CQF",coverImage:"https://m.media-amazon.com/images/I/61CekcUc2EL._SL1360_.jpg"},{id:5,title:"Designing Data-Intensive Applications",author:"Martin Kleppmann",year:2023,rating:5,tags:["Database","System Design","Architecture"],purchaseLink:"https://www.amazon.com/Designing-Data-Intensive-Applications-Reliable-Maintainable/dp/1449373321",coverImage:"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1415816873i/23463279.jpg"},{id:6,title:"The Psychology of Money",author:"Morgan Housel",year:2022,rating:4,tags:["Finance","Psychology","Personal Development"],purchaseLink:"https://www.amazon.com/Psychology-Money-Timeless-lessons-happiness/dp/0857197681",coverImage:"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1581527774i/41881472.jpg"},{id:7,title:"Refactoring",author:"Martin Fowler",year:2022,rating:5,tags:["Programming","Software Engineering","Best Practices"],purchaseLink:"https://www.amazon.com/Refactoring-Improving-Existing-Addison-Wesley-Signature/dp/0134757599",coverImage:"https://martinfowler.com/books/refact2.jpg"}],a=R.useMemo(()=>{const x=new Set;return o.forEach(E=>E.tags.forEach(S=>x.add(S))),Array.from(x).sort()},[o]),c=R.useMemo(()=>{const x=new Set(o.map(E=>E.year));return Array.from(x).sort((E,S)=>S-E)},[o]),u=R.useMemo(()=>o.filter(x=>{const E=t.length===0||t.some(v=>x.tags.includes(v)),S=n==="all"||x.year.toString()===n,T=i===""||x.title.toLowerCase().includes(i.toLowerCase())||x.author.toLowerCase().includes(i.toLowerCase())||x.tags.some(v=>v.toLowerCase().includes(i.toLowerCase()));return E&&S&&T}),[o,t,n,i]),h=x=>Array.from({length:5},(E,S)=>d.jsx(tP,{className:`h-3 w-3 ${S<x?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},S)),p=x=>{e(E=>E.includes(x)?E.filter(S=>S!==x):[...E,x])},m=()=>{e([]),r("all"),s("")},y=t.length>0||n!=="all"||i!=="";return d.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:d.jsxs("div",{className:"container mx-auto px-4 py-16 sm:px-6 lg:px-8",children:[d.jsx(te,{children:d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6",children:"My Bookshelf"}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"Books that have shaped my thinking and improved my skills."})]})}),d.jsx(te,{children:d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6 mb-8 border border-gray-200 dark:border-gray-700",children:[d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(Rf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search books, authors, or tags...",value:i,onChange:x=>s(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Year"}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("button",{onClick:()=>r("all"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${n==="all"?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"All Years"}),c.map(x=>d.jsx("button",{onClick:()=>r(x.toString()),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${n===x.toString()?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:x},x))]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Tags"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(x=>d.jsx("button",{onClick:()=>p(x),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.includes(x)?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:x},x))})]}),y&&d.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-600",children:[d.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",u.length," of ",o.length," books"]}),d.jsxs("button",{onClick:m,className:"flex items-center text-sm text-primary-600 dark:text-primary-400 hover:text-primary-500 dark:hover:text-primary-300 transition-colors",children:[d.jsx(va,{className:"h-4 w-4 mr-1"}),"Clear Filters"]})]})]})}),d.jsx(te,{children:d.jsx("div",{className:"grid gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:u.map(x=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md dark:shadow-gray-700/50 overflow-hidden border border-gray-200 dark:border-gray-700 hover:shadow-lg dark:hover:shadow-gray-700/70 transition-all duration-300 group",children:[d.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[d.jsx("img",{src:x.coverImage,alt:`${x.title} cover`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:E=>{const S=E.target;S.style.display="none";const T=S.nextElementSibling;T&&(T.style.display="flex")}}),d.jsx("div",{className:"absolute inset-0 bg-gray-300 dark:bg-gray-600 flex items-center justify-center",style:{display:"none"},children:d.jsx(bi,{className:"h-12 w-12 text-gray-500 dark:text-gray-400"})}),d.jsx("a",{href:x.purchaseLink,target:"_blank",rel:"noopener noreferrer",className:"absolute top-2 right-2 bg-white dark:bg-gray-800 p-2 rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:bg-gray-50 dark:hover:bg-gray-700","aria-label":`Buy ${x.title}`,children:d.jsx(Et,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm mb-1 line-clamp-2",children:x.title}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs mb-2",children:x.author}),d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"flex",children:h(x.rating)}),d.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:x.year})]}),d.jsxs("div",{className:"flex flex-wrap gap-1",children:[x.tags.slice(0,2).map((E,S)=>d.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary-100 dark:bg-primary-900/30 text-primary-800 dark:text-primary-300 cursor-pointer hover:bg-primary-200 dark:hover:bg-primary-900/50 transition-colors",onClick:()=>p(E),children:E},S)),x.tags.length>2&&d.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",x.tags.length-2]})]})]})]},x.id))})}),u.length===0&&d.jsx(te,{children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx(bi,{className:"h-16 w-16 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No books found"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Try adjusting your filters or search terms."}),y&&d.jsx("button",{onClick:m,className:"text-primary-600 dark:text-primary-400 hover:text-primary-500 dark:hover:text-primary-300 transition-colors",children:"Clear all filters"})]})})]})})},Uj=[".jpg",".jpeg",".png",".webp",".gif"],Bj=t=>Uj.some(e=>t.toLowerCase().endsWith(e)),zj=(t,e)=>{const r=t.replace(/\.[^/.]+$/,"").replace(/[-_]\d+$/,"").replace(/\s+\d+$/,"").replace(/[_-]/g," ");return`${e} - ${r}`},Px=t=>t.charAt(0).toUpperCase()+t.slice(1),$j=t=>{const e=[];let n=1;return Object.entries(t).forEach(([r,i])=>{i.forEach(s=>{Bj(s)&&e.push({id:n++,url:`/photos/${r}/${s}`,alt:zj(s,Px(r)),width:1200,height:800,folder:Px(r),filename:s})})}),e},Hj={korea:["hanbok-burak-1.jpeg"],japan:["kyoto-fushimi_inari-1.jpg"],usa:["san-diego-burak-1.jpeg"],cherry:["cappadocia-1.jpg","cappadocia-scene-1.jpg","cappadocia-scene-2.jpg","cappadocia-team-1.jpg","cappadocia-team-2.jpg","usa-losangeles-1.jpg","usa-losangeles-2.jpg","usa-losangeles-3.jpg","usa-losangeles-4.jpg","usa-losangeles-5.jpg","usa-losangeles-6.jpg","usa-miami-how-to-solve-issues.jpg","usa-orlando-epcot-1.jpg","usa-orlando-onlydevs.jpg"],trendyol:["istanbul-meetup-2022.jpg","istanbul-trendyol-campus-1.jpg","istanbul-trendyol-campus-outside.jpg","istanbul-trendyol-campus-team-1.jpg","istanbul-trendyol-fest-1.jpg","istanbul-trendyol-fest-2.jpg","ankara-trendyol-go-meetup.jpg"]},Wj=({photo:t,onOpen:e,index:n})=>{const[r,i]=R.useState(!1),[s,o]=R.useState(!1),[a,c]=R.useState(null),u=y=>{const x=y.currentTarget;c({width:x.naturalWidth,height:x.naturalHeight}),i(!0)},h=()=>{o(!0)},m=r?(()=>{if(!a)return 300;const E=300*(a.height/a.width);return Math.min(Math.max(E,200),400)})():300;return d.jsxs("div",{className:"relative cursor-pointer overflow-hidden rounded-lg group break-inside-avoid mb-4 transition-transform duration-300 hover:scale-[1.02]",onClick:()=>e(t),style:{height:`${m}px`},children:[!r&&!s&&d.jsxs("div",{className:"w-full h-full bg-gradient-to-r from-gray-300 via-gray-200 to-gray-300 dark:from-gray-600 dark:via-gray-700 dark:to-gray-600 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"}),d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm font-medium",children:"Loading photo..."})})]}),s&&d.jsx("div",{className:"w-full h-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-4xl mb-2",children:"📷"}),d.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Failed to load photo"})]})}),!s&&d.jsx("img",{src:t.url,alt:t.alt,loading:"lazy",decoding:"async",className:`w-full h-full object-cover transition-all duration-500 group-hover:scale-105 ${r?"opacity-100":"opacity-0"}`,onLoad:u,onError:h,style:{imageRendering:"auto",filter:r?"none":"blur(5px)"}}),r&&!s&&d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-opacity duration-300 flex items-center justify-center",children:d.jsxs("div",{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col items-center",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{className:"text-sm font-medium",children:"View Photo"})]})}),r&&!s&&d.jsx("div",{className:"absolute top-2 left-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs font-medium",children:t.folder})]})},qj=({folder:t,isSelected:e,onClick:n})=>d.jsx("button",{onClick:n,className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${e?"bg-primary-600 text-white dark:bg-primary-500 shadow-lg transform scale-105":"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:border-gray-400 dark:hover:border-gray-500 hover:scale-105"}`,children:t}),Gj=({photo:t,onClose:e})=>d.jsxs("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center p-4",onClick:e,children:[d.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors z-10",onClick:e,"aria-label":"Close lightbox",children:d.jsx(va,{className:"h-8 w-8"})}),d.jsxs("div",{className:"max-w-4xl max-h-[90vh] relative",onClick:n=>n.stopPropagation(),children:[d.jsx("img",{src:t.url,alt:t.alt,className:"max-w-full max-h-[90vh] object-contain rounded-lg"}),d.jsxs("div",{className:"text-white text-center mt-4",children:[d.jsx("p",{className:"text-lg font-medium",children:t.alt}),d.jsx("p",{className:"text-sm text-gray-300 mt-1",children:t.folder})]})]})]}),Kj=()=>{const[t,e]=R.useState(null),[n,r]=R.useState("All"),[i,s]=z2(),o=R.useMemo(()=>$j(Hj),[]),a=R.useMemo(()=>["All",...Array.from(new Set(o.map(y=>y.folder))).sort()],[o]);R.useEffect(()=>{const m=i.get("filter");m&&a.includes(m)&&r(m)},[i,a]);const c=R.useMemo(()=>{let m=n==="All"?o:o.filter(y=>y.folder===n);return n==="All"&&(m=[...m].sort(()=>Math.random()-.5)),m},[o,n]),u=m=>{r(m),s(m==="All"?{}:{filter:m})},h=m=>{e(m),document.body.style.overflow="hidden"},p=()=>{e(null),document.body.style.overflow="auto"};return R.useEffect(()=>()=>{document.body.style.overflow="auto"},[]),d.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[d.jsxs("div",{className:"container mx-auto px-4 py-16 md:py-24",children:[d.jsxs(te,{children:[d.jsx("h1",{className:"text-4xl font-bold text-center text-gray-900 dark:text-white mb-4",children:"Photography"}),d.jsx("p",{className:"text-xl text-center text-gray-600 dark:text-gray-300 max-w-3xl mx-auto mb-12",children:"Snapshots from my travels, hobbies, and life moments"})]}),d.jsx(te,{delay:.1,children:d.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-12",children:a.map(m=>d.jsx(qj,{folder:m,isSelected:n===m,onClick:()=>u(m)},m))})}),d.jsx(te,{delay:.2,children:d.jsxs("p",{className:"text-center text-gray-500 dark:text-gray-400 mb-8",children:[c.length," photo",c.length!==1?"s":"",n!=="All"&&` in ${n}`]})}),d.jsx("div",{className:"columns-1 sm:columns-2 lg:columns-3 xl:columns-4 space-y-0",style:{columnGap:"1rem"},children:c.map((m,y)=>d.jsx(te,{delay:y*.05,children:d.jsx(Wj,{photo:m,onOpen:h,index:y})},`${n}-${m.id}`))}),c.length===0&&d.jsx(te,{delay:.3,children:d.jsxs("div",{className:"text-center py-16",children:[d.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-6xl mb-4",children:"📷"}),d.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:["No photos found in ",n," folder."]})]})})]}),t&&d.jsx(Gj,{photo:t,onClose:p})]})},Qj=()=>{const[t,e]=R.useState([]),[n,r]=R.useState("likedDate"),[i,s]=R.useState(""),o=[{id:1,title:"The Architecture of Open Source Applications",author:"Amy Brown & Greg Wilson",source:"aosabook.org",url:"https://aosabook.org/en/index.html",likedDate:"2024-01-15",publishedDate:"2023-12-01",excerpt:"Architects look at thousands of buildings during their training, and study critiques of those buildings written by masters. In contrast, most software developers only ever get to know a handful of large programs well...",tags:["Software Architecture","Open Source","Engineering"],readingTime:45},{id:2,title:"Building Resilient Systems with Circuit Breakers",author:"Martin Fowler",source:"martinfowler.com",url:"https://martinfowler.com/bliki/CircuitBreaker.html",likedDate:"2024-01-12",publishedDate:"2023-11-15",excerpt:"The basic idea behind the circuit breaker is very simple. You wrap a protected function call in a circuit breaker object, which monitors for failures...",tags:["System Design","Resilience","Patterns"],readingTime:8},{id:3,title:"The Twelve-Factor App",author:"Adam Wiggins",source:"12factor.net",url:"https://12factor.net/",likedDate:"2024-01-10",publishedDate:"2023-10-20",excerpt:"A methodology for building software-as-a-service apps that use declarative formats for setup automation, have a clean contract with the underlying operating system...",tags:["DevOps","Best Practices","Cloud"],readingTime:15},{id:4,title:"Designing Data-Intensive Applications: The Big Ideas Behind Reliable, Scalable Systems",author:"Martin Kleppmann",source:"dataintensive.net",url:"https://dataintensive.net/",likedDate:"2024-01-08",publishedDate:"2023-09-30",excerpt:"Data is at the center of many challenges in system design today. Difficult issues need to be figured out, such as scalability, consistency, reliability, efficiency, and maintainability...",tags:["Database","System Design","Scalability"],readingTime:60},{id:5,title:"Microservices: A Definition of This New Architectural Term",author:"James Lewis & Martin Fowler",source:"martinfowler.com",url:"https://martinfowler.com/articles/microservices.html",likedDate:"2024-01-05",publishedDate:"2023-08-15",excerpt:'The term "Microservice Architecture" has sprung up over the last few years to describe a particular way of designing software applications as suites of independently deployable services...',tags:["Microservices","Architecture","Distributed Systems"],readingTime:25},{id:6,title:"Clean Architecture: A Craftsman's Guide to Software Structure",author:"Robert C. Martin",source:"blog.cleancoder.com",url:"https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html",likedDate:"2024-01-03",publishedDate:"2023-07-10",excerpt:"Over the last several years we've seen a whole range of ideas regarding the architecture of systems. These include: Hexagonal Architecture, Onion Architecture, Screaming Architecture...",tags:["Clean Code","Architecture","Best Practices"],readingTime:12},{id:7,title:"Event Sourcing: Capturing All Changes to an Application State",author:"Greg Young",source:"eventstore.com",url:"https://eventstore.com/blog/what-is-event-sourcing",likedDate:"2024-01-01",publishedDate:"2023-06-20",excerpt:"Event Sourcing ensures that all changes to application state are stored as a sequence of events. Not just can we query these events, we can also use the event log to reconstruct past states...",tags:["Event Sourcing","CQRS","Architecture"],readingTime:18},{id:8,title:"The State of JavaScript 2023",author:"Sacha Greif",source:"stateofjs.com",url:"https://2023.stateofjs.com/",likedDate:"2023-12-28",publishedDate:"2023-12-01",excerpt:"The annual survey about the latest trends in the JavaScript ecosystem. Discover which libraries developers want to learn, which have the best retention rates, and much more...",tags:["JavaScript","Frontend","Survey"],readingTime:30}],a=R.useMemo(()=>{const y=new Set;return o.forEach(x=>x.tags.forEach(E=>y.add(E))),Array.from(y).sort()},[o]),c=R.useMemo(()=>{let y=o.filter(x=>{const E=t.length===0||t.some(T=>x.tags.includes(T)),S=i===""||x.title.toLowerCase().includes(i.toLowerCase())||x.author.toLowerCase().includes(i.toLowerCase())||x.source.toLowerCase().includes(i.toLowerCase())||x.tags.some(T=>T.toLowerCase().includes(i.toLowerCase()));return E&&S});return y.sort((x,E)=>{const S=new Date(n==="likedDate"?x.likedDate:x.publishedDate);return new Date(n==="likedDate"?E.likedDate:E.publishedDate).getTime()-S.getTime()}),y},[o,t,i,n]),u=y=>{e(x=>x.includes(y)?x.filter(E=>E!==y):[...x,y])},h=()=>{e([]),s("")},p=t.length>0||i!=="",m=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return d.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:d.jsxs("div",{className:"container mx-auto px-4 py-16 md:py-24",children:[d.jsxs(te,{children:[d.jsxs("div",{className:"flex items-center justify-center mb-4",children:[d.jsx("h1",{className:"text-4xl font-bold text-center text-gray-900 dark:text-white",children:"Reading List"}),d.jsx(dv,{className:"ml-3 h-8 w-8 text-red-500 fill-current"})]}),d.jsx("p",{className:"text-xl text-center text-gray-600 dark:text-gray-300 max-w-3xl mx-auto mb-16",children:"Articles and resources I've found valuable and worth sharing"})]}),d.jsx(te,{children:d.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search articles, authors, or sources...",value:i,onChange:y=>s(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sort by"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>r("likedDate"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${n==="likedDate"?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Recently Liked"}),d.jsx("button",{onClick:()=>r("publishedDate"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${n==="publishedDate"?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Recently Published"})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Tags"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(y=>d.jsx("button",{onClick:()=>u(y),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${t.includes(y)?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:y},y))})]}),p&&d.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-600",children:[d.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",c.length," of ",o.length," articles"]}),d.jsxs("button",{onClick:h,className:"flex items-center text-sm text-primary-600 dark:text-primary-400 hover:text-primary-500 dark:hover:text-primary-300 transition-colors",children:[d.jsx(va,{className:"h-4 w-4 mr-1"}),"Clear Filters"]})]})]})})}),d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsx("div",{className:"space-y-6",children:c.map((y,x)=>d.jsx(te,{delay:x*.1,children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm hover:shadow-md dark:hover:shadow-gray-700 transition-all duration-300 border border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",className:"block group",children:d.jsx("h2",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:y.title})}),d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400 mb-2",children:[d.jsx("span",{className:"font-medium",children:y.author}),d.jsx("span",{className:"mx-2",children:"•"}),d.jsx("span",{children:y.source}),y.readingTime&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"mx-2",children:"•"}),d.jsxs("span",{children:[y.readingTime," min read"]})]})]})]}),d.jsx("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",className:"ml-4 p-2 text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors","aria-label":`Read ${y.title}`,children:d.jsx(Et,{className:"h-5 w-5"})})]}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4 leading-relaxed",children:y.excerpt}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:y.tags.map((E,S)=>d.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-primary-100 dark:bg-primary-900/30 text-primary-800 dark:text-primary-300 cursor-pointer hover:bg-primary-200 dark:hover:bg-primary-900/50 transition-colors",onClick:()=>u(E),children:[d.jsx(nP,{className:"h-3 w-3 mr-1"}),E]},S))}),d.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 pt-4 border-t border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(dv,{className:"h-3 w-3 mr-1 text-red-500 fill-current"}),d.jsxs("span",{children:["Liked on ",m(y.likedDate)]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Nf,{className:"h-3 w-3 mr-1"}),d.jsxs("span",{children:["Published ",m(y.publishedDate)]})]})]})]})},y.id))}),c.length===0&&d.jsx(te,{children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx(bi,{className:"h-16 w-16 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No articles found"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Try adjusting your filters or search terms."}),p&&d.jsx("button",{onClick:h,className:"text-primary-600 dark:text-primary-400 hover:text-primary-500 dark:hover:text-primary-300 transition-colors",children:"Clear all filters"})]})}),d.jsxs(te,{delay:.8,className:"mt-16 bg-white dark:bg-gray-800 rounded-lg p-8 shadow-sm border-l-4 border-primary-500 dark:border-primary-400",children:[d.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Curated with Care"}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"This reading list is manually curated with articles, papers, and resources that I've found genuinely valuable. Each piece is selected for its insights, practical value, or thought-provoking ideas."}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Have a suggestion for an article that should be here? Feel free to reach out and share it with me."})]})]})]})})},Yj=()=>d.jsx("div",{className:"bg-white dark:bg-gray-900",children:d.jsxs("div",{className:"container mx-auto px-4 py-16 md:py-24",children:[d.jsx(te,{children:d.jsxs("div",{className:"text-center mb-16",children:[d.jsxs("div",{className:"flex items-center justify-center mb-6",children:[d.jsx(Kc,{className:"h-12 w-12 text-primary-600 dark:text-primary-400 mr-4"}),d.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"Let's Connect"})]}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"I'm always excited to connect with fellow developers, entrepreneurs, and curious minds. Feel free to reach out through any of these platforms!"})]})}),d.jsx(te,{delay:.2,children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:[d.jsxs("a",{href:"https://github.com/burakintisah",target:"_blank",rel:"noopener noreferrer",className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6 hover:shadow-lg dark:hover:shadow-gray-700/50 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-300",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Lu,{className:"h-8 w-8 text-gray-800 dark:text-white mr-3"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"GitHub"})]}),d.jsx(Et,{className:"h-5 w-5 text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors"})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Check out my open source projects and contributions"})]}),d.jsxs("a",{href:"https://linkedin.com/in/burakintisah",target:"_blank",rel:"noopener noreferrer",className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6 hover:shadow-lg dark:hover:shadow-gray-700/50 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-300",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(RT,{className:"h-8 w-8 text-blue-600 mr-3"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"LinkedIn"})]}),d.jsx(Et,{className:"h-5 w-5 text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors"})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Connect with me professionally and see my career journey"})]}),d.jsxs("a",{href:"https://www.instagram.com/osman.burakk",target:"_blank",rel:"noopener noreferrer",className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6 hover:shadow-lg dark:hover:shadow-gray-700/50 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-300",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(NT,{className:"h-8 w-8 text-pink-600 mr-3"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Instagram"})]}),d.jsx(Et,{className:"h-5 w-5 text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors"})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Follow my personal journey and behind-the-scenes moments"})]}),d.jsxs("a",{href:"https://x.com/osman_burakk",target:"_blank",rel:"noopener noreferrer",className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6 hover:shadow-lg dark:hover:shadow-gray-700/50 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-300",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"h-8 w-8 text-black dark:text-white mr-3",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Twitter"})]}),d.jsx(Et,{className:"h-5 w-5 text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors"})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Follow my thoughts and updates on technology and life"})]}),d.jsxs("a",{href:"https://medium.com/@burak.intisah",target:"_blank",rel:"noopener noreferrer",className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6 hover:shadow-lg dark:hover:shadow-gray-700/50 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-300",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(bi,{className:"h-8 w-8 text-green-600 mr-3"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Medium"})]}),d.jsx(Et,{className:"h-5 w-5 text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors"})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Read my articles on software development, technology and more"})]}),d.jsxs("a",{href:"mailto:burak@intisah.com",className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6 hover:shadow-lg dark:hover:shadow-gray-700/50 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-300",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(DT,{className:"h-8 w-8 text-red-600 mr-3"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Email"})]}),d.jsx(Et,{className:"h-5 w-5 text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors"})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Reach out for collaborations, opportunities, or just to say hi"})]})]})}),d.jsx(te,{delay:.4,className:"mt-16 text-center",children:d.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/20 rounded-lg p-8 border border-primary-200 dark:border-primary-800 max-w-3xl mx-auto",children:[d.jsx("h2",{className:"text-2xl font-semibold text-primary-800 dark:text-primary-200 mb-4",children:"Let's Build Something Amazing Together"}),d.jsx("p",{className:"text-primary-700 dark:text-primary-300 text-lg",children:"Whether you're looking to collaborate on a project, discuss technology trends, or just want to connect with a fellow developer, I'd love to hear from you. Don't hesitate to reach out through any of the platforms above!"})]})})]})}),Xj=()=>{};var Nx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Jj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,y=u&63;c||(y=64,o||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Jj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||p==null)throw new Zj;const m=s<<2|a>>4;if(r.push(m),u!==64){const y=a<<4&240|u>>2;if(r.push(y),p!==64){const x=u<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e4=function(t){const e=cE(t);return uE.encodeByteArray(e,!0)},nu=function(t){return e4(t).replace(/\./g,"")},dE=function(t){try{return uE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=()=>t4().__FIREBASE_DEFAULTS__,r4=()=>{if(typeof process>"u"||typeof Nx>"u")return;const t=Nx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},i4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dE(t[1]);return e&&JSON.parse(e)},$u=()=>{try{return Xj()||n4()||r4()||i4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hE=t=>{var e,n;return(n=(e=$u())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},s4=t=>{const e=hE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fE=()=>{var t;return(t=$u())===null||t===void 0?void 0:t.config},pE=t=>{var e;return(e=$u())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){return t.endsWith(".cloudworkstations.dev")}async function mE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nu(JSON.stringify(n)),nu(JSON.stringify(o)),""].join(".")}const Go={};function l4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Go))Go[e]?t.emulator.push(e):t.prod.push(e);return t}function c4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Rx=!1;function gE(t,e){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||Go[t]===e||Go[t]||Rx)return;Go[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=l4().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Rx=!0,o()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=c4(r),y=n("text"),x=document.getElementById(y)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),T=n("preprendIcon"),v=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const w=m.element;a(w),h(S,E);const j=u();c(v,T),w.append(v,x,S,j),document.body.appendChild(w)}s?(x.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function d4(){var t;const e=(t=$u())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function p4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m4(){const t=ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g4(){return!d4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y4(){try{return typeof indexedDB=="object"}catch{return!1}}function v4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="FirebaseError";class er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=x4,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qa.prototype.create)}}class qa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?w4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new er(i,a,r)}}function w4(t,e){return t.replace(_4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _4=/\{\$([^}]+)}/g;function T4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Si(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Dx(s)&&Dx(o)){if(!Si(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Dx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function k4(t,e){const n=new E4(t,e);return n.subscribe.bind(n)}class E4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");b4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Th),i.error===void 0&&(i.error=Th),i.complete===void 0&&(i.complete=Th);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function b4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Th(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class Ii{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new o4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(A4(e))try{this.getOrInitializeService({instanceIdentifier:li})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=li){return this.instances.has(e)}getOptions(e=li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:I4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=li){return this.component?this.component.multipleInstances?e:li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I4(t){return t===li?void 0:t}function A4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new S4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const P4={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},N4=ie.INFO,R4={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},D4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=R4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zm{constructor(e){this.name=e,this._logLevel=N4,this._logHandler=D4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const j4=(t,e)=>e.some(n=>t instanceof n);let jx,Vx;function V4(){return jx||(jx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M4(){return Vx||(Vx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yE=new WeakMap,Yf=new WeakMap,vE=new WeakMap,kh=new WeakMap,eg=new WeakMap;function L4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ar(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yE.set(n,t)}).catch(()=>{}),eg.set(e,t),e}function O4(t){if(Yf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Yf.set(t,e)}let Xf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ar(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function F4(t){Xf=t(Xf)}function U4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Eh(this),e,...n);return vE.set(r,e.sort?e.sort():[e]),Ar(r)}:M4().includes(t)?function(...e){return t.apply(Eh(this),e),Ar(yE.get(this))}:function(...e){return Ar(t.apply(Eh(this),e))}}function B4(t){return typeof t=="function"?U4(t):(t instanceof IDBTransaction&&O4(t),j4(t,V4())?new Proxy(t,Xf):t)}function Ar(t){if(t instanceof IDBRequest)return L4(t);if(kh.has(t))return kh.get(t);const e=B4(t);return e!==t&&(kh.set(t,e),eg.set(e,t)),e}const Eh=t=>eg.get(t);function z4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ar(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ar(o.result),c.oldVersion,c.newVersion,Ar(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const $4=["get","getKey","getAll","getAllKeys","count"],H4=["put","add","delete","clear"],bh=new Map;function Mx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bh.get(e))return bh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=H4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$4.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return bh.set(e,s),s}F4(t=>({...t,get:(e,n,r)=>Mx(e,n)||t.get(e,n,r),has:(e,n)=>!!Mx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(q4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function q4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jf="@firebase/app",Lx="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new Zm("@firebase/app"),G4="@firebase/app-compat",K4="@firebase/analytics-compat",Q4="@firebase/analytics",Y4="@firebase/app-check-compat",X4="@firebase/app-check",J4="@firebase/auth",Z4="@firebase/auth-compat",eV="@firebase/database",tV="@firebase/data-connect",nV="@firebase/database-compat",rV="@firebase/functions",iV="@firebase/functions-compat",sV="@firebase/installations",oV="@firebase/installations-compat",aV="@firebase/messaging",lV="@firebase/messaging-compat",cV="@firebase/performance",uV="@firebase/performance-compat",dV="@firebase/remote-config",hV="@firebase/remote-config-compat",fV="@firebase/storage",pV="@firebase/storage-compat",mV="@firebase/firestore",gV="@firebase/ai",yV="@firebase/firestore-compat",vV="firebase",xV="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="[DEFAULT]",wV={[Jf]:"fire-core",[G4]:"fire-core-compat",[Q4]:"fire-analytics",[K4]:"fire-analytics-compat",[X4]:"fire-app-check",[Y4]:"fire-app-check-compat",[J4]:"fire-auth",[Z4]:"fire-auth-compat",[eV]:"fire-rtdb",[tV]:"fire-data-connect",[nV]:"fire-rtdb-compat",[rV]:"fire-fn",[iV]:"fire-fn-compat",[sV]:"fire-iid",[oV]:"fire-iid-compat",[aV]:"fire-fcm",[lV]:"fire-fcm-compat",[cV]:"fire-perf",[uV]:"fire-perf-compat",[dV]:"fire-rc",[hV]:"fire-rc-compat",[fV]:"fire-gcs",[pV]:"fire-gcs-compat",[mV]:"fire-fst",[yV]:"fire-fst-compat",[gV]:"fire-vertex","fire-js":"fire-js",[vV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=new Map,_V=new Map,ep=new Map;function Ox(t,e){try{t.container.addComponent(e)}catch(n){Kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rs(t){const e=t.name;if(ep.has(e))return Kn.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,t);for(const n of ru.values())Ox(n,t);for(const n of _V.values())Ox(n,t);return!0}function tg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new qa("app","Firebase",TV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=xV;function xE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Zf,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Cr.create("bad-app-name",{appName:String(i)});if(n||(n=fE()),!n)throw Cr.create("no-options");const s=ru.get(i);if(s){if(Si(n,s.options)&&Si(r,s.config))return s;throw Cr.create("duplicate-app",{appName:i})}const o=new C4(i);for(const c of ep.values())o.addComponent(c);const a=new kV(n,r,o);return ru.set(i,a),a}function wE(t=Zf){const e=ru.get(t);if(!e&&t===Zf&&fE())return xE();if(!e)throw Cr.create("no-app",{appName:t});return e}function Pr(t,e,n){var r;let i=(r=wV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kn.warn(a.join(" "));return}Rs(new Ii(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="firebase-heartbeat-database",bV=1,Ea="firebase-heartbeat-store";let Sh=null;function _E(){return Sh||(Sh=z4(EV,bV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ea)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cr.create("idb-open",{originalErrorMessage:t.message})})),Sh}async function SV(t){try{const n=(await _E()).transaction(Ea),r=await n.objectStore(Ea).get(TE(t));return await n.done,r}catch(e){if(e instanceof er)Kn.warn(e.message);else{const n=Cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kn.warn(n.message)}}}async function Fx(t,e){try{const r=(await _E()).transaction(Ea,"readwrite");await r.objectStore(Ea).put(e,TE(t)),await r.done}catch(n){if(n instanceof er)Kn.warn(n.message);else{const r=Cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kn.warn(r.message)}}}function TE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=1024,AV=30;class CV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ux();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>AV){const o=RV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Kn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ux(),{heartbeatsToSend:r,unsentEntries:i}=PV(this._heartbeatsCache.heartbeats),s=nu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Kn.warn(n),""}}}function Ux(){return new Date().toISOString().substring(0,10)}function PV(t,e=IV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Bx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Bx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y4()?v4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Bx(t){return nu(JSON.stringify({version:2,heartbeats:t})).length}function RV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t){Rs(new Ii("platform-logger",e=>new W4(e),"PRIVATE")),Rs(new Ii("heartbeat",e=>new CV(e),"PRIVATE")),Pr(Jf,Lx,t),Pr(Jf,Lx,"esm2017"),Pr("fire-js","")}DV("");var zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nr,kE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,_){function I(){}I.prototype=_.prototype,b.D=_.prototype,b.prototype=new I,b.prototype.constructor=b,b.C=function(A,N,P){for(var C=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)C[fe-2]=arguments[fe];return _.prototype[N].apply(A,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,_,I){I||(I=0);var A=Array(16);if(typeof _=="string")for(var N=0;16>N;++N)A[N]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(N=0;16>N;++N)A[N]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=b.g[0],I=b.g[1],N=b.g[2];var P=b.g[3],C=_+(P^I&(N^P))+A[0]+3614090360&4294967295;_=I+(C<<7&4294967295|C>>>25),C=P+(N^_&(I^N))+A[1]+3905402710&4294967295,P=_+(C<<12&4294967295|C>>>20),C=N+(I^P&(_^I))+A[2]+606105819&4294967295,N=P+(C<<17&4294967295|C>>>15),C=I+(_^N&(P^_))+A[3]+3250441966&4294967295,I=N+(C<<22&4294967295|C>>>10),C=_+(P^I&(N^P))+A[4]+4118548399&4294967295,_=I+(C<<7&4294967295|C>>>25),C=P+(N^_&(I^N))+A[5]+1200080426&4294967295,P=_+(C<<12&4294967295|C>>>20),C=N+(I^P&(_^I))+A[6]+2821735955&4294967295,N=P+(C<<17&4294967295|C>>>15),C=I+(_^N&(P^_))+A[7]+4249261313&4294967295,I=N+(C<<22&4294967295|C>>>10),C=_+(P^I&(N^P))+A[8]+1770035416&4294967295,_=I+(C<<7&4294967295|C>>>25),C=P+(N^_&(I^N))+A[9]+2336552879&4294967295,P=_+(C<<12&4294967295|C>>>20),C=N+(I^P&(_^I))+A[10]+4294925233&4294967295,N=P+(C<<17&4294967295|C>>>15),C=I+(_^N&(P^_))+A[11]+2304563134&4294967295,I=N+(C<<22&4294967295|C>>>10),C=_+(P^I&(N^P))+A[12]+1804603682&4294967295,_=I+(C<<7&4294967295|C>>>25),C=P+(N^_&(I^N))+A[13]+4254626195&4294967295,P=_+(C<<12&4294967295|C>>>20),C=N+(I^P&(_^I))+A[14]+2792965006&4294967295,N=P+(C<<17&4294967295|C>>>15),C=I+(_^N&(P^_))+A[15]+1236535329&4294967295,I=N+(C<<22&4294967295|C>>>10),C=_+(N^P&(I^N))+A[1]+4129170786&4294967295,_=I+(C<<5&4294967295|C>>>27),C=P+(I^N&(_^I))+A[6]+3225465664&4294967295,P=_+(C<<9&4294967295|C>>>23),C=N+(_^I&(P^_))+A[11]+643717713&4294967295,N=P+(C<<14&4294967295|C>>>18),C=I+(P^_&(N^P))+A[0]+3921069994&4294967295,I=N+(C<<20&4294967295|C>>>12),C=_+(N^P&(I^N))+A[5]+3593408605&4294967295,_=I+(C<<5&4294967295|C>>>27),C=P+(I^N&(_^I))+A[10]+38016083&4294967295,P=_+(C<<9&4294967295|C>>>23),C=N+(_^I&(P^_))+A[15]+3634488961&4294967295,N=P+(C<<14&4294967295|C>>>18),C=I+(P^_&(N^P))+A[4]+3889429448&4294967295,I=N+(C<<20&4294967295|C>>>12),C=_+(N^P&(I^N))+A[9]+568446438&4294967295,_=I+(C<<5&4294967295|C>>>27),C=P+(I^N&(_^I))+A[14]+3275163606&4294967295,P=_+(C<<9&4294967295|C>>>23),C=N+(_^I&(P^_))+A[3]+4107603335&4294967295,N=P+(C<<14&4294967295|C>>>18),C=I+(P^_&(N^P))+A[8]+1163531501&4294967295,I=N+(C<<20&4294967295|C>>>12),C=_+(N^P&(I^N))+A[13]+2850285829&4294967295,_=I+(C<<5&4294967295|C>>>27),C=P+(I^N&(_^I))+A[2]+4243563512&4294967295,P=_+(C<<9&4294967295|C>>>23),C=N+(_^I&(P^_))+A[7]+1735328473&4294967295,N=P+(C<<14&4294967295|C>>>18),C=I+(P^_&(N^P))+A[12]+2368359562&4294967295,I=N+(C<<20&4294967295|C>>>12),C=_+(I^N^P)+A[5]+4294588738&4294967295,_=I+(C<<4&4294967295|C>>>28),C=P+(_^I^N)+A[8]+2272392833&4294967295,P=_+(C<<11&4294967295|C>>>21),C=N+(P^_^I)+A[11]+1839030562&4294967295,N=P+(C<<16&4294967295|C>>>16),C=I+(N^P^_)+A[14]+4259657740&4294967295,I=N+(C<<23&4294967295|C>>>9),C=_+(I^N^P)+A[1]+2763975236&4294967295,_=I+(C<<4&4294967295|C>>>28),C=P+(_^I^N)+A[4]+1272893353&4294967295,P=_+(C<<11&4294967295|C>>>21),C=N+(P^_^I)+A[7]+4139469664&4294967295,N=P+(C<<16&4294967295|C>>>16),C=I+(N^P^_)+A[10]+3200236656&4294967295,I=N+(C<<23&4294967295|C>>>9),C=_+(I^N^P)+A[13]+681279174&4294967295,_=I+(C<<4&4294967295|C>>>28),C=P+(_^I^N)+A[0]+3936430074&4294967295,P=_+(C<<11&4294967295|C>>>21),C=N+(P^_^I)+A[3]+3572445317&4294967295,N=P+(C<<16&4294967295|C>>>16),C=I+(N^P^_)+A[6]+76029189&4294967295,I=N+(C<<23&4294967295|C>>>9),C=_+(I^N^P)+A[9]+3654602809&4294967295,_=I+(C<<4&4294967295|C>>>28),C=P+(_^I^N)+A[12]+3873151461&4294967295,P=_+(C<<11&4294967295|C>>>21),C=N+(P^_^I)+A[15]+530742520&4294967295,N=P+(C<<16&4294967295|C>>>16),C=I+(N^P^_)+A[2]+3299628645&4294967295,I=N+(C<<23&4294967295|C>>>9),C=_+(N^(I|~P))+A[0]+4096336452&4294967295,_=I+(C<<6&4294967295|C>>>26),C=P+(I^(_|~N))+A[7]+1126891415&4294967295,P=_+(C<<10&4294967295|C>>>22),C=N+(_^(P|~I))+A[14]+2878612391&4294967295,N=P+(C<<15&4294967295|C>>>17),C=I+(P^(N|~_))+A[5]+4237533241&4294967295,I=N+(C<<21&4294967295|C>>>11),C=_+(N^(I|~P))+A[12]+1700485571&4294967295,_=I+(C<<6&4294967295|C>>>26),C=P+(I^(_|~N))+A[3]+2399980690&4294967295,P=_+(C<<10&4294967295|C>>>22),C=N+(_^(P|~I))+A[10]+4293915773&4294967295,N=P+(C<<15&4294967295|C>>>17),C=I+(P^(N|~_))+A[1]+2240044497&4294967295,I=N+(C<<21&4294967295|C>>>11),C=_+(N^(I|~P))+A[8]+1873313359&4294967295,_=I+(C<<6&4294967295|C>>>26),C=P+(I^(_|~N))+A[15]+4264355552&4294967295,P=_+(C<<10&4294967295|C>>>22),C=N+(_^(P|~I))+A[6]+2734768916&4294967295,N=P+(C<<15&4294967295|C>>>17),C=I+(P^(N|~_))+A[13]+1309151649&4294967295,I=N+(C<<21&4294967295|C>>>11),C=_+(N^(I|~P))+A[4]+4149444226&4294967295,_=I+(C<<6&4294967295|C>>>26),C=P+(I^(_|~N))+A[11]+3174756917&4294967295,P=_+(C<<10&4294967295|C>>>22),C=N+(_^(P|~I))+A[2]+718787259&4294967295,N=P+(C<<15&4294967295|C>>>17),C=I+(P^(N|~_))+A[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+P&4294967295}r.prototype.u=function(b,_){_===void 0&&(_=b.length);for(var I=_-this.blockSize,A=this.B,N=this.h,P=0;P<_;){if(N==0)for(;P<=I;)i(this,b,P),P+=this.blockSize;if(typeof b=="string"){for(;P<_;)if(A[N++]=b.charCodeAt(P++),N==this.blockSize){i(this,A),N=0;break}}else for(;P<_;)if(A[N++]=b[P++],N==this.blockSize){i(this,A),N=0;break}}this.h=N,this.o+=_},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;var I=8*this.o;for(_=b.length-8;_<b.length;++_)b[_]=I&255,I/=256;for(this.u(b),b=Array(16),_=I=0;4>_;++_)for(var A=0;32>A;A+=8)b[I++]=this.g[_]>>>A&255;return b};function s(b,_){var I=a;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=_(b)}function o(b,_){this.h=_;for(var I=[],A=!0,N=b.length-1;0<=N;N--){var P=b[N]|0;A&&P==_||(I[N]=P,A=!1)}this.g=I}var a={};function c(b){return-128<=b&&128>b?s(b,function(_){return new o([_|0],0>_?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return S(u(-b));for(var _=[],I=1,A=0;b>=I;A++)_[A]=b/I|0,I*=4294967296;return new o(_,0)}function h(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return S(h(b.substring(1),_));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(_,8)),A=p,N=0;N<b.length;N+=8){var P=Math.min(8,b.length-N),C=parseInt(b.substring(N,N+P),_);8>P?(P=u(Math.pow(_,P)),A=A.j(P).add(u(C))):(A=A.j(I),A=A.add(u(C)))}return A}var p=c(0),m=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(E(this))return-S(this).m();for(var b=0,_=1,I=0;I<this.g.length;I++){var A=this.i(I);b+=(0<=A?A:4294967296+A)*_,_*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x(this))return"0";if(E(this))return"-"+S(this).toString(b);for(var _=u(Math.pow(b,6)),I=this,A="";;){var N=j(I,_).g;I=T(I,N.j(_));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(b);if(I=N,x(I))return P+A;for(;6>P.length;)P="0"+P;A=P+A}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function x(b){if(b.h!=0)return!1;for(var _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function E(b){return b.h==-1}t.l=function(b){return b=T(this,b),E(b)?-1:x(b)?0:1};function S(b){for(var _=b.g.length,I=[],A=0;A<_;A++)I[A]=~b.g[A];return new o(I,~b.h).add(m)}t.abs=function(){return E(this)?S(this):this},t.add=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],A=0,N=0;N<=_;N++){var P=A+(this.i(N)&65535)+(b.i(N)&65535),C=(P>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);A=C>>>16,P&=65535,C&=65535,I[N]=C<<16|P}return new o(I,I[I.length-1]&-2147483648?-1:0)};function T(b,_){return b.add(S(_))}t.j=function(b){if(x(this)||x(b))return p;if(E(this))return E(b)?S(this).j(S(b)):S(S(this).j(b));if(E(b))return S(this.j(S(b)));if(0>this.l(y)&&0>b.l(y))return u(this.m()*b.m());for(var _=this.g.length+b.g.length,I=[],A=0;A<2*_;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var N=0;N<b.g.length;N++){var P=this.i(A)>>>16,C=this.i(A)&65535,fe=b.i(N)>>>16,pt=b.i(N)&65535;I[2*A+2*N]+=C*pt,v(I,2*A+2*N),I[2*A+2*N+1]+=P*pt,v(I,2*A+2*N+1),I[2*A+2*N+1]+=C*fe,v(I,2*A+2*N+1),I[2*A+2*N+2]+=P*fe,v(I,2*A+2*N+2)}for(A=0;A<_;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=_;A<2*_;A++)I[A]=0;return new o(I,0)};function v(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function w(b,_){this.g=b,this.h=_}function j(b,_){if(x(_))throw Error("division by zero");if(x(b))return new w(p,p);if(E(b))return _=j(S(b),_),new w(S(_.g),S(_.h));if(E(_))return _=j(b,S(_)),new w(S(_.g),_.h);if(30<b.g.length){if(E(b)||E(_))throw Error("slowDivide_ only works with positive integers.");for(var I=m,A=_;0>=A.l(b);)I=M(I),A=M(A);var N=F(I,1),P=F(A,1);for(A=F(A,2),I=F(I,2);!x(A);){var C=P.add(A);0>=C.l(b)&&(N=N.add(I),P=C),A=F(A,1),I=F(I,1)}return _=T(b,N.j(_)),new w(N,_)}for(N=p;0<=b.l(_);){for(I=Math.max(1,Math.floor(b.m()/_.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),P=u(I),C=P.j(_);E(C)||0<C.l(b);)I-=A,P=u(I),C=P.j(_);x(P)&&(P=m),N=N.add(P),b=T(b,C)}return new w(N,b)}t.A=function(b){return j(this,b).h},t.and=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],A=0;A<_;A++)I[A]=this.i(A)&b.i(A);return new o(I,this.h&b.h)},t.or=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],A=0;A<_;A++)I[A]=this.i(A)|b.i(A);return new o(I,this.h|b.h)},t.xor=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],A=0;A<_;A++)I[A]=this.i(A)^b.i(A);return new o(I,this.h^b.h)};function M(b){for(var _=b.g.length+1,I=[],A=0;A<_;A++)I[A]=b.i(A)<<1|b.i(A-1)>>>31;return new o(I,b.h)}function F(b,_){var I=_>>5;_%=32;for(var A=b.g.length-I,N=[],P=0;P<A;P++)N[P]=0<_?b.i(P+I)>>>_|b.i(P+I+1)<<32-_:b.i(P+I);return new o(N,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Nr=o}).apply(typeof zx<"u"?zx:typeof self<"u"?self:typeof window<"u"?window:{});var zl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EE,No,bE,hc,tp,SE,IE,AE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof zl=="object"&&zl];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)e:{var g=r;l=l.split(".");for(var k=0;k<l.length-1;k++){var D=l[k];if(!(D in g))break e;g=g[D]}l=l[l.length-1],k=g[l],f=f(k),f!=k&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function s(l,f){l instanceof String&&(l+="");var g=0,k=!1,D={next:function(){if(!k&&g<l.length){var V=g++;return{value:f(V,l[V]),done:!1}}return k=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(l){return l||function(){return s(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function u(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function h(l,f,g){return l.call.apply(l.bind,arguments)}function p(l,f,g){if(!l)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,k),l.apply(f,D)}}return function(){return l.apply(f,arguments)}}function m(l,f,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var k=g.slice();return k.push.apply(k,arguments),l.apply(this,k)}}function x(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(k,D,V){for(var B=Array(arguments.length-2),he=2;he<arguments.length;he++)B[he-2]=arguments[he];return f.prototype[D].apply(k,B)}}function E(l){const f=l.length;if(0<f){const g=Array(f);for(let k=0;k<f;k++)g[k]=l[k];return g}return[]}function S(l,f){for(let g=1;g<arguments.length;g++){const k=arguments[g];if(c(k)){const D=l.length||0,V=k.length||0;l.length=D+V;for(let B=0;B<V;B++)l[D+B]=k[B]}else l.push(k)}}class T{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function v(l){return/^[\s\xa0]*$/.test(l)}function w(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function j(l){return j[" "](l),l}j[" "]=function(){};var M=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function F(l,f,g){for(const k in l)f.call(g,l[k],k,l)}function b(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function _(l){const f={};for(const g in l)f[g]=l[g];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,f){let g,k;for(let D=1;D<arguments.length;D++){k=arguments[D];for(g in k)l[g]=k[g];for(let V=0;V<I.length;V++)g=I[V],Object.prototype.hasOwnProperty.call(k,g)&&(l[g]=k[g])}}function N(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function P(l){a.setTimeout(()=>{throw l},0)}function C(){var l=K;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class fe{constructor(){this.h=this.g=null}add(f,g){const k=pt.get();k.set(f,g),this.h?this.h.next=k:this.g=k,this.h=k}}var pt=new T(()=>new Jr,l=>l.reset());class Jr{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let me,z=!1,K=new fe,X=()=>{const l=a.Promise.resolve(void 0);me=()=>{l.then(Te)}};var Te=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(g){P(g)}var f=pt;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}z=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ne(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}Ne.prototype.h=function(){this.defaultPrevented=!0};var Sn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function In(l,f){if(Ne.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,k=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(M){e:{try{j(f.nodeName);var D=!0;break e}catch{}D=!1}D||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:An[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&In.aa.h.call(this)}}x(In,Ne);var An={2:"touch",3:"pen",4:"mouse"};In.prototype.h=function(){In.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Cn="closure_listenable_"+(1e6*Math.random()|0),DS=0;function jS(l,f,g,k,D){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!k,this.ha=D,this.key=++DS,this.da=this.fa=!1}function nl(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function rl(l){this.src=l,this.g={},this.h=0}rl.prototype.add=function(l,f,g,k,D){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var B=hd(l,f,k,D);return-1<B?(f=l[B],g||(f.fa=!1)):(f=new jS(f,this.src,V,!!k,D),f.fa=g,l.push(f)),f};function dd(l,f){var g=f.type;if(g in l.g){var k=l.g[g],D=Array.prototype.indexOf.call(k,f,void 0),V;(V=0<=D)&&Array.prototype.splice.call(k,D,1),V&&(nl(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function hd(l,f,g,k){for(var D=0;D<l.length;++D){var V=l[D];if(!V.da&&V.listener==f&&V.capture==!!g&&V.ha==k)return D}return-1}var fd="closure_lm_"+(1e6*Math.random()|0),pd={};function Gg(l,f,g,k,D){if(Array.isArray(f)){for(var V=0;V<f.length;V++)Gg(l,f[V],g,k,D);return null}return g=Yg(g),l&&l[Cn]?l.K(f,g,u(k)?!!k.capture:!!k,D):VS(l,f,g,!1,k,D)}function VS(l,f,g,k,D,V){if(!f)throw Error("Invalid event type");var B=u(D)?!!D.capture:!!D,he=gd(l);if(he||(l[fd]=he=new rl(l)),g=he.add(f,g,k,B,V),g.proxy)return g;if(k=MS(),g.proxy=k,k.src=l,k.listener=g,l.addEventListener)Sn||(D=B),D===void 0&&(D=!1),l.addEventListener(f.toString(),k,D);else if(l.attachEvent)l.attachEvent(Qg(f.toString()),k);else if(l.addListener&&l.removeListener)l.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return g}function MS(){function l(g){return f.call(l.src,l.listener,g)}const f=LS;return l}function Kg(l,f,g,k,D){if(Array.isArray(f))for(var V=0;V<f.length;V++)Kg(l,f[V],g,k,D);else k=u(k)?!!k.capture:!!k,g=Yg(g),l&&l[Cn]?(l=l.i,f=String(f).toString(),f in l.g&&(V=l.g[f],g=hd(V,g,k,D),-1<g&&(nl(V[g]),Array.prototype.splice.call(V,g,1),V.length==0&&(delete l.g[f],l.h--)))):l&&(l=gd(l))&&(f=l.g[f.toString()],l=-1,f&&(l=hd(f,g,k,D)),(g=-1<l?f[l]:null)&&md(g))}function md(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Cn])dd(f.i,l);else{var g=l.type,k=l.proxy;f.removeEventListener?f.removeEventListener(g,k,l.capture):f.detachEvent?f.detachEvent(Qg(g),k):f.addListener&&f.removeListener&&f.removeListener(k),(g=gd(f))?(dd(g,l),g.h==0&&(g.src=null,f[fd]=null)):nl(l)}}}function Qg(l){return l in pd?pd[l]:pd[l]="on"+l}function LS(l,f){if(l.da)l=!0;else{f=new In(f,this);var g=l.listener,k=l.ha||l.src;l.fa&&md(l),l=g.call(k,f)}return l}function gd(l){return l=l[fd],l instanceof rl?l:null}var yd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yg(l){return typeof l=="function"?l:(l[yd]||(l[yd]=function(f){return l.handleEvent(f)}),l[yd])}function et(){de.call(this),this.i=new rl(this),this.M=this,this.F=null}x(et,de),et.prototype[Cn]=!0,et.prototype.removeEventListener=function(l,f,g,k){Kg(this,l,f,g,k)};function mt(l,f){var g,k=l.F;if(k)for(g=[];k;k=k.F)g.push(k);if(l=l.M,k=f.type||f,typeof f=="string")f=new Ne(f,l);else if(f instanceof Ne)f.target=f.target||l;else{var D=f;f=new Ne(k,l),A(f,D)}if(D=!0,g)for(var V=g.length-1;0<=V;V--){var B=f.g=g[V];D=il(B,k,!0,f)&&D}if(B=f.g=l,D=il(B,k,!0,f)&&D,D=il(B,k,!1,f)&&D,g)for(V=0;V<g.length;V++)B=f.g=g[V],D=il(B,k,!1,f)&&D}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],k=0;k<g.length;k++)nl(g[k]);delete l.g[f],l.h--}}this.F=null},et.prototype.K=function(l,f,g,k){return this.i.add(String(l),f,!1,g,k)},et.prototype.L=function(l,f,g,k){return this.i.add(String(l),f,!0,g,k)};function il(l,f,g,k){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var D=!0,V=0;V<f.length;++V){var B=f[V];if(B&&!B.da&&B.capture==g){var he=B.listener,qe=B.ha||B.src;B.fa&&dd(l.i,B),D=he.call(qe,k)!==!1&&D}}return D&&!k.defaultPrevented}function Xg(l,f,g){if(typeof l=="function")g&&(l=m(l,g));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function Jg(l){l.g=Xg(()=>{l.g=null,l.i&&(l.i=!1,Jg(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class OS extends de{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Jg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eo(l){de.call(this),this.h=l,this.g={}}x(eo,de);var Zg=[];function ey(l){F(l.g,function(f,g){this.g.hasOwnProperty(g)&&md(f)},l),l.g={}}eo.prototype.N=function(){eo.aa.N.call(this),ey(this)},eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vd=a.JSON.stringify,FS=a.JSON.parse,US=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function xd(){}xd.prototype.h=null;function ty(l){return l.h||(l.h=l.i())}function ny(){}var to={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wd(){Ne.call(this,"d")}x(wd,Ne);function _d(){Ne.call(this,"c")}x(_d,Ne);var Zr={},ry=null;function sl(){return ry=ry||new et}Zr.La="serverreachability";function iy(l){Ne.call(this,Zr.La,l)}x(iy,Ne);function no(l){const f=sl();mt(f,new iy(f))}Zr.STAT_EVENT="statevent";function sy(l,f){Ne.call(this,Zr.STAT_EVENT,l),this.stat=f}x(sy,Ne);function gt(l){const f=sl();mt(f,new sy(f,l))}Zr.Ma="timingevent";function oy(l,f){Ne.call(this,Zr.Ma,l),this.size=f}x(oy,Ne);function ro(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function io(){this.g=!0}io.prototype.xa=function(){this.g=!1};function BS(l,f,g,k,D,V){l.info(function(){if(l.g)if(V)for(var B="",he=V.split("&"),qe=0;qe<he.length;qe++){var le=he[qe].split("=");if(1<le.length){var tt=le[0];le=le[1];var nt=tt.split("_");B=2<=nt.length&&nt[1]=="type"?B+(tt+"="+le+"&"):B+(tt+"=redacted&")}}else B=null;else B=V;return"XMLHTTP REQ ("+k+") [attempt "+D+"]: "+f+`
`+g+`
`+B})}function zS(l,f,g,k,D,V,B){l.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+D+"]: "+f+`
`+g+`
`+V+" "+B})}function Oi(l,f,g,k){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+HS(l,g)+(k?" "+k:"")})}function $S(l,f){l.info(function(){return"TIMEOUT: "+f})}io.prototype.info=function(){};function HS(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var k=g[l];if(!(2>k.length)){var D=k[1];if(Array.isArray(D)&&!(1>D.length)){var V=D[0];if(V!="noop"&&V!="stop"&&V!="close")for(var B=1;B<D.length;B++)D[B]=""}}}}return vd(g)}catch{return f}}var ol={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ay={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Td;function al(){}x(al,xd),al.prototype.g=function(){return new XMLHttpRequest},al.prototype.i=function(){return{}},Td=new al;function tr(l,f,g,k){this.j=l,this.i=f,this.l=g,this.R=k||1,this.U=new eo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ly}function ly(){this.i=null,this.g="",this.h=!1}var cy={},kd={};function Ed(l,f,g){l.L=1,l.v=dl(Pn(f)),l.m=g,l.P=!0,uy(l,null)}function uy(l,f){l.F=Date.now(),ll(l),l.A=Pn(l.v);var g=l.A,k=l.R;Array.isArray(k)||(k=[String(k)]),Ey(g.i,"t",k),l.C=0,g=l.j.J,l.h=new ly,l.g=zy(l.j,g?f:null,!l.m),0<l.O&&(l.M=new OS(m(l.Y,l,l.g),l.O)),f=l.U,g=l.g,k=l.ca;var D="readystatechange";Array.isArray(D)||(D&&(Zg[0]=D.toString()),D=Zg);for(var V=0;V<D.length;V++){var B=Gg(g,D[V],k||f.handleEvent,!1,f.h||f);if(!B)break;f.g[B.key]=B}f=l.H?_(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),no(),BS(l.i,l.u,l.A,l.l,l.R,l.m)}tr.prototype.ca=function(l){l=l.target;const f=this.M;f&&Nn(l)==3?f.j():this.Y(l)},tr.prototype.Y=function(l){try{if(l==this.g)e:{const nt=Nn(this.g);var f=this.g.Ba();const Bi=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||Ny(this.g)))){this.J||nt!=4||f==7||(f==8||0>=Bi?no(3):no(2)),bd(this);var g=this.g.Z();this.X=g;t:if(dy(this)){var k=Ny(this.g);l="";var D=k.length,V=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ei(this),so(this);var B="";break t}this.h.i=new a.TextDecoder}for(f=0;f<D;f++)this.h.h=!0,l+=this.h.i.decode(k[f],{stream:!(V&&f==D-1)});k.length=0,this.h.g+=l,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=g==200,zS(this.i,this.u,this.A,this.l,this.R,nt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var he,qe=this.g;if((he=qe.g?qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(he)){var le=he;break t}}le=null}if(g=le)Oi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sd(this,g);else{this.o=!1,this.s=3,gt(12),ei(this),so(this);break e}}if(this.P){g=!0;let Xt;for(;!this.J&&this.C<B.length;)if(Xt=WS(this,B),Xt==kd){nt==4&&(this.s=4,gt(14),g=!1),Oi(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==cy){this.s=4,gt(15),Oi(this.i,this.l,B,"[Invalid Chunk]"),g=!1;break}else Oi(this.i,this.l,Xt,null),Sd(this,Xt);if(dy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||B.length!=0||this.h.h||(this.s=1,gt(16),g=!1),this.o=this.o&&g,!g)Oi(this.i,this.l,B,"[Invalid Chunked Response]"),ei(this),so(this);else if(0<B.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Rd(tt),tt.M=!0,gt(11))}}else Oi(this.i,this.l,B,null),Sd(this,B);nt==4&&ei(this),this.o&&!this.J&&(nt==4?Oy(this.j,this):(this.o=!1,ll(this)))}else lI(this.g),g==400&&0<B.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),ei(this),so(this)}}}catch{}finally{}};function dy(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function WS(l,f){var g=l.C,k=f.indexOf(`
`,g);return k==-1?kd:(g=Number(f.substring(g,k)),isNaN(g)?cy:(k+=1,k+g>f.length?kd:(f=f.slice(k,k+g),l.C=k+g,f)))}tr.prototype.cancel=function(){this.J=!0,ei(this)};function ll(l){l.S=Date.now()+l.I,hy(l,l.I)}function hy(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ro(m(l.ba,l),f)}function bd(l){l.B&&(a.clearTimeout(l.B),l.B=null)}tr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?($S(this.i,this.A),this.L!=2&&(no(),gt(17)),ei(this),this.s=2,so(this)):hy(this,this.S-l)};function so(l){l.j.G==0||l.J||Oy(l.j,l)}function ei(l){bd(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,ey(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Sd(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Id(g.h,l))){if(!l.K&&Id(g.h,l)&&g.G==3){try{var k=g.Da.g.parse(f)}catch{k=null}if(Array.isArray(k)&&k.length==3){var D=k;if(D[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)yl(g),ml(g);else break e;Nd(g),gt(18)}}else g.za=D[1],0<g.za-g.T&&37500>D[2]&&g.F&&g.v==0&&!g.C&&(g.C=ro(m(g.Za,g),6e3));if(1>=my(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ni(g,11)}else if((l.K||g.g==l)&&yl(g),!v(f))for(D=g.Da.g.parse(f),f=0;f<D.length;f++){let le=D[f];if(g.T=le[0],le=le[1],g.G==2)if(le[0]=="c"){g.K=le[1],g.ia=le[2];const tt=le[3];tt!=null&&(g.la=tt,g.j.info("VER="+g.la));const nt=le[4];nt!=null&&(g.Aa=nt,g.j.info("SVER="+g.Aa));const Bi=le[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&(k=1.5*Bi,g.L=k,g.j.info("backChannelRequestTimeoutMs_="+k)),k=g;const Xt=l.g;if(Xt){const xl=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xl){var V=k.h;V.g||xl.indexOf("spdy")==-1&&xl.indexOf("quic")==-1&&xl.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Ad(V,V.h),V.h=null))}if(k.D){const Dd=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Dd&&(k.ya=Dd,ge(k.I,k.D,Dd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),k=g;var B=l;if(k.qa=By(k,k.J?k.ia:null,k.W),B.K){gy(k.h,B);var he=B,qe=k.L;qe&&(he.I=qe),he.B&&(bd(he),ll(he)),k.g=B}else My(k);0<g.i.length&&gl(g)}else le[0]!="stop"&&le[0]!="close"||ni(g,7);else g.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?ni(g,7):Pd(g):le[0]!="noop"&&g.l&&g.l.ta(le),g.v=0)}}no(4)}catch{}}var qS=class{constructor(l,f){this.g=l,this.map=f}};function fy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function py(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function my(l){return l.h?1:l.g?l.g.size:0}function Id(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Ad(l,f){l.g?l.g.add(f):l.h=f}function gy(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}fy.prototype.cancel=function(){if(this.i=yy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function yy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return E(l.i)}function GS(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var f=[],g=l.length,k=0;k<g;k++)f.push(l[k]);return f}f=[],g=0;for(k in l)f[g++]=l[k];return f}function KS(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const k in l)f[g++]=k;return f}}}function vy(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=KS(l),k=GS(l),D=k.length,V=0;V<D;V++)f.call(void 0,k[V],g&&g[V],l)}var xy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QS(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var k=l[g].indexOf("="),D=null;if(0<=k){var V=l[g].substring(0,k);D=l[g].substring(k+1)}else V=l[g];f(V,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function ti(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ti){this.h=l.h,cl(this,l.j),this.o=l.o,this.g=l.g,ul(this,l.s),this.l=l.l;var f=l.i,g=new lo;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),wy(this,g),this.m=l.m}else l&&(f=String(l).match(xy))?(this.h=!1,cl(this,f[1]||"",!0),this.o=oo(f[2]||""),this.g=oo(f[3]||"",!0),ul(this,f[4]),this.l=oo(f[5]||"",!0),wy(this,f[6]||"",!0),this.m=oo(f[7]||"")):(this.h=!1,this.i=new lo(null,this.h))}ti.prototype.toString=function(){var l=[],f=this.j;f&&l.push(ao(f,_y,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(ao(f,_y,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(ao(g,g.charAt(0)=="/"?JS:XS,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",ao(g,eI)),l.join("")};function Pn(l){return new ti(l)}function cl(l,f,g){l.j=g?oo(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function ul(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function wy(l,f,g){f instanceof lo?(l.i=f,tI(l.i,l.h)):(g||(f=ao(f,ZS)),l.i=new lo(f,l.h))}function ge(l,f,g){l.i.set(f,g)}function dl(l){return ge(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function oo(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ao(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,YS),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function YS(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var _y=/[#\/\?@]/g,XS=/[#\?:]/g,JS=/[#\?]/g,ZS=/[#\?@]/g,eI=/#/g;function lo(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function nr(l){l.g||(l.g=new Map,l.h=0,l.i&&QS(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=lo.prototype,t.add=function(l,f){nr(this),this.i=null,l=Fi(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function Ty(l,f){nr(l),f=Fi(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function ky(l,f){return nr(l),f=Fi(l,f),l.g.has(f)}t.forEach=function(l,f){nr(this),this.g.forEach(function(g,k){g.forEach(function(D){l.call(f,D,k,this)},this)},this)},t.na=function(){nr(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let k=0;k<f.length;k++){const D=l[k];for(let V=0;V<D.length;V++)g.push(f[k])}return g},t.V=function(l){nr(this);let f=[];if(typeof l=="string")ky(this,l)&&(f=f.concat(this.g.get(Fi(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},t.set=function(l,f){return nr(this),this.i=null,l=Fi(this,l),ky(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Ey(l,f,g){Ty(l,f),0<g.length&&(l.i=null,l.g.set(Fi(l,f),E(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var k=f[g];const V=encodeURIComponent(String(k)),B=this.V(k);for(k=0;k<B.length;k++){var D=V;B[k]!==""&&(D+="="+encodeURIComponent(String(B[k]))),l.push(D)}}return this.i=l.join("&")};function Fi(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function tI(l,f){f&&!l.j&&(nr(l),l.i=null,l.g.forEach(function(g,k){var D=k.toLowerCase();k!=D&&(Ty(this,k),Ey(this,D,g))},l)),l.j=f}function nI(l,f){const g=new io;if(a.Image){const k=new Image;k.onload=y(rr,g,"TestLoadImage: loaded",!0,f,k),k.onerror=y(rr,g,"TestLoadImage: error",!1,f,k),k.onabort=y(rr,g,"TestLoadImage: abort",!1,f,k),k.ontimeout=y(rr,g,"TestLoadImage: timeout",!1,f,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=l}else f(!1)}function rI(l,f){const g=new io,k=new AbortController,D=setTimeout(()=>{k.abort(),rr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:k.signal}).then(V=>{clearTimeout(D),V.ok?rr(g,"TestPingServer: ok",!0,f):rr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(D),rr(g,"TestPingServer: error",!1,f)})}function rr(l,f,g,k,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),k(g)}catch{}}function iI(){this.g=new US}function sI(l,f,g){const k=g||"";try{vy(l,function(D,V){let B=D;u(D)&&(B=vd(D)),f.push(k+V+"="+encodeURIComponent(B))})}catch(D){throw f.push(k+"type="+encodeURIComponent("_badmap")),D}}function hl(l){this.l=l.Ub||null,this.j=l.eb||!1}x(hl,xd),hl.prototype.g=function(){return new fl(this.l,this.j)},hl.prototype.i=function(l){return function(){return l}}({});function fl(l,f){et.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(fl,et),t=fl.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,uo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,co(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,uo(this)),this.g&&(this.readyState=3,uo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;by(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function by(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?co(this):uo(this),this.readyState==3&&by(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,co(this))},t.Qa=function(l){this.g&&(this.response=l,co(this))},t.ga=function(){this.g&&co(this)};function co(l){l.readyState=4,l.l=null,l.j=null,l.v=null,uo(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function uo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(fl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Sy(l){let f="";return F(l,function(g,k){f+=k,f+=":",f+=g,f+=`\r
`}),f}function Cd(l,f,g){e:{for(k in g){var k=!1;break e}k=!0}k||(g=Sy(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):ge(l,f,g))}function Ae(l){et.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ae,et);var oI=/^https?$/i,aI=["POST","PUT"];t=Ae.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,g,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Td.g(),this.v=this.o?ty(this.o):ty(Td),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(V){Iy(this,V);return}if(l=g||"",g=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var D in k)g.set(D,k[D]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const V of k.keys())g.set(V,k.get(V));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),D=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(aI,f,void 0))||k||D||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,B]of g)this.g.setRequestHeader(V,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Py(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){Iy(this,V)}};function Iy(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Ay(l),pl(l)}function Ay(l){l.A||(l.A=!0,mt(l,"complete"),mt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,mt(this,"complete"),mt(this,"abort"),pl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pl(this,!0)),Ae.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cy(this):this.bb())},t.bb=function(){Cy(this)};function Cy(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Nn(l)!=4||l.Z()!=2)){if(l.u&&Nn(l)==4)Xg(l.Ea,0,l);else if(mt(l,"readystatechange"),Nn(l)==4){l.h=!1;try{const B=l.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var k;if(k=B===0){var D=String(l.D).match(xy)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),k=!oI.test(D?D.toLowerCase():"")}g=k}if(g)mt(l,"complete"),mt(l,"success");else{l.m=6;try{var V=2<Nn(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",Ay(l)}}finally{pl(l)}}}}function pl(l,f){if(l.g){Py(l);const g=l.g,k=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||mt(l,"ready");try{g.onreadystatechange=k}catch{}}}function Py(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Nn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),FS(f)}};function Ny(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function lI(l){const f={};l=(l.g&&2<=Nn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<l.length;k++){if(v(l[k]))continue;var g=N(l[k]);const D=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=f[D]||[];f[D]=V,V.push(g)}b(f,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ho(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function Ry(l){this.Aa=0,this.i=[],this.j=new io,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ho("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ho("baseRetryDelayMs",5e3,l),this.cb=ho("retryDelaySeedMs",1e4,l),this.Wa=ho("forwardChannelMaxRetries",2,l),this.wa=ho("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new fy(l&&l.concurrentRequestLimit),this.Da=new iI,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ry.prototype,t.la=8,t.G=1,t.connect=function(l,f,g,k){gt(0),this.W=l,this.H=f||{},g&&k!==void 0&&(this.H.OSID=g,this.H.OAID=k),this.F=this.X,this.I=By(this,null,this.W),gl(this)};function Pd(l){if(Dy(l),l.G==3){var f=l.U++,g=Pn(l.I);if(ge(g,"SID",l.K),ge(g,"RID",f),ge(g,"TYPE","terminate"),fo(l,g),f=new tr(l,l.j,f),f.L=2,f.v=dl(Pn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=zy(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ll(f)}Uy(l)}function ml(l){l.g&&(Rd(l),l.g.cancel(),l.g=null)}function Dy(l){ml(l),l.u&&(a.clearTimeout(l.u),l.u=null),yl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function gl(l){if(!py(l.h)&&!l.s){l.s=!0;var f=l.Ga;me||X(),z||(me(),z=!0),K.add(f,l),l.B=0}}function cI(l,f){return my(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ro(m(l.Ga,l,f),Fy(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const D=new tr(this,this.j,l);let V=this.o;if(this.S&&(V?(V=_(V),A(V,this.S)):V=this.S),this.m!==null||this.O||(D.H=V,V=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var k=this.i[g];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(f+=k,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Vy(this,D,f),g=Pn(this.I),ge(g,"RID",l),ge(g,"CVER",22),this.D&&ge(g,"X-HTTP-Session-Id",this.D),fo(this,g),V&&(this.O?f="headers="+encodeURIComponent(String(Sy(V)))+"&"+f:this.m&&Cd(g,this.m,V)),Ad(this.h,D),this.Ua&&ge(g,"TYPE","init"),this.P?(ge(g,"$req",f),ge(g,"SID","null"),D.T=!0,Ed(D,g,null)):Ed(D,g,f),this.G=2}}else this.G==3&&(l?jy(this,l):this.i.length==0||py(this.h)||jy(this))};function jy(l,f){var g;f?g=f.l:g=l.U++;const k=Pn(l.I);ge(k,"SID",l.K),ge(k,"RID",g),ge(k,"AID",l.T),fo(l,k),l.m&&l.o&&Cd(k,l.m,l.o),g=new tr(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Vy(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ad(l.h,g),Ed(g,k,f)}function fo(l,f){l.H&&F(l.H,function(g,k){ge(f,k,g)}),l.l&&vy({},function(g,k){ge(f,k,g)})}function Vy(l,f,g){g=Math.min(l.i.length,g);var k=l.l?m(l.l.Na,l.l,l):null;e:{var D=l.i;let V=-1;for(;;){const B=["count="+g];V==-1?0<g?(V=D[0].g,B.push("ofs="+V)):V=0:B.push("ofs="+V);let he=!0;for(let qe=0;qe<g;qe++){let le=D[qe].g;const tt=D[qe].map;if(le-=V,0>le)V=Math.max(0,D[qe].g-100),he=!1;else try{sI(tt,B,"req"+le+"_")}catch{k&&k(tt)}}if(he){k=B.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,k}function My(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;me||X(),z||(me(),z=!0),K.add(f,l),l.v=0}}function Nd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ro(m(l.Fa,l),Fy(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Ly(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ro(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),ml(this),Ly(this))};function Rd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Ly(l){l.g=new tr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Pn(l.qa);ge(f,"RID","rpc"),ge(f,"SID",l.K),ge(f,"AID",l.T),ge(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&ge(f,"TO",l.ja),ge(f,"TYPE","xmlhttp"),fo(l,f),l.m&&l.o&&Cd(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=dl(Pn(f)),g.m=null,g.P=!0,uy(g,l)}t.Za=function(){this.C!=null&&(this.C=null,ml(this),Nd(this),gt(19))};function yl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Oy(l,f){var g=null;if(l.g==f){yl(l),Rd(l),l.g=null;var k=2}else if(Id(l.h,f))g=f.D,gy(l.h,f),k=1;else return;if(l.G!=0){if(f.o)if(k==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var D=l.B;k=sl(),mt(k,new oy(k,g)),gl(l)}else My(l);else if(D=f.s,D==3||D==0&&0<f.X||!(k==1&&cI(l,f)||k==2&&Nd(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),D){case 1:ni(l,5);break;case 4:ni(l,10);break;case 3:ni(l,6);break;default:ni(l,2)}}}function Fy(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function ni(l,f){if(l.j.info("Error code "+f),f==2){var g=m(l.fb,l),k=l.Xa;const D=!k;k=new ti(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cl(k,"https"),dl(k),D?nI(k.toString(),g):rI(k.toString(),g)}else gt(2);l.G=0,l.l&&l.l.sa(f),Uy(l),Dy(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Uy(l){if(l.G=0,l.ka=[],l.l){const f=yy(l.h);(f.length!=0||l.i.length!=0)&&(S(l.ka,f),S(l.ka,l.i),l.h.i.length=0,E(l.i),l.i.length=0),l.l.ra()}}function By(l,f,g){var k=g instanceof ti?Pn(g):new ti(g);if(k.g!="")f&&(k.g=f+"."+k.g),ul(k,k.s);else{var D=a.location;k=D.protocol,f=f?f+"."+D.hostname:D.hostname,D=+D.port;var V=new ti(null);k&&cl(V,k),f&&(V.g=f),D&&ul(V,D),g&&(V.l=g),k=V}return g=l.D,f=l.ya,g&&f&&ge(k,g,f),ge(k,"VER",l.la),fo(l,k),k}function zy(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Ae(new hl({eb:g})):new Ae(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $y(){}t=$y.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vl(){}vl.prototype.g=function(l,f){return new Pt(l,f)};function Pt(l,f){et.call(this),this.g=new Ry(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!v(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!v(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Ui(this)}x(Pt,et),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){Pd(this.g)},Pt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=vd(l),l=g);f.i.push(new qS(f.Ya++,l)),f.G==3&&gl(f)},Pt.prototype.N=function(){this.g.l=null,delete this.j,Pd(this.g),delete this.g,Pt.aa.N.call(this)};function Hy(l){wd.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}x(Hy,wd);function Wy(){_d.call(this),this.status=1}x(Wy,_d);function Ui(l){this.g=l}x(Ui,$y),Ui.prototype.ua=function(){mt(this.g,"a")},Ui.prototype.ta=function(l){mt(this.g,new Hy(l))},Ui.prototype.sa=function(l){mt(this.g,new Wy)},Ui.prototype.ra=function(){mt(this.g,"b")},vl.prototype.createWebChannel=vl.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,AE=function(){return new vl},IE=function(){return sl()},SE=Zr,tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ol.NO_ERROR=0,ol.TIMEOUT=8,ol.HTTP_ERROR=6,hc=ol,ay.COMPLETE="complete",bE=ay,ny.EventType=to,to.OPEN="a",to.CLOSE="b",to.ERROR="c",to.MESSAGE="d",et.prototype.listen=et.prototype.K,No=ny,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,EE=Ae}).apply(typeof zl<"u"?zl:typeof self<"u"?self:typeof window<"u"?window:{});const $x="@firebase/firestore",Hx="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ks="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new Zm("@firebase/firestore");function Hi(){return Ai.logLevel}function $(t,...e){if(Ai.logLevel<=ie.DEBUG){const n=e.map(ng);Ai.debug(`Firestore (${Ks}): ${t}`,...n)}}function Qn(t,...e){if(Ai.logLevel<=ie.ERROR){const n=e.map(ng);Ai.error(`Firestore (${Ks}): ${t}`,...n)}}function Ds(t,...e){if(Ai.logLevel<=ie.WARN){const n=e.map(ng);Ai.warn(`Firestore (${Ks}): ${t}`,...n)}}function ng(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,CE(t,r,n)}function CE(t,e,n){let r=`FIRESTORE (${Ks}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qn(r),new Error(r)}function ce(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||CE(e,i,r)}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(at.UNAUTHENTICATED))}shutdown(){}}class VV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class MV{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ce(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string",31837,{l:r}),new PE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ce(e===null||typeof e=="string",2055,{h:e}),new at(e)}}class LV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new LV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ce(this.o===void 0,3512);const r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Wx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Wx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=UV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ee(t,e){return t<e?-1:t>e?1:0}function np(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ee(r,i);{const s=NE(),o=BV(s.encode(qx(t,n)),s.encode(qx(e,n)));return o!==0?o:ee(r,i)}}n+=r>65535?2:1}return ee(t.length,e.length)}function qx(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function BV(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ee(t[n],e[n]);return ee(t.length,e.length)}function js(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=-62135596800,Kx=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Kx);return new Be(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Gx)throw new H(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kx}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Gx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new Be(0,0))}static max(){return new J(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="__name__";class pn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=pn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ee(e.length,n.length)}static compareSegments(e,n){const r=pn.isNumericId(e),i=pn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?pn.extractNumericId(e).compare(pn.extractNumericId(n)):np(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nr.fromString(e.substring(4,e.length-2))}}class ve extends pn{construct(e,n,r){return new ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const zV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends pn{construct(e,n,r){return new Ye(e,n,r)}static isValidIdentifier(e){return zV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qx}static keyField(){return new Ye([Qx])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new H(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new H(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ye(n)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(ve.fromString(e))}static fromName(e){return new q(ve.fromString(e).popFirst(5))}static empty(){return new q(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new ve(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=-1;function $V(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new Or(i,q.empty(),e)}function HV(t){return new Or(t.readTime,t.key,ba)}class Or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Or(J.min(),q.empty(),ba)}static max(){return new Or(J.max(),q.empty(),ba)}}function WV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==qV)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new O((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function KV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ys(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Hu.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=-1;function Wu(t){return t==null}function iu(t){return t===0&&1/t==-1/0}function QV(t){return typeof t=="number"&&Number.isInteger(t)&&!iu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="";function YV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Yx(e)),e=XV(t.get(n),e);return Yx(e)}function XV(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case DE:n+="";break;default:n+=s}}return n}function Yx(t){return t+DE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){this.comparator=e,this.root=n||Qe.EMPTY}insert(e,n){return new Ie(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new Ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $l(this.root,e,this.comparator,!1)}getReverseIterator(){return new $l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $l(this.root,e,this.comparator,!0)}}class $l{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Qe.RED,this.left=i??Qe.EMPTY,this.right=s??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Qe(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Qe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.comparator=e,this.data=new Ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jx(this.data.getIterator())}getIteratorFrom(e){return new Jx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ze(this.comparator);return n.data=e,n}}class Jx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.fields=e,e.sort(Ye.comparator)}static empty(){return new jt([])}unionWith(e){let n=new ze(Ye.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return js(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new VE("Invalid base64 string: "+s):s}}(e);return new Ze(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ze(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const JV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(t){if(ce(!!t,39018),typeof t=="string"){let e=0;const n=JV.exec(t);if(ce(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ur(t){return typeof t=="string"?Ze.fromBase64String(t):Ze.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="server_timestamp",LE="__type__",OE="__previous_value__",FE="__local_write_time__";function ig(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[LE])===null||n===void 0?void 0:n.stringValue)===ME}function qu(t){const e=t.mapValue.fields[OE];return ig(e)?qu(e):e}function Sa(t){const e=Fr(t.mapValue.fields[FE].timestampValue);return new Be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n,r,i,s,o,a,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const su="(default)";class Ia{constructor(e,n){this.projectId=e,this.database=n||su}static empty(){return new Ia("","")}get isDefaultDatabase(){return this.database===su}isEqual(e){return e instanceof Ia&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="__type__",BE="__max__",Hl={mapValue:{fields:{__type__:{stringValue:BE}}}},zE="__vector__",ou="value";function Br(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ig(t)?4:tM(t)?9007199254740991:eM(t)?10:11:Q(28295,{value:t})}function bn(t,e){if(t===e)return!0;const n=Br(t);if(n!==Br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sa(t).isEqual(Sa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Fr(i.timestampValue),a=Fr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ur(i.bytesValue).isEqual(Ur(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return De(i.geoPointValue.latitude)===De(s.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return De(i.integerValue)===De(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=De(i.doubleValue),a=De(s.doubleValue);return o===a?iu(o)===iu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return js(t.arrayValue.values||[],e.arrayValue.values||[],bn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Xx(o)!==Xx(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!bn(o[c],a[c])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}}function Aa(t,e){return(t.values||[]).find(n=>bn(n,e))!==void 0}function Vs(t,e){if(t===e)return 0;const n=Br(t),r=Br(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=De(s.integerValue||s.doubleValue),c=De(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Zx(t.timestampValue,e.timestampValue);case 4:return Zx(Sa(t),Sa(e));case 5:return np(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ur(s),c=Ur(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=ee(a[u],c[u]);if(h!==0)return h}return ee(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ee(De(s.latitude),De(o.latitude));return a!==0?a:ee(De(s.longitude),De(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ew(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,h;const p=s.fields||{},m=o.fields||{},y=(a=p[ou])===null||a===void 0?void 0:a.arrayValue,x=(c=m[ou])===null||c===void 0?void 0:c.arrayValue,E=ee(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:ew(y,x)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Hl.mapValue&&o===Hl.mapValue)return 0;if(s===Hl.mapValue)return 1;if(o===Hl.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const m=np(c[p],h[p]);if(m!==0)return m;const y=Vs(a[c[p]],u[h[p]]);if(y!==0)return y}return ee(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{Pe:n})}}function Zx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ee(t,e);const n=Fr(t),r=Fr(e),i=ee(n.seconds,r.seconds);return i!==0?i:ee(n.nanos,r.nanos)}function ew(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Vs(n[i],r[i]);if(s)return s}return ee(n.length,r.length)}function Ms(t){return rp(t)}function rp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ur(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=rp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${rp(n.fields[o])}`;return i+"}"}(t.mapValue):Q(61005,{value:t})}function fc(t){switch(Br(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qu(t);return e?16+fc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ur(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+fc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Yr(r.fields,(s,o)=>{i+=s.length+fc(o)}),i}(t.mapValue);default:throw Q(13486,{value:t})}}function tw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ip(t){return!!t&&"integerValue"in t}function sg(t){return!!t&&"arrayValue"in t}function nw(t){return!!t&&"nullValue"in t}function rw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pc(t){return!!t&&"mapValue"in t}function eM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[UE])===null||n===void 0?void 0:n.stringValue)===zE}function Ko(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ko(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ko(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===BE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.value=e}static empty(){return new bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ko(n)}setAll(e){let n=Ye.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ko(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());pc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bt(Ko(this.value))}}function $E(t){const e=[];return Yr(t.fields,(n,r)=>{const i=new Ye([n]);if(pc(r)){const s=$E(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ct(e,0,J.min(),J.min(),J.min(),bt.empty(),0)}static newFoundDocument(e,n,r,i){return new ct(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new ct(e,2,n,J.min(),J.min(),bt.empty(),0)}static newUnknownDocument(e,n){return new ct(e,3,n,J.min(),J.min(),bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.position=e,this.inclusive=n}}function iw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=Vs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function sw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n="asc"){this.field=e,this.dir=n}}function nM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{}class Le extends HE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iM(e,n,r):n==="array-contains"?new aM(e,r):n==="in"?new lM(e,r):n==="not-in"?new cM(e,r):n==="array-contains-any"?new uM(e,r):new Le(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sM(e,r):new oM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vs(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(Vs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cn extends HE{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new cn(e,n)}matches(e){return WE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function WE(t){return t.op==="and"}function qE(t){return rM(t)&&WE(t)}function rM(t){for(const e of t.filters)if(e instanceof cn)return!1;return!0}function sp(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+Ms(t.value);if(qE(t))return t.filters.map(e=>sp(e)).join(",");{const e=t.filters.map(n=>sp(n)).join(",");return`${t.op}(${e})`}}function GE(t,e){return t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.field.isEqual(i.field)&&bn(r.value,i.value)}(t,e):t instanceof cn?function(r,i){return i instanceof cn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&GE(o,i.filters[a]),!0):!1}(t,e):void Q(19439)}function KE(t){return t instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${Ms(n.value)}`}(t):t instanceof cn?function(n){return n.op.toString()+" {"+n.getFilters().map(KE).join(" ,")+"}"}(t):"Filter"}class iM extends Le{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class sM extends Le{constructor(e,n){super(e,"in",n),this.keys=QE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oM extends Le{constructor(e,n){super(e,"not-in",n),this.keys=QE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class aM extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sg(n)&&Aa(n.arrayValue,this.value)}}class lM extends Le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Aa(this.value.arrayValue,n)}}class cM extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(Aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Aa(this.value.arrayValue,n)}}class uM extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Aa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function ow(t,e=null,n=[],r=[],i=null,s=null,o=null){return new dM(t,e,n,r,i,s,o)}function og(t){const e=Z(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Wu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ms(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ms(r)).join(",")),e.Ie=n}return e.Ie}function ag(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sw(t.startAt,e.startAt)&&sw(t.endAt,e.endAt)}function op(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function hM(t,e,n,r,i,s,o,a){return new Xs(t,e,n,r,i,s,o,a)}function YE(t){return new Xs(t)}function aw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XE(t){return t.collectionGroup!==null}function Qo(t){const e=Z(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ze(Ye.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Ca(s,r))}),n.has(Ye.keyField().canonicalString())||e.Ee.push(new Ca(Ye.keyField(),r))}return e.Ee}function _n(t){const e=Z(t);return e.de||(e.de=fM(e,Qo(t))),e.de}function fM(t,e){if(t.limitType==="F")return ow(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ca(i.field,s)});const n=t.endAt?new au(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new au(t.startAt.position,t.startAt.inclusive):null;return ow(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ap(t,e){const n=t.filters.concat([e]);return new Xs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lp(t,e,n){return new Xs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gu(t,e){return ag(_n(t),_n(e))&&t.limitType===e.limitType}function JE(t){return`${og(_n(t))}|lt:${t.limitType}`}function Wi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>KE(i)).join(", ")}]`),Wu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ms(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ms(i)).join(",")),`Target(${r})`}(_n(t))}; limitType=${t.limitType})`}function Ku(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Qo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const u=iw(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Qo(r),i)||r.endAt&&!function(o,a,c){const u=iw(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Qo(r),i))}(t,e)}function pM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZE(t){return(e,n)=>{let r=!1;for(const i of Qo(t)){const s=mM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function mM(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Vs(c,u):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=new Ie(q.comparator);function Yn(){return gM}const eb=new Ie(q.comparator);function Ro(...t){let e=eb;for(const n of t)e=e.insert(n.key,n);return e}function tb(t){let e=eb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mi(){return Yo()}function nb(){return Yo()}function Yo(){return new Vi(t=>t.toString(),(t,e)=>t.isEqual(e))}const yM=new Ie(q.comparator),vM=new ze(q.comparator);function se(...t){let e=vM;for(const n of t)e=e.add(n);return e}const xM=new ze(ee);function wM(){return xM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iu(e)?"-0":e}}function rb(t){return{integerValue:""+t}}function _M(t,e){return QV(e)?rb(e):lg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this._=void 0}}function TM(t,e,n){return t instanceof Pa?function(i,s){const o={fields:{[LE]:{stringValue:ME},[FE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ig(s)&&(s=qu(s)),s&&(o.fields[OE]=s),{mapValue:o}}(n,e):t instanceof Na?sb(t,e):t instanceof Ra?ob(t,e):function(i,s){const o=ib(i,s),a=lw(o)+lw(i.Re);return ip(o)&&ip(i.Re)?rb(a):lg(i.serializer,a)}(t,e)}function kM(t,e,n){return t instanceof Na?sb(t,e):t instanceof Ra?ob(t,e):n}function ib(t,e){return t instanceof lu?function(r){return ip(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Pa extends Qu{}class Na extends Qu{constructor(e){super(),this.elements=e}}function sb(t,e){const n=ab(e);for(const r of t.elements)n.some(i=>bn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ra extends Qu{constructor(e){super(),this.elements=e}}function ob(t,e){let n=ab(e);for(const r of t.elements)n=n.filter(i=>!bn(i,r));return{arrayValue:{values:n}}}class lu extends Qu{constructor(e,n){super(),this.serializer=e,this.Re=n}}function lw(t){return De(t.integerValue||t.doubleValue)}function ab(t){return sg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n){this.field=e,this.transform=n}}function bM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Na&&i instanceof Na||r instanceof Ra&&i instanceof Ra?js(r.elements,i.elements,bn):r instanceof lu&&i instanceof lu?bn(r.Re,i.Re):r instanceof Pa&&i instanceof Pa}(t.transform,e.transform)}class SM{constructor(e,n){this.version=e,this.transformResults=n}}class Gt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gt}static exists(e){return new Gt(void 0,e)}static updateTime(e){return new Gt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yu{}function lb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cg(t.key,Gt.none()):new Ka(t.key,t.data,Gt.none());{const n=t.data,r=bt.empty();let i=new ze(Ye.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xr(t.key,r,new jt(i.toArray()),Gt.none())}}function IM(t,e,n){t instanceof Ka?function(i,s,o){const a=i.value.clone(),c=uw(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xr?function(i,s,o){if(!mc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=uw(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(cb(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xo(t,e,n,r){return t instanceof Ka?function(s,o,a,c){if(!mc(s.precondition,o))return a;const u=s.value.clone(),h=dw(s.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xr?function(s,o,a,c){if(!mc(s.precondition,o))return a;const u=dw(s.fieldTransforms,c,o),h=o.data;return h.setAll(cb(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return mc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function AM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ib(r.transform,i||null);s!=null&&(n===null&&(n=bt.empty()),n.set(r.field,s))}return n||null}function cw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&js(r,i,(s,o)=>bM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ka extends Yu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xr extends Yu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uw(t,e,n){const r=new Map;ce(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,kM(o,a,n[i]))}return r}function dw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,TM(s,o,e))}return r}class cg extends Yu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CM extends Yu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&IM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nb();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=lb(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&js(this.mutations,e.mutations,(n,r)=>cw(n,r))&&js(this.baseMutations,e.baseMutations,(n,r)=>cw(n,r))}}class ug{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ce(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return yM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ug(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,oe;function DM(t){switch(t){case L.OK:return Q(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function ub(t){if(t===void 0)return Qn("GRPC error has no .code"),L.UNKNOWN;switch(t){case Ve.OK:return L.OK;case Ve.CANCELLED:return L.CANCELLED;case Ve.UNKNOWN:return L.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return L.INTERNAL;case Ve.UNAVAILABLE:return L.UNAVAILABLE;case Ve.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Ve.NOT_FOUND:return L.NOT_FOUND;case Ve.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Ve.ABORTED:return L.ABORTED;case Ve.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Ve.DATA_LOSS:return L.DATA_LOSS;default:return Q(39323,{code:t})}}(oe=Ve||(Ve={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=new Nr([4294967295,4294967295],0);function hw(t){const e=NE().encode(t),n=new kE;return n.update(e),new Uint8Array(n.digest())}function fw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Nr([n,r],0),new Nr([i,s],0)]}class dg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Do(`Invalid padding: ${n}`);if(r<0)throw new Do(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Do(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Do(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Nr.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Nr.fromNumber(r)));return i.compare(jM)===1&&(i=new Nr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=hw(e),[r,i]=fw(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.Se(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=hw(e),[r,i]=fw(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Do extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Qa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xu(J.min(),i,new Ie(ee),Yn(),se())}}class Qa{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qa(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class db{constructor(e,n){this.targetId=e,this.Ce=n}}class hb{constructor(e,n,r=Ze.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class pw{constructor(){this.Fe=0,this.Me=mw(),this.xe=Ze.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=se(),n=se(),r=se();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:s})}}),new Qa(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=mw()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ce(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class VM{constructor(e){this.ze=e,this.je=new Map,this.He=Yn(),this.Je=Wl(),this.Ye=Wl(),this.Ze=new Ie(ee)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(op(s))if(r===0){const o=new q(s.path);this.tt(n,o,ct.newNoDocument(o,J.min()))}else ce(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),c=a?this.lt(a,e,o):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ur(r).toUint8Array()}catch(c){if(c instanceof VE)return Ds("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new dg(o,i,s)}catch(c){return Ds(c instanceof Do?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&op(a.target)){const c=new q(a.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,ct.newNoDocument(c,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=se();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new Xu(e,n,this.Ze,this.He,r);return this.He=Yn(),this.Je=Wl(),this.Ye=Wl(),this.Ze=new Ie(ee),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new pw,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new ze(ee),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new ze(ee),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new pw),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Wl(){return new Ie(q.comparator)}function mw(){return new Ie(q.comparator)}const MM={asc:"ASCENDING",desc:"DESCENDING"},LM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OM={and:"AND",or:"OR"};class FM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cp(t,e){return t.useProto3Json||Wu(e)?e:{value:e}}function cu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function UM(t,e){return cu(t,e.toTimestamp())}function Tn(t){return ce(!!t,49232),J.fromTimestamp(function(n){const r=Fr(n);return new Be(r.seconds,r.nanos)}(t))}function hg(t,e){return up(t,e).canonicalString()}function up(t,e){const n=function(i){return new ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pb(t){const e=ve.fromString(t);return ce(xb(e),10190,{key:e.toString()}),e}function dp(t,e){return hg(t.databaseId,e.path)}function Ih(t,e){const n=pb(e);if(n.get(1)!==t.databaseId.projectId)throw new H(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(gb(n))}function mb(t,e){return hg(t.databaseId,e)}function BM(t){const e=pb(t);return e.length===4?ve.emptyPath():gb(e)}function hp(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gb(t){return ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function gw(t,e,n){return{name:dp(t,e),fields:n.value.mapValue.fields}}function zM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Q(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(ce(h===void 0||typeof h=="string",58123),Ze.fromBase64String(h||"")):(ce(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ze.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?L.UNKNOWN:ub(u.code);return new H(h,u.message||"")}(o);n=new hb(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ih(t,r.document.name),s=Tn(r.document.updateTime),o=r.document.createTime?Tn(r.document.createTime):J.min(),a=new bt({mapValue:{fields:r.document.fields}}),c=ct.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new gc(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ih(t,r.document),s=r.readTime?Tn(r.readTime):J.min(),o=ct.newNoDocument(i,s),a=r.removedTargetIds||[];n=new gc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ih(t,r.document),s=r.removedTargetIds||[];n=new gc([],s,i,null)}else{if(!("filter"in e))return Q(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new RM(i,s),a=r.targetId;n=new db(a,o)}}return n}function $M(t,e){let n;if(e instanceof Ka)n={update:gw(t,e.key,e.value)};else if(e instanceof cg)n={delete:dp(t,e.key)};else if(e instanceof Xr)n={update:gw(t,e.key,e.data),updateMask:JM(e.fieldMask)};else{if(!(e instanceof CM))return Q(16599,{ft:e.type});n={verify:dp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Pa)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Na)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ra)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lu)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw Q(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:UM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q(27497)}(t,e.precondition)),n}function HM(t,e){return t&&t.length>0?(ce(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Tn(i.updateTime):Tn(s);return o.isEqual(J.min())&&(o=Tn(s)),new SM(o,i.transformResults||[])}(n,e))):[]}function WM(t,e){return{documents:[mb(t,e.path)]}}function qM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mb(t,i);const s=function(u){if(u.length!==0)return vb(cn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:qi(m.field),direction:QM(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=cp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function GM(t){let e=BM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ce(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){const m=yb(p);return m instanceof cn&&qE(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(x){return new Ca(Gi(x.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Wu(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){const m=!!p.before,y=p.values||[];return new au(y,m)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const m=!p.before,y=p.values||[];return new au(y,m)}(n.endAt)),hM(e,i,o,s,a,"F",c,u)}function KM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gi(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Gi(n.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Gi(n.unaryFilter.field);return Le.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gi(n.unaryFilter.field);return Le.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):t.fieldFilter!==void 0?function(n){return Le.create(Gi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cn.create(n.compositeFilter.filters.map(r=>yb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t})}function QM(t){return MM[t]}function YM(t){return LM[t]}function XM(t){return OM[t]}function qi(t){return{fieldPath:t.canonicalString()}}function Gi(t){return Ye.fromServerFormat(t.fieldPath)}function vb(t){return t instanceof Le?function(n){if(n.op==="=="){if(rw(n.value))return{unaryFilter:{field:qi(n.field),op:"IS_NAN"}};if(nw(n.value))return{unaryFilter:{field:qi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rw(n.value))return{unaryFilter:{field:qi(n.field),op:"IS_NOT_NAN"}};if(nw(n.value))return{unaryFilter:{field:qi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qi(n.field),op:YM(n.op),value:n.value}}}(t):t instanceof cn?function(n){const r=n.getFilters().map(i=>vb(i));return r.length===1?r[0]:{compositeFilter:{op:XM(n.op),filters:r}}}(t):Q(54877,{filter:t})}function JM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,r,i,s=J.min(),o=J.min(),a=Ze.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.wt=e}}function e6(t){const e=GM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(){this.Cn=new n6}addToCollectionParentIndex(e,n){return this.Cn.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Or.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class n6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ze(ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ze(ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wb=41943040;class Tt{static withCacheSize(e){return new Tt(e,Tt.DEFAULT_COLLECTION_PERCENTILE,Tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tt.DEFAULT_COLLECTION_PERCENTILE=10,Tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tt.DEFAULT=new Tt(wb,Tt.DEFAULT_COLLECTION_PERCENTILE,Tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tt.DISABLED=new Tt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ls(0)}static lr(){return new Ls(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="LruGarbageCollector",r6=1048576;function xw([t,e],[n,r]){const i=ee(t,n);return i===0?ee(e,r):i}class i6{constructor(e){this.Er=e,this.buffer=new ze(xw),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();xw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class s6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){$(vw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ys(n)?$(vw,"Ignoring IndexedDB error during garbage collection: ",n):await Qs(n)}await this.mr(3e5)})}}class o6{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return O.resolve(Hu.le);const r=new i6(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(yw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yw):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,o,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Hi()<=ie.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function a6(t,e){return new o6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(){this.changes=new Vi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xo(r.mutation,i,jt.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=mi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ro();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Yn();const o=Yo(),a=function(){return Yo()}();return n.forEach((c,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Xr)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Xo(h.mutation,u,h.mutation.getFieldMask(),Be.now())):o.set(u.key,jt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var p;return a.set(u,new c6(h,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Yo();let i=new Ie((o,a)=>o-a),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||jt.empty();h=a.applyToLocalView(u,h),r.set(c,h);const p=(i.get(a.batchId)||se()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,p=nb();h.forEach(m=>{if(!s.has(m)){const y=lb(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve(mi());let a=ba,c=s;return o.next(u=>O.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,se())).next(h=>({batchId:a,changes:tb(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=Ro();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ro();return this.indexManager.getCollectionParents(e,s).next(a=>O.forEach(a,c=>{const u=function(p,m){return new Xs(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,ct.newInvalidDocument(h)))});let a=Ro();return o.forEach((c,u)=>{const h=s.get(c);h!==void 0&&Xo(h.mutation,u,jt.empty(),Be.now()),Ku(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return O.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Tn(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:e6(i.bundledQuery),readTime:Tn(i.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.overlays=new Ie(q.comparator),this.Qr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mi();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.bt(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=mi(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ie((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=mi(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=mi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return O.resolve(a)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new NM(n,r));let s=this.Qr.get(n);s===void 0&&(s=se(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.$r=new ze($e.Ur),this.Kr=new ze($e.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new $e(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new $e(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new q(new ve([])),r=new $e(n,e),i=new $e(n,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new q(new ve([])),r=new $e(n,e),i=new $e(n,e+1);let s=se();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new $e(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $e{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return q.comparator(e.key,n.key)||ee(e.Zr,n.Zr)}static Wr(e,n){return ee(e.Zr,n.Zr)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new ze($e.Ur)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new PM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new $e(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?rg:this.nr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $e(n,0),i=new $e(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const a=this.ei(o.Zr);s.push(a)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(ee);return n.forEach(i=>{const s=new $e(i,0),o=new $e(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{r=r.add(a.Zr)})}),O.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;q.isDocumentKey(s)||(s=s.child(""));const o=new $e(new q(s),0);let a=new ze(ee);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Zr)),!0)},o),O.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ce(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return O.forEach(n.mutations,i=>{const s=new $e(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new $e(n,0),i=this.Xr.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.ii=e,this.docs=function(){return new Ie(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():ct.newInvalidDocument(n))}getEntries(e,n){let r=Yn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ct.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Yn();const o=n.path,a=new q(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||WV(HV(h),r)<=0||(i.has(h.key)||Ku(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Q(9500)}si(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new g6(this)}getSize(e){return O.resolve(this.size)}}class g6 extends l6{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.persistence=e,this.oi=new Vi(n=>og(n),ag),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this._i=0,this.ai=new fg,this.targetCount=0,this.ui=Ls.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),O.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ls(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Tr(n),O.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n){this.ci={},this.overlays={},this.li=new Hu(0),this.hi=!1,this.hi=!0,this.Pi=new f6,this.referenceDelegate=e(this),this.Ti=new y6(this),this.indexManager=new t6,this.remoteDocumentCache=function(i){return new m6(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new ZM(n),this.Ei=new d6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new h6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new p6(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const i=new v6(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return O.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class v6 extends GV{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Vi=new fg,this.mi=null}static fi(e){return new pg(e)}get gi(){if(this.mi)return this.mi;throw Q(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),O.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.gi,r=>{const i=q.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return O.or([()=>O.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class uu{constructor(e,n){this.persistence=e,this.yi=new Vi(r=>YV(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=a6(this,n)}static fi(e,n){return new uu(e,n)}di(){}Ai(e){return O.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return O.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?O.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,J.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),O.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),O.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fc(e.data.value)),n}Dr(e,n,r){return O.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new mg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return g4()?8:KV(ht())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new x6;return this.bs(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Hi()<=ie.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",Wi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),O.resolve()):(Hi()<=ie.DEBUG&&$("QueryEngine","Query:",Wi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Hi()<=ie.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",Wi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(n))):O.resolve())}ws(e,n){if(aw(n))return O.resolve(null);let r=_n(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lp(n,null,"F"),r=_n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=se(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,a);return this.Cs(n,u,o,c.readTime)?this.ws(e,lp(n,null,"F")):this.Fs(e,u,n,c)}))})))}Ss(e,n,r,i){return aw(n)||i.isEqual(J.min())?O.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,r,i)?O.resolve(null):(Hi()<=ie.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wi(n)),this.Fs(e,o,n,$V(i,ba)).next(a=>a))})}vs(e,n){let r=new ze(ZE(e));return n.forEach((i,s)=>{Ku(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}bs(e,n,r){return Hi()<=ie.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Wi(n)),this.ys.getDocumentsMatchingQuery(e,n,Or.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="LocalStore",_6=3e8;class T6{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Ie(ee),this.Os=new Vi(s=>og(s),ag),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u6(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function k6(t,e,n,r){return new T6(t,e,n,r)}async function Tb(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=se();for(const u of i){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function E6(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const p=u.batch,m=p.keys();let y=O.resolve();return m.forEach(x=>{y=y.next(()=>h.getEntry(c,x)).next(E=>{const S=u.docVersions.get(x);ce(S!==null,48541),E.version.compareTo(S)<0&&(p.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),h.addEntry(E)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kb(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function b6(t,e){const n=Z(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((h,p)=>{const m=i.get(p);if(!m)return;a.push(n.Ti.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(s,h.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Ze.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(E,S,T){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=_6?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,y,h)&&a.push(n.Ti.updateTargetData(s,y))});let c=Yn(),u=se();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(S6(s,o,e.documentUpdates).next(h=>{c=h.qs,u=h.Qs})),!r.isEqual(J.min())){const h=n.Ti.getLastRemoteSnapshotVersion(s).next(p=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.xs=i,s))}function S6(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Yn();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(J.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):$(gg,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{qs:o,Qs:i}})}function I6(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=rg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function A6(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,O.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new vr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function fp(t,e,n){const r=Z(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ys(o))throw o;$(gg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function ww(t,e,n){const r=Z(t);let i=J.min(),s=se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const p=Z(c),m=p.Os.get(h);return m!==void 0?O.resolve(p.xs.get(m)):p.Ti.getTargetData(u,h)}(r,o,_n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:se())).next(a=>(C6(r,pM(e),a),{documents:a,$s:s})))}function C6(t,e,n){let r=t.Ns.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class _w{constructor(){this.activeTargetIds=wM()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P6{constructor(){this.xo=new _w,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new _w,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="ConnectivityMonitor";class kw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){$(Tw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){$(Tw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql=null;function pp(){return ql===null?ql=function(){return 268435456+Math.round(2147483648*Math.random())}():ql++,"0x"+ql.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah="RestConnection",R6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D6{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===su?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const o=pp(),a=this.jo(e,n.toUriEncodedString());$(Ah,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,s);const{host:u}=new URL(a),h=Wa(u);return this.Jo(e,a,c,r,h).then(p=>($(Ah,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Ds(Ah,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,n,r,i,s,o){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ks}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=R6[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st="WebChannelConnection";class V6 extends D6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=pp();return new Promise((a,c)=>{const u=new EE;u.setWithCredentials(!0),u.listenOnce(bE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case hc.NO_ERROR:const p=u.getResponseJson();$(st,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case hc.TIMEOUT:$(st,`RPC '${e}' ${o} timed out`),c(new H(L.DEADLINE_EXCEEDED,"Request time out"));break;case hc.HTTP_ERROR:const m=u.getStatus();if($(st,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y==null?void 0:y.error;if(x&&x.status&&x.message){const E=function(T){const v=T.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(v)>=0?v:L.UNKNOWN}(x.status);c(new H(E,x.message))}else c(new H(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new H(L.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{$(st,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);$(st,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}T_(e,n,r){const i=pp(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=AE(),a=IE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=s.join("");$(st,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=o.createWebChannel(h,c);let m=!1,y=!1;const x=new j6({Zo:S=>{y?$(st,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||($(st,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),$(st,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Xo:()=>p.close()}),E=(S,T,v)=>{S.listen(T,w=>{try{v(w)}catch(j){setTimeout(()=>{throw j},0)}})};return E(p,No.EventType.OPEN,()=>{y||($(st,`RPC '${e}' stream ${i} transport opened.`),x.__())}),E(p,No.EventType.CLOSE,()=>{y||(y=!0,$(st,`RPC '${e}' stream ${i} transport closed`),x.u_())}),E(p,No.EventType.ERROR,S=>{y||(y=!0,Ds(st,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),x.u_(new H(L.UNAVAILABLE,"The operation could not be completed")))}),E(p,No.EventType.MESSAGE,S=>{var T;if(!y){const v=S.data[0];ce(!!v,16349);const w=v,j=(w==null?void 0:w.error)||((T=w[0])===null||T===void 0?void 0:T.error);if(j){$(st,`RPC '${e}' stream ${i} received error:`,j);const M=j.status;let F=function(I){const A=Ve[I];if(A!==void 0)return ub(A)}(M),b=j.message;F===void 0&&(F=L.INTERNAL,b="Unknown error status: "+M+" with message "+j.message),y=!0,x.u_(new H(F,b)),p.close()}else $(st,`RPC '${e}' stream ${i} received:`,v),x.c_(v)}}),E(a,SE.STAT_EVENT,S=>{S.stat===tp.PROXY?$(st,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===tp.NOPROXY&&$(st,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}}function Ch(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){return new FM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=i,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="PersistentStream";class bb{constructor(e,n,r,i,s,o,a,c){this.xi=e,this.y_=r,this.w_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Eb(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Qn(n.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===n&&this.K_(r,i)},r=>{e(()=>{const i=new H(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return $(Ew,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():($(Ew,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M6 extends bb{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=zM(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?Tn(o.readTime):J.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=hp(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=op(c)?{documents:WM(s,c)}:{query:qM(s,c).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fb(s,o.resumeToken);const u=cp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(J.min())>0){a.readTime=cu(s,o.snapshotVersion.toTimestamp());const u=cp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=KM(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=hp(this.serializer),n.removeTarget=e,this.L_(n)}}class L6 extends bb{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=HM(e.writeResults,e.commitTime),r=Tn(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=hp(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$M(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{}class F6 extends O6{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new H(L.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,up(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(L.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,up(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(L.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class U6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Qn(n),this.oa=!1):$("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="RemoteStore";class B6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(o=>{r.enqueueAndForget(async()=>{Mi(this)&&($(Ci,"Restarting streams for network reachability change."),await async function(c){const u=Z(c);u.Ta.add(4),await Ya(u),u.da.set("Unknown"),u.Ta.delete(4),await Zu(u)}(this))})}),this.da=new U6(r,i)}}async function Zu(t){if(Mi(t))for(const e of t.Ia)await e(!0)}async function Ya(t){for(const e of t.Ia)await e(!1)}function Sb(t,e){const n=Z(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),wg(n)?xg(n):Js(n).M_()&&vg(n,e))}function yg(t,e){const n=Z(t),r=Js(n);n.Pa.delete(e),r.M_()&&Ib(n,e),n.Pa.size===0&&(r.M_()?r.N_():Mi(n)&&n.da.set("Unknown"))}function vg(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Js(t).H_(e)}function Ib(t,e){t.Aa.Ke(e),Js(t).J_(e)}function xg(t){t.Aa=new VM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Js(t).start(),t.da._a()}function wg(t){return Mi(t)&&!Js(t).F_()&&t.Pa.size>0}function Mi(t){return Z(t).Ta.size===0}function Ab(t){t.Aa=void 0}async function z6(t){t.da.set("Online")}async function $6(t){t.Pa.forEach((e,n)=>{vg(t,e)})}async function H6(t,e){Ab(t),wg(t)?(t.da.ca(e),xg(t)):t.da.set("Unknown")}async function W6(t,e,n){if(t.da.set("Online"),e instanceof hb&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Pa.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Pa.delete(a),i.Aa.removeTarget(a))}(t,e)}catch(r){$(Ci,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await du(t,r)}else if(e instanceof gc?t.Aa.Xe(e):e instanceof db?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(J.min()))try{const r=await kb(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Aa.It(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.Pa.get(u);h&&s.Pa.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=s.Pa.get(c);if(!h)return;s.Pa.set(c,h.withResumeToken(Ze.EMPTY_BYTE_STRING,h.snapshotVersion)),Ib(s,c);const p=new vr(h.target,c,u,h.sequenceNumber);vg(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){$(Ci,"Failed to raise snapshot:",r),await du(t,r)}}async function du(t,e,n){if(!Ys(e))throw e;t.Ta.add(1),await Ya(t),t.da.set("Offline"),n||(n=()=>kb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$(Ci,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Zu(t)})}function Cb(t,e){return e().catch(n=>du(t,n,e))}async function ed(t){const e=Z(t),n=zr(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:rg;for(;q6(e);)try{const i=await I6(e.localStore,r);if(i===null){e.ha.length===0&&n.N_();break}r=i.batchId,G6(e,i)}catch(i){await du(e,i)}Pb(e)&&Nb(e)}function q6(t){return Mi(t)&&t.ha.length<10}function G6(t,e){t.ha.push(e);const n=zr(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function Pb(t){return Mi(t)&&!zr(t).F_()&&t.ha.length>0}function Nb(t){zr(t).start()}async function K6(t){zr(t).ta()}async function Q6(t){const e=zr(t);for(const n of t.ha)e.Z_(n.mutations)}async function Y6(t,e,n){const r=t.ha.shift(),i=ug.from(r,e,n);await Cb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ed(t)}async function X6(t,e){e&&zr(t).Y_&&await async function(r,i){if(function(o){return DM(o)&&o!==L.ABORTED}(i.code)){const s=r.ha.shift();zr(r).O_(),await Cb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ed(r)}}(t,e),Pb(t)&&Nb(t)}async function bw(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),$(Ci,"RemoteStore received new credentials");const r=Mi(n);n.Ta.add(3),await Ya(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Zu(n)}async function J6(t,e){const n=Z(t);e?(n.Ta.delete(2),await Zu(n)):e||(n.Ta.add(2),await Ya(n),n.da.set("Unknown"))}function Js(t){return t.Ra||(t.Ra=function(n,r,i){const s=Z(n);return s.ra(),new M6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:z6.bind(null,t),n_:$6.bind(null,t),i_:H6.bind(null,t),j_:W6.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),wg(t)?xg(t):t.da.set("Unknown")):(await t.Ra.stop(),Ab(t))})),t.Ra}function zr(t){return t.Va||(t.Va=function(n,r,i){const s=Z(n);return s.ra(),new L6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:K6.bind(null,t),i_:X6.bind(null,t),X_:Q6.bind(null,t),ea:Y6.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await ed(t)):(await t.Va.stop(),t.ha.length>0&&($(Ci,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new _g(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(t,e){if(Qn("AsyncQueue",`${e}: ${t}`),Ys(t))return new H(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{static emptySet(e){return new vs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=Ro(),this.sortedSet=new Ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.ma=new Ie(q.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):Q(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class Os{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Os(e,n,vs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class eL{constructor(){this.queries=Iw(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const i=Z(n),s=i.queries;i.queries=Iw(),s.forEach((o,a)=>{for(const c of a.ya)c.onError(r)})})(this,new H(L.ABORTED,"Firestore shutting down"))}}function Iw(){return new Vi(t=>JE(t),Gu)}async function tL(t,e){const n=Z(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.wa()&&e.Sa()&&(r=2):(s=new Z6,r=e.Sa()?0:1);try{switch(r){case 0:s.pa=await n.onListen(i,!0);break;case 1:s.pa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Tg(o,`Initialization of query '${Wi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ya.push(e),e.Da(n.onlineState),s.pa&&e.va(s.pa)&&kg(n)}async function nL(t,e){const n=Z(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ya.indexOf(e);o>=0&&(s.ya.splice(o,1),s.ya.length===0?i=e.Sa()?0:1:!s.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rL(t,e){const n=Z(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ya)a.va(i)&&(r=!0);o.pa=i}}r&&kg(n)}function iL(t,e,n){const r=Z(t),i=r.queries.get(e);if(i)for(const s of i.ya)s.onError(n);r.queries.delete(e)}function kg(t){t.ba.forEach(e=>{e.next()})}var mp,Aw;(Aw=mp||(mp={})).Ca="default",Aw.Cache="cache";class sL{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Os(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Os.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.key=e}}class Db{constructor(e){this.key=e}}class oL{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=se(),this.mutatedKeys=se(),this.Ha=ZE(e),this.Ja=new vs(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new Sw,i=n?n.Ja:this.Ja;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const m=i.get(h),y=Ku(this.query,p)?p:null,x=!!m&&this.mutatedKeys.has(m.key),E=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let S=!1;m&&y?m.data.isEqual(y.data)?x!==E&&(r.track({type:3,doc:y}),S=!0):this.eu(m,y)||(r.track({type:2,doc:y}),S=!0,(c&&this.Ha(y,c)>0||u&&this.Ha(y,u)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),S=!0):m&&!y&&(r.track({type:1,doc:m}),S=!0,(c||u)&&(a=!0)),S&&(y?(o=o.add(y),s=E?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:s}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((h,p)=>function(y,x){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Vt:S})}};return E(y)-E(x)}(h.type,p.type)||this.Ha(h.doc,p.doc)),this.tu(r),i=i!=null&&i;const a=n&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,u=c!==this.za;return this.za=c,o.length!==0||u?{snapshot:new Os(this.query,e.Ja,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Sw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=se(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new Db(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new Rb(r))}),n}su(e){this.Ga=e.$s,this.ja=se();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Os.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Eg="SyncEngine";class aL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lL{constructor(e){this.key=e,this._u=!1}}class cL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new Vi(a=>JE(a),Gu),this.cu=new Map,this.lu=new Set,this.hu=new Ie(q.comparator),this.Pu=new Map,this.Tu=new fg,this.Iu={},this.Eu=new Map,this.du=Ls.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function uL(t,e,n=!0){const r=Fb(t);let i;const s=r.uu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ou()):i=await jb(r,e,n,!0),i}async function dL(t,e){const n=Fb(t);await jb(n,e,!0,!1)}async function jb(t,e,n,r){const i=await A6(t.localStore,_n(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await hL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Sb(t.remoteStore,i),a}async function hL(t,e,n,r,i){t.Ru=(p,m,y)=>async function(E,S,T,v){let w=S.view.Za(T);w.Cs&&(w=await ww(E.localStore,S.query,!1).then(({documents:b})=>S.view.Za(b,w)));const j=v&&v.targetChanges.get(S.targetId),M=v&&v.targetMismatches.get(S.targetId)!=null,F=S.view.applyChanges(w,E.isPrimaryClient,j,M);return Pw(E,S.targetId,F.ru),F.snapshot}(t,p,m,y);const s=await ww(t.localStore,e,!0),o=new oL(e,s.$s),a=o.Za(s.documents),c=Qa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);Pw(t,n,u.ru);const h=new aL(e,n,o);return t.uu.set(e,h),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),u.snapshot}async function fL(t,e,n){const r=Z(t),i=r.uu.get(e),s=r.cu.get(i.targetId);if(s.length>1)return r.cu.set(i.targetId,s.filter(o=>!Gu(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&yg(r.remoteStore,i.targetId),gp(r,i.targetId)}).catch(Qs)):(gp(r,i.targetId),await fp(r.localStore,i.targetId,!0))}async function pL(t,e){const n=Z(t),r=n.uu.get(e),i=n.cu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yg(n.remoteStore,r.targetId))}async function mL(t,e,n){const r=TL(t);try{const i=await function(o,a){const c=Z(o),u=Be.now(),h=a.reduce((y,x)=>y.add(x.key),se());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=Yn(),E=se();return c.Bs.getEntries(y,h).next(S=>{x=S,x.forEach((T,v)=>{v.isValidDocument()||(E=E.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,x)).next(S=>{p=S;const T=[];for(const v of a){const w=AM(v,p.get(v.key).overlayedDocument);w!=null&&T.push(new Xr(v.key,w,$E(w.value.mapValue),Gt.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,T,a)}).next(S=>{m=S;const T=S.applyToLocalDocumentSet(p,E);return c.documentOverlayCache.saveOverlays(y,S.batchId,T)})}).then(()=>({batchId:m.batchId,changes:tb(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Iu[o.currentUser.toKey()];u||(u=new Ie(ee)),u=u.insert(a,c),o.Iu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Xa(r,i.changes),await ed(r.remoteStore)}catch(i){const s=Tg(i,"Failed to persist write");n.reject(s)}}async function Vb(t,e){const n=Z(t);try{const r=await b6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Pu.get(s);o&&(ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o._u=!0:i.modifiedDocuments.size>0?ce(o._u,14607):i.removedDocuments.size>0&&(ce(o._u,42227),o._u=!1))}),await Xa(n,r,e)}catch(r){await Qs(r)}}function Cw(t,e,n){const r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.uu.forEach((s,o)=>{const a=o.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=Z(o);c.onlineState=a;let u=!1;c.queries.forEach((h,p)=>{for(const m of p.ya)m.Da(a)&&(u=!0)}),u&&kg(c)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gL(t,e,n){const r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Pu.get(e),s=i&&i.key;if(s){let o=new Ie(q.comparator);o=o.insert(s,ct.newNoDocument(s,J.min()));const a=se().add(s),c=new Xu(J.min(),new Map,new Ie(ee),o,a);await Vb(r,c),r.hu=r.hu.remove(s),r.Pu.delete(e),bg(r)}else await fp(r.localStore,e,!1).then(()=>gp(r,e,n)).catch(Qs)}async function yL(t,e){const n=Z(t),r=e.batch.batchId;try{const i=await E6(n.localStore,e);Lb(n,r,null),Mb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xa(n,i)}catch(i){await Qs(i)}}async function vL(t,e,n){const r=Z(t);try{const i=await function(o,a){const c=Z(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(ce(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);Lb(r,e,n),Mb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xa(r,i)}catch(i){await Qs(i)}}function Mb(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function Lb(t,e,n){const r=Z(t);let i=r.Iu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function gp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||Ob(t,r)})}function Ob(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(yg(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),bg(t))}function Pw(t,e,n){for(const r of n)r instanceof Rb?(t.Tu.addReference(r.key,e),xL(t,r)):r instanceof Db?($(Eg,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||Ob(t,r.key)):Q(19791,{mu:r})}function xL(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||($(Eg,"New document in limbo: "+n),t.lu.add(r),bg(t))}function bg(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new q(ve.fromString(e)),r=t.du.next();t.Pu.set(r,new lL(n)),t.hu=t.hu.insert(n,r),Sb(t.remoteStore,new vr(_n(YE(n.path)),r,"TargetPurposeLimboResolution",Hu.le))}}async function Xa(t,e,n){const r=Z(t),i=[],s=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,c)=>{o.push(r.Ru(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){i.push(u);const p=mg.Rs(c.targetId,u);s.push(p)}}))}),await Promise.all(o),r.au.j_(i),await async function(c,u){const h=Z(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(u,m=>O.forEach(m.ds,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>O.forEach(m.As,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ys(p))throw p;$(gg,"Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const y=h.xs.get(m),x=y.snapshotVersion,E=y.withLastLimboFreeSnapshotVersion(x);h.xs=h.xs.insert(m,E)}}}(r.localStore,s))}async function wL(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){$(Eg,"User change. New user:",e.toKey());const r=await Tb(n.localStore,e);n.currentUser=e,function(s,o){s.Eu.forEach(a=>{a.forEach(c=>{c.reject(new H(L.CANCELLED,o))})}),s.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xa(n,r.ks)}}function _L(t,e){const n=Z(t),r=n.Pu.get(e);if(r&&r._u)return se().add(r.key);{let i=se();const s=n.cu.get(e);if(!s)return i;for(const o of s){const a=n.uu.get(o);i=i.unionWith(a.view.Ya)}return i}}function Fb(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_L.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gL.bind(null,e),e.au.j_=rL.bind(null,e.eventManager),e.au.Vu=iL.bind(null,e.eventManager),e}function TL(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vL.bind(null,e),e}class hu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ju(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return k6(this.persistence,new w6,e.initialUser,this.serializer)}yu(e){return new _b(pg.fi,this.serializer)}pu(e){return new P6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hu.provider={build:()=>new hu};class kL extends hu{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){ce(this.persistence.referenceDelegate instanceof uu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new s6(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Tt.withCacheSize(this.cacheSizeBytes):Tt.DEFAULT;return new _b(r=>uu.fi(r,n),this.serializer)}}class yp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Cw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wL.bind(null,this.syncEngine),await J6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eL}()}createDatastore(e){const n=Ju(e.databaseInfo.databaseId),r=function(s){return new V6(s)}(e.databaseInfo);return function(s,o,a,c){return new F6(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new B6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Cw(this.syncEngine,n,0),function(){return kw.C()?new kw:new N6}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,h){const p=new cL(i,s,o,a,c,u);return h&&(p.Au=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Z(i);$(Ci,"RemoteStore shutting down."),s.Ta.add(5),await Ya(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Qn("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class bL{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=at.UNAUTHENTICATED,this.clientId=RE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{$($r,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>($($r,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Tg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ph(t,e){t.asyncQueue.verifyOperationInProgress(),$($r,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Tb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Nw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SL(t);$($r,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>bw(e.remoteStore,i)),t._onlineComponents=e}async function SL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$($r,"Using user provided OfflineComponentProvider");try{await Ph(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ds("Error using user provided cache. Falling back to memory cache: "+n),await Ph(t,new hu)}}else $($r,"Using default OfflineComponentProvider"),await Ph(t,new kL(void 0));return t._offlineComponents}async function Ub(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($($r,"Using user provided OnlineComponentProvider"),await Nw(t,t._uninitializedComponentsProvider._online)):($($r,"Using default OnlineComponentProvider"),await Nw(t,new yp))),t._onlineComponents}function IL(t){return Ub(t).then(e=>e.syncEngine)}async function AL(t){const e=await Ub(t),n=e.eventManager;return n.onListen=uL.bind(null,e.syncEngine),n.onUnlisten=fL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pL.bind(null,e.syncEngine),n}function CL(t,e,n={}){const r=new Rr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const h=new EL({next:m=>{h.Cu(),o.enqueueAndForget(()=>nL(s,p)),m.fromCache&&c.source==="server"?u.reject(new H(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new sL(a,h,{includeMetadataChanges:!0,La:!0});return tL(s,p)}(await AL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t,e,n){if(!n)throw new H(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PL(t,e,n,r){if(e===!0&&r===!0)throw new H(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Dw(t){if(!q.isDocumentKey(t))throw new H(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jw(t){if(q.isDocumentKey(t))throw new H(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function td(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function Da(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=td(t);throw new H(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="firestore.googleapis.com",Vw=!0;class Mw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$b,this.ssl=Vw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Vw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r6)throw new H(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jV;switch(r.type){case"firstParty":return new OV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Rw.get(n);r&&($("ComponentProvider","Removing Datastore"),Rw.delete(n),r.terminate())}(this),Promise.resolve()}}function NL(t,e,n,r={}){var i;t=Da(t,nd);const s=Wa(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;s&&(mE(`https://${c}`),gE("Firestore",!0)),o.host!==$b&&o.host!==c&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:s,emulatorOptions:r});if(!Si(u,a)&&(t._setSettings(u),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=at.MOCK_USER;else{h=a4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new H(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new at(m)}t._authCredentials=new VV(new PE(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Li(this.firestore,e,this._query)}}class Kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}}class Dr extends Li{constructor(e,n,r){super(e,n,YE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new q(e))}withConverter(e){return new Dr(this.firestore,e,this._path)}}function ko(t,e,...n){if(t=ft(t),zb("collection","path",e),t instanceof nd){const r=ve.fromString(e,...n);return jw(r),new Dr(t,null,r)}{if(!(t instanceof Kt||t instanceof Dr))throw new H(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return jw(r),new Dr(t.firestore,null,r)}}function RL(t,e,...n){if(t=ft(t),arguments.length===1&&(e=RE.newId()),zb("doc","path",e),t instanceof nd){const r=ve.fromString(e,...n);return Dw(r),new Kt(t,null,new q(r))}{if(!(t instanceof Kt||t instanceof Dr))throw new H(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return Dw(r),new Kt(t.firestore,t instanceof Dr?t.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="AsyncQueue";class Ow{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Eb(this,"async_queue_retry"),this.ec=()=>{const r=Ch();r&&$(Lw,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=Ch();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Ch();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Rr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ys(e))throw e;$(Lw,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Qn("INTERNAL UNHANDLED ERROR: ",Fw(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const i=_g.createAndSchedule(this,e,n,r,s=>this.oc(s));return this.Hu.push(i),i}nc(){this.Ju&&Q(47125,{_c:Fw(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function Fw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class rd extends nd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ow,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ow(e),this._firestoreClient=void 0,await e}}}function DL(t,e){const n=typeof t=="object"?t:wE(),r=typeof t=="string"?t:su,i=tg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=s4("firestore");s&&NL(i,...s)}return i}function Sg(t){if(t._terminated)throw new H(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jL(t),t._firestoreClient}function jL(t){var e,n,r;const i=t._freezeSettings(),s=function(a,c,u,h){return new ZV(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Bb(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new bL(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fs(Ze.fromBase64String(e))}catch(n){throw new H(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fs(Ze.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=/^__.*__$/;class ML{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ka(e,this.data,n,this.fieldTransforms)}}class Hb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Wb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{hc:t})}}class Cg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Cg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return fu(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(Wb(this.hc)&&VL.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class LL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ju(e)}gc(e,n,r,i=!1){return new Cg({hc:e,methodName:n,fc:r,path:Ye.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pg(t){const e=t._freezeSettings(),n=Ju(t._databaseId);return new LL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qb(t,e,n,r,i,s={}){const o=t.gc(s.merge||s.mergeFields?2:0,e,n,i);Rg("Data must be an object, but it was:",o,r);const a=Gb(r,o);let c,u;if(s.merge)c=new jt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const p of s.mergeFields){const m=vp(e,p,n);if(!o.contains(m))throw new H(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Qb(h,m)||h.push(m)}c=new jt(h),u=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=o.fieldTransforms;return new ML(new bt(a),c,u)}class od extends sd{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof od}}class Ng extends sd{_toFieldTransform(e){return new EM(e.path,new Pa)}isEqual(e){return e instanceof Ng}}function OL(t,e,n,r){const i=t.gc(1,e,n);Rg("Data must be an object, but it was:",i,r);const s=[],o=bt.empty();Yr(r,(c,u)=>{const h=Dg(e,c,n);u=ft(u);const p=i.Ac(h);if(u instanceof od)s.push(h);else{const m=Ja(u,p);m!=null&&(s.push(h),o.set(h,m))}});const a=new jt(s);return new Hb(o,a,i.fieldTransforms)}function FL(t,e,n,r,i,s){const o=t.gc(1,e,n),a=[vp(e,r,n)],c=[i];if(s.length%2!=0)throw new H(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(vp(e,s[m])),c.push(s[m+1]);const u=[],h=bt.empty();for(let m=a.length-1;m>=0;--m)if(!Qb(u,a[m])){const y=a[m];let x=c[m];x=ft(x);const E=o.Ac(y);if(x instanceof od)u.push(y);else{const S=Ja(x,E);S!=null&&(u.push(y),h.set(y,S))}}const p=new jt(u);return new Hb(h,p,o.fieldTransforms)}function UL(t,e,n,r=!1){return Ja(n,t.gc(r?4:3,e))}function Ja(t,e){if(Kb(t=ft(t)))return Rg("Unsupported field value:",e,t),Gb(t,e);if(t instanceof sd)return function(r,i){if(!Wb(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=Ja(a,i.Rc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _M(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Be.fromDate(r);return{timestampValue:cu(i.serializer,s)}}if(r instanceof Be){const s=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cu(i.serializer,s)}}if(r instanceof Ig)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fs)return{bytesValue:fb(i.serializer,r._byteString)};if(r instanceof Kt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ag)return function(o,a){return{mapValue:{fields:{[UE]:{stringValue:zE},[ou]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return lg(a.serializer,u)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${td(r)}`)}(t,e)}function Gb(t,e){const n={};return jE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yr(t,(r,i)=>{const s=Ja(i,e.Ic(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Kb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof Ig||t instanceof Fs||t instanceof Kt||t instanceof sd||t instanceof Ag)}function Rg(t,e,n){if(!Kb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=td(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function vp(t,e,n){if((e=ft(e))instanceof id)return e._internalPath;if(typeof e=="string")return Dg(t,e);throw fu("Field path arguments must be of type string or ",t,!1,void 0,n)}const BL=new RegExp("[~\\*/\\[\\]]");function Dg(t,e,n){if(e.search(BL)>=0)throw fu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new id(...e.split("."))._internalPath}catch{throw fu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new H(L.INVALID_ARGUMENT,a+t+c)}function Qb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ad("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zL extends Yb{data(){return super.data()}}function ad(t,e){return typeof e=="string"?Dg(t,e):e instanceof id?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jg{}class Xb extends jg{}function dn(t,e,...n){let r=[];e instanceof jg&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Vg).length,a=s.filter(c=>c instanceof ld).length;if(o>1||o>0&&a>0)throw new H(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ld extends Xb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ld(e,n,r)}_apply(e){const n=this._parse(e);return Jb(e._query,n),new Li(e.firestore,e.converter,ap(e._query,n))}_parse(e){const n=Pg(e.firestore);return function(s,o,a,c,u,h,p){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new H(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Bw(p,h);const x=[];for(const E of p)x.push(Uw(c,s,E));m={arrayValue:{values:x}}}else m=Uw(c,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Bw(p,h),m=UL(a,o,p,h==="in"||h==="not-in");return Le.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rn(t,e,n){const r=e,i=ad("where",t);return ld._create(i,r,n)}class Vg extends jg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:cn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)Jb(o,c),o=ap(o,c)}(e._query,n),new Li(e.firestore,e.converter,ap(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mg extends Xb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Mg(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new H(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ca(s,o)}(e._query,this._field,this._direction);return new Li(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Xs(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function hn(t,e="asc"){const n=e,r=ad("orderBy",t);return Mg._create(r,n)}function Uw(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new H(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XE(e)&&n.indexOf("/")!==-1)throw new H(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ve.fromString(n));if(!q.isDocumentKey(r))throw new H(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tw(t,new q(r))}if(n instanceof Kt)return tw(t,n._key);throw new H(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${td(n)}.`)}function Bw(t,e){if(!Array.isArray(t)||t.length===0)throw new H(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jb(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class HL{convertValue(e,n="none"){switch(Br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ou].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>De(o.doubleValue));return new Ag(s)}convertGeoPoint(e){return new Ig(De(e.latitude),De(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sa(e));default:return null}}convertTimestamp(e){const n=Fr(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ve.fromString(e);ce(xb(r),9688,{name:e});const i=new Ia(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||Qn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class WL extends Yb{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ad("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yc extends WL{data(e={}){return super.data(e)}}class qL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yc(this._firestore,this._userDataWriter,r.key,r,new Gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new yc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new yc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:GL(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function GL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}class KL extends HL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function Kl(t){t=Da(t,Li);const e=Da(t.firestore,rd),n=Sg(e),r=new KL(e);return $L(t._query),CL(n,t._query).then(i=>new qL(e,r,t,i))}function QL(t,e){const n=Da(t.firestore,rd),r=RL(t),i=Zb(t.converter,e);return eS(n,[qb(Pg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Gt.exists(!1))]).then(()=>r)}function eS(t,e){return function(r,i){const s=new Rr;return r.asyncQueue.enqueueAndForget(async()=>mL(await IL(r),i,s)),s.promise}(Sg(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Pg(e)}set(e,n,r){this._verifyNotCommitted();const i=Nh(e,this._firestore),s=Zb(i.converter,n,r),o=qb(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Gt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Nh(e,this._firestore);let o;return o=typeof(n=ft(n))=="string"||n instanceof id?FL(this._dataReader,"WriteBatch.update",s._key,n,r,i):OL(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Gt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Nh(e,this._firestore);return this._mutations=this._mutations.concat(new cg(n._key,Gt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new H(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nh(t,e){if((t=ft(t)).firestore!==e)throw new H(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function XL(){return new Ng("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){return Sg(t=Da(t,rd)),new YL(t,e=>eS(t,e))}(function(e,n=!0){(function(i){Ks=i})(Gs),Rs(new Ii("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new rd(new MV(r.getProvider("auth-internal")),new FV(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Pr($x,Hx,e),Pr($x,Hx,"esm2017")})();var ZL="firebase",e3="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(ZL,e3,"app");function Lg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t3=tS,nS=new qa("auth","Firebase",tS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new Zm("@firebase/auth");function n3(t,...e){pu.logLevel<=ie.WARN&&pu.warn(`Auth (${Gs}): ${t}`,...e)}function vc(t,...e){pu.logLevel<=ie.ERROR&&pu.error(`Auth (${Gs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,...e){throw Og(t,...e)}function kn(t,...e){return Og(t,...e)}function rS(t,e,n){const r=Object.assign(Object.assign({},t3()),{[e]:n});return new qa("auth","Firebase",r).create(e,{appName:t.name})}function xi(t){return rS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Og(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nS.create(t,...e)}function Y(t,e,...n){if(!t)throw Og(e,...n)}function On(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vc(e),new Error(e)}function Jn(t,e){t||On(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function r3(){return zw()==="http:"||zw()==="https:"}function zw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r3()||f4()||"connection"in navigator)?navigator.onLine:!0}function s3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jn(n>e,"Short delay should be less than long delay!"),this.isMobile=u4()||p4()}get(){return i3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e){Jn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;On("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;On("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;On("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],l3=new Za(3e4,6e4);function Ug(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zs(t,e,n,r,i={}){return sS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ga(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return h4()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Wa(t.emulatorConfig.host)&&(u.credentials="include"),iS.fetch()(await oS(t,t.config.apiHost,n,a),u)})}async function sS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},o3),e);try{const i=new u3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ql(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ql(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ql(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ql(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw rS(t,h,u);Xn(t,h)}}catch(i){if(i instanceof er)throw i;Xn(t,"network-request-failed",{message:String(i)})}}async function c3(t,e,n,r,i={}){const s=await Zs(t,e,n,r,i);return"mfaPendingCredential"in s&&Xn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function oS(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Fg(t.config,i):`${t.config.apiScheme}://${i}`;return a3.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class u3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kn(this.auth,"network-request-failed")),l3.get())})}}function Ql(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(t,e){return Zs(t,"POST","/v1/accounts:delete",e)}async function mu(t,e){return Zs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h3(t,e=!1){const n=ft(t),r=await n.getIdToken(e),i=Bg(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Jo(Rh(i.auth_time)),issuedAtTime:Jo(Rh(i.iat)),expirationTime:Jo(Rh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Rh(t){return Number(t)*1e3}function Bg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vc("JWT malformed, contained fewer than 3 sections"),null;try{const i=dE(n);return i?JSON.parse(i):(vc("Failed to decode base64 JWT payload"),null)}catch(i){return vc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $w(t){const e=Bg(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof er&&f3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function f3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jo(this.lastLoginAt),this.creationTime=Jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ja(t,mu(n,{idToken:r}));Y(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?aS(s.providerUserInfo):[],a=g3(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=c?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new wp(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function m3(t){const e=ft(t);await gu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function g3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aS(t){return t.map(e=>{var{providerId:n}=e,r=Lg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(t,e){const n=await sS(t,{},async()=>{const r=Ga({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await oS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function v3(t,e){return Zs(t,"POST","/v2/accounts:revokeToken",Ug(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$w(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=$w(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await y3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new xs;return r&&(Y(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Y(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xs,this.toJSON())}_performRefresh(){return On("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Lg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ja(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return h3(this,e)}reload(){return m3(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await ja(this,d3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:j,isAnonymous:M,providerData:F,stsTokenManager:b}=n;Y(w&&b,e,"internal-error");const _=xs.fromJSON(this.name,b);Y(typeof w=="string",e,"internal-error"),sr(p,e.name),sr(m,e.name),Y(typeof j=="boolean",e,"internal-error"),Y(typeof M=="boolean",e,"internal-error"),sr(y,e.name),sr(x,e.name),sr(E,e.name),sr(S,e.name),sr(T,e.name),sr(v,e.name);const I=new sn({uid:w,auth:e,email:m,emailVerified:j,displayName:p,isAnonymous:M,photoURL:x,phoneNumber:y,tenantId:E,stsTokenManager:_,createdAt:T,lastLoginAt:v});return F&&Array.isArray(F)&&(I.providerData=F.map(A=>Object.assign({},A))),S&&(I._redirectEventId=S),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new xs;i.updateFromServerResponse(n);const s=new sn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await gu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Y(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?aS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new xs;a.updateFromIdToken(r);const c=new sn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new wp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Map;function Fn(t){Jn(t instanceof Function,"Expected a class definition");let e=Hw.get(t);return e?(Jn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Hw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lS.type="NONE";const Ww=lS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t,e,n){return`firebase:${t}:${e}:${n}`}class ws{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xc(this.userKey,i.apiKey,s),this.fullPersistenceKey=xc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mu(this.auth,{idToken:e}).catch(()=>{});return n?sn._fromGetAccountInfoResponse(this.auth,n,e):null}return sn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ws(Fn(Ww),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Fn(Ww);const o=xc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let p;if(typeof h=="string"){const m=await mu(e,{idToken:h}).catch(()=>{});if(!m)break;p=await sn._fromGetAccountInfoResponse(e,m,h)}else p=sn._fromJSON(e,h);u!==s&&(a=p),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new ws(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ws(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pS(e))return"Blackberry";if(mS(e))return"Webos";if(uS(e))return"Safari";if((e.includes("chrome/")||dS(e))&&!e.includes("edge/"))return"Chrome";if(fS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cS(t=ht()){return/firefox\//i.test(t)}function uS(t=ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dS(t=ht()){return/crios\//i.test(t)}function hS(t=ht()){return/iemobile/i.test(t)}function fS(t=ht()){return/android/i.test(t)}function pS(t=ht()){return/blackberry/i.test(t)}function mS(t=ht()){return/webos/i.test(t)}function zg(t=ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function x3(t=ht()){var e;return zg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function w3(){return m4()&&document.documentMode===10}function gS(t=ht()){return zg(t)||fS(t)||mS(t)||pS(t)||/windows phone/i.test(t)||hS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t,e=[]){let n;switch(t){case"Browser":n=qw(ht());break;case"Worker":n=`${qw(ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3(t,e={}){return Zs(t,"GET","/v2/passwordPolicy",Ug(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=6;class E3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:k3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gw(this),this.idTokenSubscription=new Gw(this),this.beforeStateQueue=new _3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ws.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mu(this,{idToken:e}),r=await sn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=s3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gn(this.app))return Promise.reject(xi(this));const n=e?ft(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gn(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T3(this),n=new E3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await v3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fn(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await ws.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&n3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $g(t){return ft(t)}class Gw{constructor(e){this.auth=e,this.observer=null,this.addObserver=k4(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S3(t){Hg=t}function I3(t){return Hg.loadJS(t)}function A3(){return Hg.gapiScript}function C3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t,e){const n=tg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Si(s,e??{}))return i;Xn(i,"already-initialized")}return n.initialize({options:e})}function N3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function R3(t,e,n){const r=$g(t);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=vS(e),{host:o,port:a}=D3(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(Si(u,r.config.emulator)&&Si(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Wa(o)?(mE(`${s}//${o}${c}`),gE("Auth",!0)):j3()}function vS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function D3(t){const e=vS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Kw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Kw(o)}}}function Kw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return On("not implemented")}_getIdTokenResponse(e){return On("not implemented")}_linkToIdToken(e,n){return On("not implemented")}_getReauthenticationResolver(e){return On("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(t,e){return c3(t,"POST","/v1/accounts:signInWithIdp",Ug(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="http://localhost";class Pi extends xS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Lg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Pi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return _s(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_s(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_s(e,n)}buildRequest(){const e={requestUri:V3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ga(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends wS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends el{constructor(){super("facebook.com")}static credential(e){return Pi._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends el{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pi._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hr.credential(n,r)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends el{constructor(){super("github.com")}static credential(e){return Pi._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends el{constructor(){super("twitter.com")}static credential(e,n){return Pi._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pr.credential(n,r)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await sn._fromIdTokenResponse(e,r,i),o=Qw(r);return new Us({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Qw(r);return new Us({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Qw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends er{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new yu(e,n,r,i)}}function _S(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?yu._fromErrorAndOperation(t,s,e,r):s})}async function M3(t,e,n=!1){const r=await ja(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Us._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(t,e,n=!1){const{auth:r}=t;if(gn(r.app))return Promise.reject(xi(r));const i="reauthenticate";try{const s=await ja(t,_S(r,i,e,t),n);Y(s.idToken,r,"internal-error");const o=Bg(s.idToken);Y(o,r,"internal-error");const{sub:a}=o;return Y(t.uid===a,r,"user-mismatch"),Us._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Xn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(t,e,n=!1){if(gn(t.app))return Promise.reject(xi(t));const r="signIn",i=await _S(t,r,e),s=await Us._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function F3(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function U3(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}const vu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vu,"1"),this.storage.removeItem(vu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=1e3,z3=10;class kS extends TS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);w3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,z3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},B3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kS.type="LOCAL";const $3=kS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends TS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ES.type="SESSION";const bS=ES;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await H3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=Wg("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return window}function q3(t){En().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(){return typeof En().WorkerGlobalScope<"u"&&typeof En().importScripts=="function"}async function G3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function K3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Q3(){return SS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="firebaseLocalStorageDb",Y3=1,xu="firebaseLocalStorage",AS="fbase_key";class tl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ud(t,e){return t.transaction([xu],e?"readwrite":"readonly").objectStore(xu)}function X3(){const t=indexedDB.deleteDatabase(IS);return new tl(t).toPromise()}function _p(){const t=indexedDB.open(IS,Y3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xu,{keyPath:AS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xu)?e(r):(r.close(),await X3(),e(await _p()))})})}async function Yw(t,e,n){const r=ud(t,!0).put({[AS]:e,value:n});return new tl(r).toPromise()}async function J3(t,e){const n=ud(t,!1).get(e),r=await new tl(n).toPromise();return r===void 0?null:r.value}function Xw(t,e){const n=ud(t,!0).delete(e);return new tl(n).toPromise()}const Z3=800,eO=3;class CS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>eO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cd._getInstance(Q3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await G3(),!this.activeServiceWorker)return;this.sender=new W3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||K3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _p();return await Yw(e,vu,"1"),await Xw(e,vu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Yw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>J3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ud(i,!1).getAll();return new tl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CS.type="LOCAL";const tO=CS;new Za(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t,e){return e?Fn(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg extends xS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _s(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _s(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _s(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rO(t){return O3(t.auth,new qg(t),t.bypassAuthState)}function iO(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),L3(n,new qg(t),t.bypassAuthState)}async function sO(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),M3(n,new qg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rO;case"linkViaPopup":case"linkViaRedirect":return sO;case"reauthViaPopup":case"reauthViaRedirect":return iO;default:Xn(this.auth,"internal-error")}}resolve(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new Za(2e3,1e4);class ds extends PS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ds.currentPopupAction&&ds.currentPopupAction.cancel(),ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){Jn(this.filter.length===1,"Popup operations only handle one event");const e=Wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oO.get())};e()}}ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="pendingRedirect",wc=new Map;class lO extends PS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wc.get(this.auth._key());if(!e){try{const r=await cO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wc.set(this.auth._key(),e)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cO(t,e){const n=hO(e),r=dO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function uO(t,e){wc.set(t._key(),e)}function dO(t){return Fn(t._redirectPersistence)}function hO(t){return xc(aO,t.config.apiKey,t.name)}async function fO(t,e,n=!1){if(gn(t.app))return Promise.reject(xi(t));const r=$g(t),i=nO(r,e),o=await new lO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=10*60*1e3;class mO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!NS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jw(e))}saveEventToCache(e){this.cachedEventUids.add(Jw(e)),this.lastProcessedEventTime=Date.now()}}function Jw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(t,e={}){return Zs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xO=/^https?/;async function wO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yO(t);for(const n of e)try{if(_O(n))return}catch{}Xn(t,"unauthorized-domain")}function _O(t){const e=xp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!xO.test(n))return!1;if(vO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new Za(3e4,6e4);function Zw(){const t=En().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kO(t){return new Promise((e,n)=>{var r,i,s;function o(){Zw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zw(),n(kn(t,"network-request-failed"))},timeout:TO.get()})}if(!((i=(r=En().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=En().gapi)===null||s===void 0)&&s.load)o();else{const a=C3("iframefcb");return En()[a]=()=>{gapi.load?o():n(kn(t,"network-request-failed"))},I3(`${A3()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw _c=null,e})}let _c=null;function EO(t){return _c=_c||kO(t),_c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new Za(5e3,15e3),SO="__/auth/iframe",IO="emulator/auth/iframe",AO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PO(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fg(e,IO):`https://${t.config.authDomain}/${SO}`,r={apiKey:e.apiKey,appName:t.name,v:Gs},i=CO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ga(r).slice(1)}`}async function NO(t){const e=await EO(t),n=En().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:PO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=kn(t,"network-request-failed"),a=En().setTimeout(()=>{s(o)},bO.get());function c(){En().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DO=500,jO=600,VO="_blank",MO="http://localhost";class e_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LO(t,e,n,r=DO,i=jO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},RO),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ht().toLowerCase();n&&(a=dS(u)?VO:n),cS(u)&&(e=e||MO,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[y,x])=>`${m}${y}=${x},`,"");if(x3(u)&&a!=="_self")return OO(e||"",a),new e_(null);const p=window.open(e||"",a,h);Y(p,t,"popup-blocked");try{p.focus()}catch{}return new e_(p)}function OO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="__/auth/handler",UO="emulator/auth/handler",BO=encodeURIComponent("fac");async function t_(t,e,n,r,i,s){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gs,eventId:i};if(e instanceof wS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",T4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof el){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${BO}=${encodeURIComponent(c)}`:"";return`${zO(t)}?${Ga(a).slice(1)}${u}`}function zO({config:t}){return t.emulator?Fg(t,UO):`https://${t.authDomain}/${FO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="webStorageSupport";class $O{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bS,this._completeRedirectFn=fO,this._overrideRedirectResult=uO}async _openPopup(e,n,r,i){var s;Jn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await t_(e,n,r,xp(),i);return LO(e,o,Wg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await t_(e,n,r,xp(),i);return q3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Jn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await NO(e),r=new mO(e);return n.register("authEvent",i=>(Y(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dh,{type:Dh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Dh];o!==void 0&&n(!!o),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gS()||uS()||zg()}}const HO=$O;var n_="@firebase/auth",r_="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GO(t){Rs(new Ii("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Y(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yS(t)},u=new b3(r,i,s,c);return N3(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rs(new Ii("auth-internal",e=>{const n=$g(e.getProvider("auth").getImmediate());return(r=>new WO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(n_,r_,qO(t)),Pr(n_,r_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=5*60,QO=pE("authIdTokenMaxAge")||KO;let i_=null;const YO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QO)return;const i=n==null?void 0:n.token;i_!==i&&(i_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XO(t=wE()){const e=tg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=P3(t,{popupRedirectResolver:HO,persistence:[tO,$3,bS]}),r=pE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=YO(s.toString());U3(n,o,()=>o(n.currentUser)),F3(n,a=>o(a))}}const i=hE("auth");return i&&R3(n,`http://${i}`),n}function JO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}S3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=kn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",JO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GO("Browser");const ZO={apiKey:"AIzaSyA0o97NGkXswbbLNvZuP5Oq03faKh8b0fw",authDomain:"personal-website-d0d32.firebaseapp.com",projectId:"personal-website-d0d32",storageBucket:"personal-website-d0d32.firebasestorage.app",messagingSenderId:"6108328899",appId:"1:6108328899:web:dd1fffb8d32bdc65458376",measurementId:"G-792MTDZE0L"},RS=xE(ZO),$i=DL(RS);XO(RS);class e5{constructor(){this.isNewSession=!0,this.sessionId=this.getOrCreateSessionId()}getOrCreateSessionId(){const e=sessionStorage.getItem("analytics_session_id"),n=sessionStorage.getItem("analytics_session_timestamp"),r=Date.now();if(e&&n&&r-parseInt(n)<30*60*1e3)return this.isNewSession=!1,sessionStorage.setItem("analytics_session_timestamp",r.toString()),e;const i=`session_${r}_${Math.random().toString(36).substr(2,9)}`;return sessionStorage.setItem("analytics_session_id",i),sessionStorage.setItem("analytics_session_timestamp",r.toString()),this.isNewSession=!0,i}getDeviceType(){const e=navigator.userAgent;return/tablet|ipad|playbook|silk/i.test(e)?"tablet":/mobile|iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(e)?"mobile":"desktop"}getBrowser(){const e=navigator.userAgent;return e.includes("Chrome")?"Chrome":e.includes("Firefox")?"Firefox":e.includes("Safari")?"Safari":e.includes("Edge")?"Edge":e.includes("Opera")?"Opera":"Other"}getOS(){const e=navigator.userAgent;return e.includes("Windows")?"Windows":e.includes("Mac")?"macOS":e.includes("Linux")?"Linux":e.includes("Android")?"Android":e.includes("iOS")?"iOS":"Other"}async getLocationData(){try{const e=await fetch("https://ipapi.co/json/");if(e.ok){const n=await e.json();return{country:n.country_name,city:n.city,ip:n.ip}}}catch(e){console.warn("Failed to get location data:",e)}return{}}async trackPageView(e){try{const n=await this.getLocationData(),r={timestamp:XL(),page:e,userAgent:navigator.userAgent,referrer:document.referrer,language:navigator.language,screenResolution:`${screen.width}x${screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,sessionId:this.sessionId,isNewSession:this.isNewSession,deviceType:this.getDeviceType(),browser:this.getBrowser(),os:this.getOS(),...n};await QL(ko($i,"analytics"),r),this.isNewSession=!1}catch(n){console.error("Failed to track page view:",n)}}async getAnalyticsStats(e=30){try{const n=new Date;n.setDate(n.getDate()-e);const r=ko($i,"analytics"),i=dn(r,Rn("timestamp",">=",n),hn("timestamp","desc")),s=await Kl(i),o=[];s.forEach(v=>{o.push({id:v.id,...v.data()})});const a=new Set(o.map(v=>v.sessionId)),c=o.length,u=a.size,h=o.reduce((v,w)=>(v[w.page]=(v[w.page]||0)+1,v),{}),p=Object.entries(h).map(([v,w])=>({page:v,count:w})).sort((v,w)=>w.count-v.count).slice(0,10),m=o.reduce((v,w)=>(w.country&&(v[w.country]=(v[w.country]||0)+1),v),{}),y=Object.entries(m).map(([v,w])=>({country:v,count:w})).sort((v,w)=>w.count-v.count).slice(0,10),x=o.reduce((v,w)=>(v[w.deviceType]=(v[w.deviceType]||0)+1,v),{}),E=Object.entries(x).map(([v,w])=>({type:v,count:w})).sort((v,w)=>w.count-v.count),S=o.reduce((v,w)=>(v[w.browser]=(v[w.browser]||0)+1,v),{}),T=Object.entries(S).map(([v,w])=>({browser:v,count:w})).sort((v,w)=>w.count-v.count);return{totalVisitors:c,uniqueVisitors:u,pageViews:c,topPages:p,topCountries:y,deviceTypes:E,browsers:T,recentVisitors:o.slice(0,50)}}catch(n){return console.error("Failed to get analytics stats:",n),{totalVisitors:0,uniqueVisitors:0,pageViews:0,topPages:[],topCountries:[],deviceTypes:[],browsers:[],recentVisitors:[]}}}async deleteAnalyticsData(e){try{const n=ko($i,"analytics");let r=dn(n,hn("timestamp","desc"));e.startDate&&!e.city&&!e.country&&!e.deviceType&&!e.browser&&!e.page&&(r=dn(n,Rn("timestamp",">=",e.startDate),hn("timestamp","desc"))),e.endDate&&!e.city&&!e.country&&!e.deviceType&&!e.browser&&!e.page&&!e.startDate&&(r=dn(n,Rn("timestamp","<=",e.endDate),hn("timestamp","desc"))),e.startDate&&e.endDate&&!e.city&&!e.country&&!e.deviceType&&!e.browser&&!e.page&&(r=dn(n,Rn("timestamp",">=",e.startDate),Rn("timestamp","<=",e.endDate),hn("timestamp","desc")));const i=await Kl(r);if(i.empty)return{deletedCount:0};const s=i.docs.filter(u=>{const h=u.data();return!(e.city&&h.city!==e.city||e.country&&h.country!==e.country||e.deviceType&&h.deviceType!==e.deviceType||e.browser&&h.browser!==e.browser||e.page&&h.page!==e.page||e.startDate&&(h.timestamp instanceof Date?h.timestamp:h.timestamp.toDate())<e.startDate||e.endDate&&(h.timestamp instanceof Date?h.timestamp:h.timestamp.toDate())>e.endDate)});if(s.length===0)return{deletedCount:0};const o=JL($i);let a=0,c=0;for(const u of s)o.delete(u.ref),a++,c++,a===500&&(await o.commit(),a=0);return a>0&&await o.commit(),{deletedCount:c}}catch(n){return console.error("Failed to delete analytics data:",n),{deletedCount:0,error:n instanceof Error?n.message:"Unknown error occurred"}}}async getDataPreview(e){try{const n=ko($i,"analytics");let r=dn(n,hn("timestamp","desc"));e.startDate&&!e.city&&!e.country&&!e.deviceType&&!e.browser&&!e.page&&(r=dn(n,Rn("timestamp",">=",e.startDate),hn("timestamp","desc"))),e.endDate&&!e.city&&!e.country&&!e.deviceType&&!e.browser&&!e.page&&!e.startDate&&(r=dn(n,Rn("timestamp","<=",e.endDate),hn("timestamp","desc"))),e.startDate&&e.endDate&&!e.city&&!e.country&&!e.deviceType&&!e.browser&&!e.page&&(r=dn(n,Rn("timestamp",">=",e.startDate),Rn("timestamp","<=",e.endDate),hn("timestamp","desc")));const s=(await Kl(r)).docs.filter(a=>{const c=a.data();return!(e.city&&c.city!==e.city||e.country&&c.country!==e.country||e.deviceType&&c.deviceType!==e.deviceType||e.browser&&c.browser!==e.browser||e.page&&c.page!==e.page||e.startDate&&(c.timestamp instanceof Date?c.timestamp:c.timestamp.toDate())<e.startDate||e.endDate&&(c.timestamp instanceof Date?c.timestamp:c.timestamp.toDate())>e.endDate)}),o=s.slice(0,10).map(a=>({id:a.id,...a.data()}));return{count:s.length,sampleData:o}}catch(n){return console.error("Failed to get data preview:",n),{count:0,sampleData:[]}}}async getFilterOptions(){try{const e=ko($i,"analytics"),n=dn(e,hn("timestamp","desc")),r=await Kl(n),i=new Set,s=new Set,o=new Set,a=new Set;return r.forEach(c=>{const u=c.data();u.city&&i.add(u.city),u.country&&s.add(u.country),u.browser&&o.add(u.browser),u.page&&a.add(u.page)}),{cities:Array.from(i).sort(),countries:Array.from(s).sort(),browsers:Array.from(o).sort(),pages:Array.from(a).sort()}}catch(e){return console.error("Failed to get filter options:",e),{cities:[],countries:[],browsers:[],pages:[]}}}}const Vn=new e5,t5=({children:t})=>{const[e,n]=R.useState(!1),[r,i]=R.useState(""),[s,o]=R.useState(""),a="root";R.useEffect(()=>{sessionStorage.getItem("admin_authenticated")==="true"&&n(!0)},[]);const c=h=>{h.preventDefault(),r===a?(n(!0),sessionStorage.setItem("admin_authenticated","true"),o("")):o("Invalid password")},u=()=>{n(!1),sessionStorage.removeItem("admin_authenticated"),i("")};return e?d.jsxs("div",{children:[d.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center py-3",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(hv,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),d.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Admin Access"})]}),d.jsx("button",{onClick:u,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 transition-colors",children:"Logout"})]})})}),t]}):d.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:d.jsxs("div",{className:"max-w-md w-full space-y-8",children:[d.jsxs("div",{children:[d.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900/20",children:d.jsx(hv,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),d.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Admin Access Required"}),d.jsx("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Please enter the admin password to view analytics"})]}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),d.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-800 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Admin password",value:r,onChange:h=>i(h.target.value)})]}),s&&d.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:s}),d.jsx("div",{children:d.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors",children:"Access Analytics"})})]})]})})},n5=({onDataDeleted:t})=>{const[e,n]=R.useState({}),[r,i]=R.useState({count:0,sampleData:[]}),[s,o]=R.useState(!1),[a,c]=R.useState(!1),[u,h]=R.useState(!1),[p,m]=R.useState(!1),[y,x]=R.useState(null),[E,S]=R.useState({cities:[],countries:[],browsers:[],pages:[]}),[T,v]=R.useState(!0);R.useEffect(()=>{w()},[]);const w=async()=>{try{v(!0);const P=await Vn.getFilterOptions();S(P)}catch(P){console.error("Failed to load filter options:",P)}finally{v(!1)}},j=P=>{if(!P)return"Unknown";let C;return P.toDate?C=P.toDate():P instanceof Date?C=P:C=new Date(P),C.toLocaleString()},M=async()=>{if(Object.keys(e).length===0){alert("Please select at least one filter to preview data.");return}o(!0);try{const P=await Vn.getDataPreview(e);i(P),h(!0)}catch(P){console.error("Failed to preview data:",P),alert("Failed to preview data. Please try again.")}finally{o(!1)}},F=async()=>{if(Object.keys(e).length===0){alert("Please select at least one filter to delete data.");return}c(!0);try{const P=await Vn.deleteAnalyticsData(e);x(P),m(!1),h(!1),n({}),t()}catch(P){console.error("Failed to delete data:",P),x({deletedCount:0,error:"Failed to delete data. Please try again."})}finally{c(!1)}},b=(P,C)=>{n(fe=>({...fe,[P]:C||void 0})),h(!1),x(null)},_=(P,C)=>{const fe=C?new Date(C):void 0;P==="endDate"&&fe&&fe.setHours(23,59,59,999),P==="startDate"&&fe&&fe.setHours(0,0,0,0),n(pt=>({...pt,[P]:fe})),h(!1),x(null)},I=()=>{n({}),h(!1),x(null)},A=P=>{switch(x(null),h(!1),P){case"ankara":n({city:"Ankara"});break;case"today":const C=new Date;C.setHours(0,0,0,0);const fe=new Date;fe.setHours(23,59,59,999),n({startDate:C,endDate:fe});break;case"last7days":const pt=new Date;pt.setDate(pt.getDate()-7),pt.setHours(0,0,0,0),n({startDate:pt,endDate:new Date});break;case"desktop":n({deviceType:"desktop"});break;case"mobile":n({deviceType:"mobile"});break}},N=P=>P?P.toISOString().split("T")[0]:"";return d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center space-x-2",children:[d.jsx(pv,{className:"w-5 h-5 text-red-500"}),d.jsx("span",{children:"Data Management"})]}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Delete analytics data based on specific criteria"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("button",{onClick:w,disabled:T,className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200 transition-colors flex items-center space-x-1",children:[d.jsx(Rf,{className:"w-4 h-4"}),d.jsx("span",{children:T?"Loading...":"Refresh Options"})]}),d.jsx("button",{onClick:I,className:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:"Clear All Filters"})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Quick Actions"}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("button",{onClick:()=>A("ankara"),className:"px-3 py-1 text-sm bg-red-100 hover:bg-red-200 dark:bg-red-900/20 dark:hover:bg-red-900/40 text-red-700 dark:text-red-400 rounded-md transition-colors",children:"Delete Ankara Data"}),d.jsx("button",{onClick:()=>A("today"),className:"px-3 py-1 text-sm bg-orange-100 hover:bg-orange-200 dark:bg-orange-900/20 dark:hover:bg-orange-900/40 text-orange-700 dark:text-orange-400 rounded-md transition-colors",children:"Delete Today's Data"}),d.jsx("button",{onClick:()=>A("last7days"),className:"px-3 py-1 text-sm bg-yellow-100 hover:bg-yellow-200 dark:bg-yellow-900/20 dark:hover:bg-yellow-900/40 text-yellow-700 dark:text-yellow-400 rounded-md transition-colors",children:"Delete Last 7 Days"}),d.jsx("button",{onClick:()=>A("desktop"),className:"px-3 py-1 text-sm bg-blue-100 hover:bg-blue-200 dark:bg-blue-900/20 dark:hover:bg-blue-900/40 text-blue-700 dark:text-blue-400 rounded-md transition-colors",children:"Delete Desktop Data"}),d.jsx("button",{onClick:()=>A("mobile"),className:"px-3 py-1 text-sm bg-green-100 hover:bg-green-200 dark:bg-green-900/20 dark:hover:bg-green-900/40 text-green-700 dark:text-green-400 rounded-md transition-colors",children:"Delete Mobile Data"})]})]}),Object.keys(e).length>0&&d.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[d.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Active Filters:"}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.city&&d.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 rounded",children:["City: ",e.city]}),e.country&&d.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 rounded",children:["Country: ",e.country]}),e.deviceType&&d.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 rounded",children:["Device: ",e.deviceType]}),e.browser&&d.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 rounded",children:["Browser: ",e.browser]}),e.page&&d.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 rounded",children:["Page: ",e.page]}),e.startDate&&d.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 rounded",children:["From: ",N(e.startDate)]}),e.endDate&&d.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 rounded",children:["To: ",N(e.endDate)]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[d.jsx(jT,{className:"w-4 h-4 inline mr-1"}),"City"]}),d.jsxs("select",{value:e.city||"",onChange:P=>b("city",P.target.value),disabled:T,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 dark:disabled:bg-gray-600",children:[d.jsx("option",{value:"",children:"All Cities"}),E.cities.map(P=>d.jsx("option",{value:P,children:P},P))]}),T&&d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Loading cities..."})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[d.jsx(wm,{className:"w-4 h-4 inline mr-1"}),"Country"]}),d.jsxs("select",{value:e.country||"",onChange:P=>b("country",P.target.value),disabled:T,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 dark:disabled:bg-gray-600",children:[d.jsx("option",{value:"",children:"All Countries"}),E.countries.map(P=>d.jsx("option",{value:P,children:P},P))]}),T&&d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Loading countries..."})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[d.jsx(ui,{className:"w-4 h-4 inline mr-1"}),"Device Type"]}),d.jsxs("select",{value:e.deviceType||"",onChange:P=>b("deviceType",P.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[d.jsx("option",{value:"",children:"All Devices"}),d.jsx("option",{value:"desktop",children:"Desktop"}),d.jsx("option",{value:"mobile",children:"Mobile"}),d.jsx("option",{value:"tablet",children:"Tablet"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Browser"}),d.jsxs("select",{value:e.browser||"",onChange:P=>b("browser",P.target.value),disabled:T,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 dark:disabled:bg-gray-600",children:[d.jsx("option",{value:"",children:"All Browsers"}),E.browsers.map(P=>d.jsx("option",{value:P,children:P},P))]}),T&&d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Loading browsers..."})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[d.jsx(xm,{className:"w-4 h-4 inline mr-1"}),"Page"]}),d.jsxs("select",{value:e.page||"",onChange:P=>b("page",P.target.value),disabled:T,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 dark:disabled:bg-gray-600",children:[d.jsx("option",{value:"",children:"All Pages"}),E.pages.map(P=>d.jsx("option",{value:P,children:P},P))]}),T&&d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Loading pages..."})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[d.jsx(Nf,{className:"w-4 h-4 inline mr-1"}),"Start Date"]}),d.jsx("input",{type:"date",value:N(e.startDate),onChange:P=>_("startDate",P.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[d.jsx(Nf,{className:"w-4 h-4 inline mr-1"}),"End Date"]}),d.jsx("input",{type:"date",value:N(e.endDate),onChange:P=>_("endDate",P.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),d.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[d.jsxs("button",{onClick:M,disabled:s||Object.keys(e).length===0,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-md transition-colors flex items-center space-x-2",children:[d.jsx(PT,{className:"w-4 h-4"}),d.jsx("span",{children:s?"Loading...":"Preview Data"})]}),u&&r.count>0&&d.jsxs("button",{onClick:()=>m(!0),disabled:a,className:"bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-md transition-colors flex items-center space-x-2",children:[d.jsx(pv,{className:"w-4 h-4"}),d.jsx("span",{children:a?"Deleting...":`Delete ${r.count} Records`})]})]}),u&&d.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 mb-6",children:[d.jsxs("h4",{className:"text-md font-semibold text-gray-900 dark:text-white mb-3",children:["Preview: ",r.count," records match your filters"]}),r.count===0?d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No records match the selected filters."}):d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Time"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Page"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Location"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Device"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.sampleData.map((P,C)=>d.jsxs("tr",{className:"text-sm",children:[d.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-300",children:j(P.timestamp)}),d.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-300",children:P.page}),d.jsx("td",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:P.city&&P.country?`${P.city}, ${P.country}`:P.country||"Unknown"}),d.jsx("td",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:d.jsx("span",{className:"capitalize",children:P.deviceType})})]},P.id||C))})]}),r.count>10&&d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:["Showing first 10 of ",r.count," records"]})]})]}),p&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[d.jsx(cv,{className:"w-6 h-6 text-red-500"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Confirm Deletion"})]}),d.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Are you sure you want to delete ",r.count," analytics records? This action cannot be undone."]}),d.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[d.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:F,disabled:a,className:"bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-md transition-colors",children:a?"Deleting...":"Delete"})]})]})}),y&&d.jsx("div",{className:`border rounded-lg p-4 ${y.error?"border-red-300 bg-red-50 dark:bg-red-900/20 dark:border-red-500":"border-green-300 bg-green-50 dark:bg-green-900/20 dark:border-green-500"}`,children:d.jsxs("div",{className:"flex items-center space-x-2",children:[y.error?d.jsx(cv,{className:"w-5 h-5 text-red-500"}):d.jsx(Rf,{className:"w-5 h-5 text-green-500"}),d.jsx("div",{children:y.error?d.jsxs("p",{className:"text-red-700 dark:text-red-400 font-medium",children:["Error: ",y.error]}):d.jsxs("p",{className:"text-green-700 dark:text-green-400 font-medium",children:["Successfully deleted ",y.deletedCount," records"]})})]})})]})},r5=()=>{const[t,e]=R.useState(null),[n,r]=R.useState(!0),[i,s]=R.useState(30),[o,a]=R.useState(null);R.useEffect(()=>{c()},[i]);const c=async()=>{try{r(!0),a(null);const y=await Vn.getAnalyticsStats(i);e(y)}catch(y){a("Failed to load analytics data. Please check your Firebase configuration."),console.error("Analytics error:",y)}finally{r(!1)}},u=()=>{c()},h=y=>{if(!y)return"Unknown";let x;return y.toDate?x=y.toDate():y instanceof Date?x=y:x=new Date(y),x.toLocaleString()},p=({title:y,value:x,icon:E,color:S})=>d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border-l-4",style:{borderLeftColor:S},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:y}),d.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:x.toLocaleString()})]}),d.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${S}20`},children:m_.cloneElement(E,{className:"w-6 h-6",style:{color:S}})})]})}),m=({title:y,data:x,color:E})=>{const S=Math.max(...x.map(T=>T.value));return d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:y}),d.jsx("div",{className:"space-y-3",children:x.slice(0,5).map((T,v)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 truncate flex-1 mr-2",children:T.label}),d.jsxs("div",{className:"flex items-center flex-1",children:[d.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mr-2",children:d.jsx("div",{className:"h-2 rounded-full",style:{width:`${T.value/S*100}%`,backgroundColor:E}})}),d.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white min-w-[2rem]",children:T.value})]})]},v))})]})};return n?d.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),d.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading analytics..."})]})}):o?d.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-500 text-red-700 dark:text-red-400 px-4 py-3 rounded",children:[d.jsx("p",{className:"font-bold",children:"Error"}),d.jsx("p",{children:o})]}),d.jsx("button",{onClick:c,className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition-colors",children:"Retry"})]})}):t?d.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsx("div",{className:"mb-8",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Analytics Dashboard"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Website visitor analytics and insights"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("select",{value:i,onChange:y=>s(Number(y.target.value)),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[d.jsx("option",{value:7,children:"Last 7 days"}),d.jsx("option",{value:30,children:"Last 30 days"}),d.jsx("option",{value:90,children:"Last 90 days"}),d.jsx("option",{value:365,children:"Last year"})]}),d.jsxs("button",{onClick:c,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors flex items-center space-x-2",children:[d.jsx(W2,{className:"w-4 h-4"}),d.jsx("span",{children:"Refresh"})]})]})]})}),d.jsx(n5,{onDataDeleted:u}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[d.jsx(p,{title:"Total Page Views",value:t.totalVisitors,icon:d.jsx(PT,{}),color:"#3B82F6"}),d.jsx(p,{title:"Unique Visitors",value:t.uniqueVisitors,icon:d.jsx(Kc,{}),color:"#10B981"}),d.jsx(p,{title:"Countries",value:t.topCountries.length,icon:d.jsx(wm,{}),color:"#F59E0B"}),d.jsx(p,{title:"Device Types",value:t.deviceTypes.length,icon:d.jsx(ui,{}),color:"#8B5CF6"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[d.jsx(m,{title:"Top Pages",data:t.topPages.map(y=>({label:y.page,value:y.count})),color:"#3B82F6"}),d.jsx(m,{title:"Top Countries",data:t.topCountries.map(y=>({label:y.country,value:y.count})),color:"#10B981"}),d.jsx(m,{title:"Device Types",data:t.deviceTypes.map(y=>({label:y.type,value:y.count})),color:"#8B5CF6"}),d.jsx(m,{title:"Browsers",data:t.browsers.map(y=>({label:y.browser,value:y.count})),color:"#F59E0B"})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Visitors"})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(G2,{className:"w-4 h-4"}),d.jsx("span",{children:"Time"})]})}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Page"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(jT,{className:"w-4 h-4"}),d.jsx("span",{children:"Location"})]})}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Device"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Browser"})]})}),d.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.recentVisitors.slice(0,20).map((y,x)=>d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:h(y.timestamp)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:d.jsx("span",{className:"font-medium",children:y.page})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:y.city&&y.country?`${y.city}, ${y.country}`:y.country||"Unknown"}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:d.jsx("span",{className:"capitalize",children:y.deviceType})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:y.browser})]},y.id||x))})]})})]})]})}):d.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No analytics data available."})})},i5=()=>d.jsx(t5,{children:d.jsx(r5,{})}),s5=()=>{const t=Kr();return R.useEffect(()=>{(async()=>{const n=t.pathname+t.search;t.pathname!=="/analytics"&&await Vn.trackPageView(n)})()},[t]),{trackPageView:Vn.trackPageView.bind(Vn),getAnalyticsStats:Vn.getAnalyticsStats.bind(Vn)}};function o5(){return s5(),d.jsxs(d.Fragment,{children:[d.jsx(sP,{}),d.jsx(P2,{children:d.jsxs(Nt,{path:"/",element:d.jsx(iP,{}),children:[d.jsx(Nt,{index:!0,element:d.jsx(Pj,{})}),d.jsx(Nt,{path:"about",element:d.jsx(Nj,{})}),d.jsx(Nt,{path:"uses",element:d.jsx(Rj,{})}),d.jsx(Nt,{path:"experience",element:d.jsx(Vj,{})}),d.jsx(Nt,{path:"projects",element:d.jsx(Lj,{})}),d.jsx(Nt,{path:"blog",element:d.jsx(Oj,{})}),d.jsx(Nt,{path:"bookshelf",element:d.jsx(Fj,{})}),d.jsx(Nt,{path:"photography",element:d.jsx(Kj,{})}),d.jsx(Nt,{path:"reading-list",element:d.jsx(Qj,{})}),d.jsx(Nt,{path:"connect",element:d.jsx(Yj,{})}),d.jsx(Nt,{path:"analytics",element:d.jsx(i5,{})})]})})]})}vT(document.getElementById("root")).render(d.jsx(R.StrictMode,{children:d.jsx(O2,{children:d.jsx(o5,{})})}));
